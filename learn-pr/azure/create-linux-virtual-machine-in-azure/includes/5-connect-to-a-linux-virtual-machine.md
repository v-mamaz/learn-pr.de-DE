<span data-ttu-id="67317-101">Da nun ein virtueller Linux-Computer in Azure vorhanden ist, können Sie diesen für die Aufgaben konfigurieren, die in Azure ausgelagert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="67317-101">Now that we have a Linux VM in Azure, the next thing you’ll want to do is configure it for the tasks we want to move to Azure.</span></span>

<span data-ttu-id="67317-102">Ohne Site-to-Site-VPN für Azure kann allerdings nicht über Ihr lokales Netzwerk auf Ihre virtuellen Azure-Computer zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="67317-102">Unless you’ve set up a site-to-site VPN to Azure, your Azure VMs won’t be accessible from your local network.</span></span> <span data-ttu-id="67317-103">Wenn Sie sich gerade erst mit Azure vertraut machen, haben Sie wahrscheinlich noch kein Site-to-Site-VPN eingerichtet.</span><span class="sxs-lookup"><span data-stu-id="67317-103">If you’re just getting started with Azure, it’s unlikely that you have a working site-to-site VPN.</span></span> <span data-ttu-id="67317-104">Im Folgenden erfahren Sie daher, wie Sie eine Verbindung mit dem virtuellen Computer herstellen.</span><span class="sxs-lookup"><span data-stu-id="67317-104">So how can you connect to the virtual machine?</span></span>

## <a name="azure-vm-ip-addresses"></a><span data-ttu-id="67317-105">IP-Adressen der virtuellen Azure-Computer</span><span class="sxs-lookup"><span data-stu-id="67317-105">Azure VM IP addresses</span></span>

<span data-ttu-id="67317-106">Wie Sie bereits gesehen haben, kommunizieren virtuelle Azure-Computer über ein virtuelles Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="67317-106">As we saw a moment ago, Azure VMs communicate on a virtual network.</span></span> <span data-ttu-id="67317-107">Ihnen kann auch eine optionale öffentliche IP-Adresse zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="67317-107">They can also have an optional public IP address assigned to them.</span></span> <span data-ttu-id="67317-108">Eine öffentliche IP-Adresse ermöglicht die Interaktion mit dem virtuellen Computer über das Internet.</span><span class="sxs-lookup"><span data-stu-id="67317-108">With a public IP, we can interact with the VM over the Internet.</span></span> <span data-ttu-id="67317-109">Alternativ können Sie ein virtuelles privates Netzwerk (VPN) einrichten, das Ihr lokales Netzwerk mit Azure verbindet. So können Sie eine sichere Verbindung mit dem virtuellen Computer herstellen, ohne eine öffentliche IP-Adresse verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="67317-109">Alternatively, we can set up a virtual private network (VPN) that connects our on-premises network to Azure - letting us securely connect to the VM without exposing a public IP.</span></span> <span data-ttu-id="67317-110">Dieser Ansatz wird in einem anderen Modul behandelt und ist vollständig dokumentiert, sollten Sie sich für diese Option interessieren.</span><span class="sxs-lookup"><span data-stu-id="67317-110">This approach is covered in another module and is fully documented if you are interested in exploring that option.</span></span>

<span data-ttu-id="67317-111">Noch ein Hinweis: Öffentliche IP-Adressen werden in Azure häufig dynamisch zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="67317-111">One thing to be aware of with public IP addresses in Azure is they are often dynamically allocated.</span></span> <span data-ttu-id="67317-112">Das bedeutet, dass sich die IP-Adresse im Laufe der Zeit ändern kann. Bei virtuellen Computern geschieht das, wenn sie neu gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="67317-112">That means the IP address can change over time - for VMs, this happens when the VM is restarted.</span></span> <span data-ttu-id="67317-113">Sie können gegen Aufpreis statische Adressen zuweisen, wenn Sie eine direkte Verbindung mit einer IP-Adresse anstatt mit einem Namen herstellen möchten und sicherstellen müssen, dass sich die IP-Adresse nicht ändert.</span><span class="sxs-lookup"><span data-stu-id="67317-113">You can pay more to assign static addresses if you want to connect directly to an IP address instead of a name and need to ensure that the IP address will not change.</span></span>

## <a name="connect-to-an-azure-linux-vm-with-ssh"></a><span data-ttu-id="67317-114">Herstellen einer SSH-Verbindung mit einem virtuellen Linux-Computer in Azure</span><span class="sxs-lookup"><span data-stu-id="67317-114">Connect to an Azure Linux VM with SSH</span></span>

<span data-ttu-id="67317-115">Mit einem virtuellen Computer in Azure kann ganz einfach eine SSH-Verbindung hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="67317-115">Connecting to a VM in Azure using SSH is straightforward.</span></span> <span data-ttu-id="67317-116">Öffnen Sie im Azure-Portal die Eigenschaften Ihres virtuellen Computers, und klicken Sie im oberen Bereich auf **Verbinden**.</span><span class="sxs-lookup"><span data-stu-id="67317-116">In the Azure portal, open the properties of your VM, and at the top, click **Connect**.</span></span> <span data-ttu-id="67317-117">Dadurch werden die IP-Adressen, die dem virtuellen Computer zugewiesen sind, und die Anmeldeinformationen für SSH angezeigt.</span><span class="sxs-lookup"><span data-stu-id="67317-117">This will show you the IP addresses assigned to the VM along with all the login details for SSH.</span></span> 

![Screenshot des Azure-Portals mit dem Blatt „Connect to a virtual machine“ (Verbindung mit virtuellem Computer herstellen), das für die Herstellung einer SSH-Verbindung mit der neu erstellten Linux-VM konfiguriert ist](../media/5-connect-ssh.png)

<span data-ttu-id="67317-119">Mit diesen Angaben und dem folgenden Befehl können Sie eine Verbindung mit dem virtuellen Linux-Computer herstellen:</span><span class="sxs-lookup"><span data-stu-id="67317-119">With these details, we can use the following command to get into our Linux VM:</span></span>

```bash
ssh jim@137.117.101.249
```

<span data-ttu-id="67317-120">Bei der ersten Verbindungsherstellung macht uns das SSH-Tool auf die Authentifizierung bei einem unbekannten Host aufmerksam.</span><span class="sxs-lookup"><span data-stu-id="67317-120">The first time we connect, SSH will ask us about authenticating against an unknown host.</span></span> <span data-ttu-id="67317-121">Das SSH-Tool weist darauf hin, dass Sie noch nie eine Verbindung mit diesem Server hergestellt haben.</span><span class="sxs-lookup"><span data-stu-id="67317-121">SSH is telling you that you've never connected to this server before.</span></span> <span data-ttu-id="67317-122">Ist dies der Fall, ist alles in Ordnung, und Sie können mit **yes** (Ja) antworten, um den Fingerabdruck des Servers in der Datei mit den bekannten Hosts zu speichern:</span><span class="sxs-lookup"><span data-stu-id="67317-122">If that's true, then it's perfectly normal, and you can respond with **yes** to save the fingerprint of the server in the known host file:</span></span>

```output
The authenticity of host '137.117.101.249 (137.117.101.249)' can't be established.
ECDSA key fingerprint is SHA256:w1h08h4ie1iMq7ibIVSQM/PhcXFV7O7EEhjEqhPYMWY.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '137.117.101.249' (ECDSA) to the list of known hosts.
```

## <a name="transferring-files-to-the-vm"></a><span data-ttu-id="67317-123">Übertragen von Dateien an den virtuellen Computer</span><span class="sxs-lookup"><span data-stu-id="67317-123">Transferring files to the VM</span></span>

<span data-ttu-id="67317-124">Eine weitere allgemeine Aufgabe besteht darin, lokale Dateien oder Daten zwischen Servern zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="67317-124">Another common task is to copy local files or data from one server to another.</span></span> <span data-ttu-id="67317-125">In unserem Fall möchten wir letztendlich unsere Websitedaten auf unseren virtuellen Azure-Computer kopieren.</span><span class="sxs-lookup"><span data-stu-id="67317-125">In our case, we'll eventually want to copy our website data up to our Azure VM.</span></span> <span data-ttu-id="67317-126">Bei Verwendung von virtuellen Linux-Computern und SSH können wir den Befehl `scp` verwenden.</span><span class="sxs-lookup"><span data-stu-id="67317-126">With Linux VMs and SSH, we can use the `scp` command.</span></span> <span data-ttu-id="67317-127">Dieser Befehl ähnelt dem Befehl `cp` zum Kopieren lokaler Dateien. Sie müssen nun allerdings den Remotebenutzer und -host angeben.</span><span class="sxs-lookup"><span data-stu-id="67317-127">The command is similar to copying local files with `cp`, except you'll have to specify the remote user and host in your command.</span></span>

<span data-ttu-id="67317-128">Wenn Sie beispielsweise `somefile.txt` aus dem aktuellen Verzeichnis in `~/folder` auf dem Linux-Computer mit der IP-Adresse `192.168.1.25` kopieren möchten, können Sie Folgendes eingeben:</span><span class="sxs-lookup"><span data-stu-id="67317-128">For example, to copy `somefile.txt` from our current directory to `~/folder` on a Linux machine with the IP address `192.168.1.25`, you can type:</span></span>

```bash
scp somefile.txt someuser@192.168.1.25:~/folder/
```

<span data-ttu-id="67317-129">Dadurch wird `someuser` auf dem Remotesystem authentifiziert, und Sie werden dazu aufgefordert, Ihr Kennwort oder Ihren privaten SSH-Schlüssel einzugeben.</span><span class="sxs-lookup"><span data-stu-id="67317-129">This will authenticate as `someuser` on the remote system, prompting for a password, or using your SSH private key.</span></span> <span data-ttu-id="67317-130">Dieser Benutzer muss auf dem Zielserver über Schreibberechtigungen für `~/folder/` verfügen.</span><span class="sxs-lookup"><span data-stu-id="67317-130">That user will need to have write permissions to `~/folder/` on the destination server.</span></span>

> [!WARNING]
> <span data-ttu-id="67317-131">Sollte die Befehlszeile nicht ganz korrekt sein, kopiert `scp` die Dateien lokal.</span><span class="sxs-lookup"><span data-stu-id="67317-131">`scp` will do local file copies if you don't get the command line quite right.</span></span> <span data-ttu-id="67317-132">Meist fehlt der Zielordner.</span><span class="sxs-lookup"><span data-stu-id="67317-132">The most common missing piece is the destination folder.</span></span>

<span data-ttu-id="67317-133">Im Folgenden stellen Sie eine SSH-Verbindung mit dem ausgeführten virtuellen Linux-Computer her.</span><span class="sxs-lookup"><span data-stu-id="67317-133">Let's try using SSH to connect to our running Linux VM.</span></span>