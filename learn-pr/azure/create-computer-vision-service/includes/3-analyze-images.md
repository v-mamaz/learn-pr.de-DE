<span data-ttu-id="e6d48-101">In dieser Einheit analysieren Sie Bilder mit dem Maschinelles Sehen-API-Dienst, den wir im vorherigen Schritt erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="e6d48-101">In this unit, you will analyze images with the Computer Vision API service that we created in the previous step.</span></span>

# <a name="analyzing-an-image-with-computer-vision-api"></a><span data-ttu-id="e6d48-102">Analysieren eines Bilds mit der Maschinelles Sehen-API</span><span class="sxs-lookup"><span data-stu-id="e6d48-102">Analyzing an image with Computer Vision API</span></span>

<span data-ttu-id="e6d48-103">Führen Sie den Befehl `az cognitiveservices account keys list` aus, um einen Schlüssel zum Authentifizieren der API abzurufen.</span><span class="sxs-lookup"><span data-stu-id="e6d48-103">Execute the `az cognitiveservices account keys list` command to retrieve a key used to authenticate against the API.</span></span> <span data-ttu-id="e6d48-104">Speichern Sie die Ausgabe dieses Befehls in der Variablen `key`.</span><span class="sxs-lookup"><span data-stu-id="e6d48-104">Store the output of that command within the `key` variable.</span></span>

```azurecli
key=$(az cognitiveservices account keys list -g ComputerVisionRG --name ComputerVisionService --query key1 -o tsv)
```

<span data-ttu-id="e6d48-105">Führen Sie einen Befehl `curl` aus, um eine HTTP-Anforderung an die Maschinelles Sehen-API auszuführen und die zuvor deklarierte Variable `key` wiederzuverwenden.</span><span class="sxs-lookup"><span data-stu-id="e6d48-105">Execute a `curl` command to do an HTTP request against the Computer Vision API and reusing the previously declared variable `key`.</span></span>

<span data-ttu-id="e6d48-106">Die Parameter `visualFeatures`, `details` und `languages` werden an den Dienst gesendet.</span><span class="sxs-lookup"><span data-stu-id="e6d48-106">The parameters that are sent to the service are `visualFeatures`, `details`, and `languages`.</span></span> <span data-ttu-id="e6d48-107">Während der Dienst ohne sie weiterhin funktioniert, geben sie Hinweise zum Inhalt der Bilder.</span><span class="sxs-lookup"><span data-stu-id="e6d48-107">While without them, the service will still work, it provides hints to the service on the content of the images.</span></span> <span data-ttu-id="e6d48-108">Als Beispiel kann `details` auf `Landmarks` oder `Celebrities` festgelegt werden, um Sehenswürdigkeiten oder Prominente zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="e6d48-108">As an example, `details` can be set to `Landmarks` or `Celebrities` to help you identify landmark or celebrities.</span></span> <span data-ttu-id="e6d48-109">`visualFeatures` identifizieren, welche Art von Informationen der Dienst an Sie zurückgeben soll.</span><span class="sxs-lookup"><span data-stu-id="e6d48-109">`visualFeatures` identify what kind of information you want the service to return you.</span></span> <span data-ttu-id="e6d48-110">Die `Categories`-Option kategorisiert den Inhalt der Bilder, z.B. Bäume, Gebäude usw.</span><span class="sxs-lookup"><span data-stu-id="e6d48-110">`Categories` option will categorize the content of the images like trees, building, and more.</span></span> <span data-ttu-id="e6d48-111">`Faces` identifiziert die Gesichter von Personen und gibt ihr Geschlecht und Alter an.</span><span class="sxs-lookup"><span data-stu-id="e6d48-111">`Faces` will identify people's faces and give you their gender and age.</span></span>

<span data-ttu-id="e6d48-112">Weitere Informationen finden Sie in [der Dokumentation](https://westus.dev.cognitive.microsoft.com/docs/services/56f91f2d778daf23d8ec6739/operations/56f91f2e778daf14a499e1fa).</span><span class="sxs-lookup"><span data-stu-id="e6d48-112">More details can be found in [the documentation](https://westus.dev.cognitive.microsoft.com/docs/services/56f91f2d778daf23d8ec6739/operations/56f91f2e778daf14a499e1fa).</span></span>

<span data-ttu-id="e6d48-113">Lassen Sie uns vorerst Sehenswürdigkeiten identifizieren, indem der Dienst `Categories` und `Description` zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="e6d48-113">For now, let's identify landmarks and have the service return us `Categories` and `Description`.</span></span>

```azurecli
curl -H "Ocp-Apim-Subscription-Key: $key" -H "Content-Type: application/json" "https://westus2.api.cognitive.microsoft.com/vision/v1.0/analyze?visualFeatures=Categories,Description&details=Landmarks" -d "{\"url\":\"https://docs.microsoft.com/en-us/learn/modules/create-computer-vision-service/mountains.jpg\"}"
```

<span data-ttu-id="e6d48-114">Das Ergebnis der Anforderung sind JSON-Rohdaten, die das Bild in der `url` beschreiben.</span><span class="sxs-lookup"><span data-stu-id="e6d48-114">The result of the request is the raw JSON describing the picture in the `url`.</span></span> <span data-ttu-id="e6d48-115">Wir können auch ` | jq '.'` am Ende hinzufügen, um die JSON-Ausgabe zu optimieren.</span><span class="sxs-lookup"><span data-stu-id="e6d48-115">We can also add ` | jq '.'` at the end to prettify the JSON output.</span></span>

```azurecli
curl -H "Ocp-Apim-Subscription-Key: $key" -H "Content-Type: application/json" "https://westus2.api.cognitive.microsoft.com/vision/v1.0/analyze?visualFeatures=Categories,Description&details=Landmarks&language=en" -d "{\"url\":\"https://docs.microsoft.com/en-us/learn/modules/create-computer-vision-service/mountains.jpg\"}" | jq '.'
```

<span data-ttu-id="e6d48-116">Kopieren Sie den Link zu anderen online gefundenen Bildern, und testen Sie den Dienst, indem Sie die URL in den oben aufgeführten Befehlen ersetzen.</span><span class="sxs-lookup"><span data-stu-id="e6d48-116">Copy the link to any other images found online and try it with the service by replacing the URL in the above commands.</span></span>