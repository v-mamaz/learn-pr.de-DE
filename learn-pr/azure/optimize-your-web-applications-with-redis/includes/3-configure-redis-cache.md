<span data-ttu-id="4fc95-101">Ihr Sportstatistik-Entwicklungsteam hat entschieden, dass Zwischenspeichern die Leistung für zuletzt angeforderte Daten deutlich verbessern könnte.</span><span class="sxs-lookup"><span data-stu-id="4fc95-101">Your sports statistics development team has decided that caching could dramatically improve performance for recently requested data.</span></span> <span data-ttu-id="4fc95-102">Der nächste Schritt ist das Erstellen und Konfigurieren einer Azure Redis Cache-Instanz.</span><span class="sxs-lookup"><span data-stu-id="4fc95-102">Your next step is to create and configure an Azure Redis Cache instance.</span></span>

### <a name="create-and-configure-the-azure-redis-cache-instance"></a><span data-ttu-id="4fc95-103">Erstellen und Konfigurieren der Azure Redis Cache-Instanz</span><span class="sxs-lookup"><span data-stu-id="4fc95-103">Create and configure the Azure Redis Cache instance</span></span>

1. <span data-ttu-id="4fc95-104">Sie können eine Azure Redis Cache-Instanz aus den Datenbankressourcen im Azure-Portal hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="4fc95-104">You can add an Azure Redis Cache instance from the database resources in the Azure portal.</span></span>

1. <span data-ttu-id="4fc95-105">Geben Sie einen global eindeutigen Namen an.</span><span class="sxs-lookup"><span data-stu-id="4fc95-105">Provide a globally unique name.</span></span> <span data-ttu-id="4fc95-106">Der Name muss eine Zeichenfolge mit einer Länge zwischen 1 und 63 Zeichen sein und darf nur Zahlen, Buchstaben und das Zeichen „-“ enthalten.</span><span class="sxs-lookup"><span data-stu-id="4fc95-106">The name must be a string between 1 and 63 characters and include only numbers, letters, and the '-' character.</span></span> <span data-ttu-id="4fc95-107">Der Cachename darf weder mit dem Zeichen „-“ beginnen oder enden, noch mehrere aufeinanderfolgende Zeichen vom Typ „-“ enthalten.</span><span class="sxs-lookup"><span data-stu-id="4fc95-107">The cache name can't start or end with the '-' character, and consecutive '-' characters aren't valid.</span></span>

1. <span data-ttu-id="4fc95-108">Geben Sie das Abonnement an, unter dem diese neue Azure Redis Cache-Instanz erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="4fc95-108">Provide the subscription under which this new Azure Redis Cache instance is created.</span></span>

1. <span data-ttu-id="4fc95-109">Der Name der Ressourcengruppe, in der Ihr Cache erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="4fc95-109">Name the resource group in which to create your cache.</span></span> <span data-ttu-id="4fc95-110">Indem Sie alle Ressourcen für eine App in einer Gruppe zusammenfassen, können Sie sie zusammen verwalten.</span><span class="sxs-lookup"><span data-stu-id="4fc95-110">By putting all the resources for an app in a group, you can manage them together.</span></span>

1. <span data-ttu-id="4fc95-111">Wählen Sie einen Speicherort aus, der sich in der Nähe des Datennutzers befindet.</span><span class="sxs-lookup"><span data-stu-id="4fc95-111">Choose a location that is close to the consumer of the data.</span></span>

    > [!NOTE]
    > <span data-ttu-id="4fc95-112">Es ist viel wichtiger, dass der Cache sich in der Nähe des Datennutzers befindet, als der Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="4fc95-112">It's far more important that the cache is close to the data consumer than the data store.</span></span>

1. <span data-ttu-id="4fc95-113">Wählen Sie den Tarif aus.</span><span class="sxs-lookup"><span data-stu-id="4fc95-113">Select the pricing tier.</span></span> <span data-ttu-id="4fc95-114">Beachten Sie: Um den Vorteil der Datenpersistenz zu nutzen, müssen Sie einen Premium-Tarif auswählen.</span><span class="sxs-lookup"><span data-stu-id="4fc95-114">Remember, to take advantage of data persistence, you'll need to choose a premium tier.</span></span>

    - <span data-ttu-id="4fc95-115">Mit dem Premium-Tarif können Sie eine von zwei Möglichkeiten nutzen, Daten bei der Wiederherstellung im Notfall beizubehalten:</span><span class="sxs-lookup"><span data-stu-id="4fc95-115">The premium tier allows you to persist data in one of two ways to provide disaster recovery:</span></span>

        - <span data-ttu-id="4fc95-116">RDB-Persistenz erstellt regelmäßig eine Momentaufnahme und kann den Cache mit dieser Momentaufnahme bei einem Ausfall wiederherstellen.</span><span class="sxs-lookup"><span data-stu-id="4fc95-116">RDB persistence takes a periodic snapshot and can rebuild the cache using the snapshot in case of failure.</span></span>

            ![Screenshot des Azure-Portals mit den RDB-Persistenzoptionen auf einer neuen Redis Cache-Instanz.](../media/3-redis-persistence-1.png)

        - <span data-ttu-id="4fc95-118">AOF-Persistenz speichert jeden Schreibvorgang in einem Protokoll, das mindestens einmal pro Sekunde gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="4fc95-118">AOF persistence saves every write operation to a log that is saved at least once per second.</span></span> <span data-ttu-id="4fc95-119">Dabei entstehen größere Dateien als bei RDB, jedoch ist der Datenverlust geringer.</span><span class="sxs-lookup"><span data-stu-id="4fc95-119">This creates bigger files than RDB but has less data loss.</span></span>

            ![Screenshot des Azure-Portals mit den AOF-Persistenzoptionen auf einer neuen Redis Cache-Instanz.](../media/3-redis-persistence-2.png)

    - <span data-ttu-id="4fc95-121">Schützen Sie Ihren Cache mit einem virtuellen Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="4fc95-121">Secure your cache with a virtual network.</span></span>
      <span data-ttu-id="4fc95-122">Wenn Sie über einen Redis-Cache mit Premium-Tarif verfügen, können Sie ihn für ein virtuelles Netzwerk in der Cloud bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="4fc95-122">If you have a premium tier Redis cache, you can deploy it to a virtual network in the cloud.</span></span> <span data-ttu-id="4fc95-123">Der Cache wird nur für andere virtuelle Computer und Anwendungen in demselben virtuellen Netzwerk verfügbar sein.</span><span class="sxs-lookup"><span data-stu-id="4fc95-123">Your cache will be available to only other virtual machines and applications in the same virtual network.</span></span>

    - <span data-ttu-id="4fc95-124">Verteilen Sie Ihren Cache mit Clustering.</span><span class="sxs-lookup"><span data-stu-id="4fc95-124">Distribute your cache with clustering.</span></span>
      <span data-ttu-id="4fc95-125">Mit Redis-Cache mit Premium-Tarif können Sie Clustering implementieren, um Ihr Dataset automatisch zwischen mehreren Knoten aufzuteilen.</span><span class="sxs-lookup"><span data-stu-id="4fc95-125">With a premium tier Redis cache, you can implement clustering to automatically split your dataset among multiple nodes.</span></span> <span data-ttu-id="4fc95-126">Um Clustering zu implementieren, geben Sie eine maximale Anzahl von 10 Shards an.</span><span class="sxs-lookup"><span data-stu-id="4fc95-126">To implement clustering, you specify the number of shards to a maximum of 10.</span></span> <span data-ttu-id="4fc95-127">Die Kosten entsprechen den Kosten der ursprünglichen Knoten multipliziert mit der Anzahl von Shards.</span><span class="sxs-lookup"><span data-stu-id="4fc95-127">The cost is the cost of the original node multiplied by the number of shards.</span></span>

    - <span data-ttu-id="4fc95-128">Migrieren Sie von Azure Managed Cache Service.</span><span class="sxs-lookup"><span data-stu-id="4fc95-128">Migrate from Azure Managed Cache Service.</span></span>
      <span data-ttu-id="4fc95-129">Je nach den Features von Managed Cache Service, die Sie verwenden, sind zum Migrieren von Anwendungen, die Azure Managed Cache Service verwenden, zu Azure Redis Cache nur minimale Änderungen an der Anwendung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="4fc95-129">Depending on the Managed Cache Service features you use, migrating applications that use Azure Managed Cache Service to Azure Redis Cache can be accomplished with minimal changes to your application.</span></span> <span data-ttu-id="4fc95-130">Die APIs sind zwar nicht genau gleich, aber ähnlich.</span><span class="sxs-lookup"><span data-stu-id="4fc95-130">While the APIs aren't exactly the same, they're similar.</span></span> <span data-ttu-id="4fc95-131">Ein Großteil des vorhandenem Codes, der mit Managed Cache Service auf den Cache zugreift, kann mit minimalen Änderungen wiederverwendet werden.</span><span class="sxs-lookup"><span data-stu-id="4fc95-131">Much of your existing code that accesses the cache with Managed Cache Service can be reused with minimal changes.</span></span>

### <a name="configure-your-client"></a><span data-ttu-id="4fc95-132">Konfigurieren Ihres Clients</span><span class="sxs-lookup"><span data-stu-id="4fc95-132">Configure your client</span></span>

<span data-ttu-id="4fc95-133">Clientanwendungen müssen konfiguriert werden, um Redis-Cache zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="4fc95-133">Client applications need to be configured to use the Redis cache.</span></span> <span data-ttu-id="4fc95-134">Ein beliebter Hochleistungs-Redis-Client für die .NET-Sprache ist **StackExchange.Redis**.</span><span class="sxs-lookup"><span data-stu-id="4fc95-134">A popular high-performance Redis client for the .NET language is **StackExchange.Redis**.</span></span> <span data-ttu-id="4fc95-135">Sie fügen den Redis-Client mit dem **NuGet-Paket-Manager** in Visual Studio mithilfe des **Install-Package**-Befehls hinzu.</span><span class="sxs-lookup"><span data-stu-id="4fc95-135">You add the Redis client using the **NuGet Package Manager** in Visual Studio using the **Install-Package** command.</span></span>

<span data-ttu-id="4fc95-136">Sie müssen Ihren Client dann konfigurieren, um die Verbindung mit Ihrem Cache herzustellen.</span><span class="sxs-lookup"><span data-stu-id="4fc95-136">You then need to configure your client to connect to your cache.</span></span> <span data-ttu-id="4fc95-137">Erstellen Sie eine Textdatei mit einer **CONFIG**-Dateierweiterung, die die Einstellungen für den Hostnamen und den primären oder sekundären Schlüssel enthält.</span><span class="sxs-lookup"><span data-stu-id="4fc95-137">Create a text file with a **.config** file extension that contains the settings for the host name and primary, or secondary, key.</span></span> <span data-ttu-id="4fc95-138">Die Datei sollte die folgende Struktur aufweisen:</span><span class="sxs-lookup"><span data-stu-id="4fc95-138">The file should have the following structure:</span></span>

```XML
    <appSettings>
        <add key="CacheConnection" value="HOST-NAME.redis.cache.windows.net,abortConnect=false,ssl=true,password=PRIMARY-KEY"/>
    </appSettings>
```

<span data-ttu-id="4fc95-139">Bearbeiten Sie dann Ihre **App.config**-Datei, und aktualisieren Sie sie, sodass sie ein **appSettings**-Dateiattribut einschließt, das auf die Konfigurationsdatei verweist, die Sie gerade erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="4fc95-139">You will then edit your **App.config** file and update it to include an **appSettings** file attribute that references the config file that you just created.</span></span>

### <a name="what-are-access-keys"></a><span data-ttu-id="4fc95-140">Was sind Zugriffsschlüssel?</span><span class="sxs-lookup"><span data-stu-id="4fc95-140">What are access keys?</span></span>

<span data-ttu-id="4fc95-141">Wenn Sie eine Verbindung mit einer Azure Redis Cache-Instanz herstellen, benötigen Cacheclients den Hostnamen, die Ports und einen Schlüssel für den Cache.</span><span class="sxs-lookup"><span data-stu-id="4fc95-141">When connecting to an Azure Redis Cache instance, cache clients need the host name, ports, and a key for the cache.</span></span> <span data-ttu-id="4fc95-142">Diese Informationen können Sie im Azure-Portal abrufen.</span><span class="sxs-lookup"><span data-stu-id="4fc95-142">You can retrieve this information in the Azure portal.</span></span>

### <a name="connection-settings"></a><span data-ttu-id="4fc95-143">Verbindungseinstellungen</span><span class="sxs-lookup"><span data-stu-id="4fc95-143">Connection settings</span></span>

<span data-ttu-id="4fc95-144">Um eine Verbindung mit Ihrem Azure Redis Cache herzustellen, benötigen Sie den Hostnamen und den Zugriffsschlüssel.</span><span class="sxs-lookup"><span data-stu-id="4fc95-144">To connect to your Azure Redis Cache, you'll need the host name and access key.</span></span> <span data-ttu-id="4fc95-145">Der Hostname ist die Internetadresse Ihres Caches, z.B. *sportsresults.redis.cache.windows.net*.</span><span class="sxs-lookup"><span data-stu-id="4fc95-145">The host name is the internet address of your cache, for example *sportsresults.redis.cache.windows.net*.</span></span> <span data-ttu-id="4fc95-146">Der Zugriffsschlüssel fungiert als Kennwort für Ihren Cache.</span><span class="sxs-lookup"><span data-stu-id="4fc95-146">The access key acts as a password for your cache.</span></span> <span data-ttu-id="4fc95-147">Es gibt primäre und sekundäre Zugriffsschlüssel.</span><span class="sxs-lookup"><span data-stu-id="4fc95-147">There are primary and secondary access keys.</span></span> <span data-ttu-id="4fc95-148">Sie können beide Schlüssel verwenden, aber zwei werden bereitgestellt für den Fall, dass Sie den Primärschlüssel ändern müssen.</span><span class="sxs-lookup"><span data-stu-id="4fc95-148">You can use either key, but two are provided in case you need to change the primary key.</span></span> <span data-ttu-id="4fc95-149">Sie können den Wechsel aller Clients zum sekundären Schlüssel vornehmen und dann die Änderung des Primärschlüssels durchführen, was einen Verlust des Diensts verhindern würde.</span><span class="sxs-lookup"><span data-stu-id="4fc95-149">You can switch all of your clients to the secondary key and then make the change to the primary key, which would prevent any loss of service.</span></span>
