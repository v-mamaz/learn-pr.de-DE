<span data-ttu-id="08620-101">Vor-Ort-Vertriebspartner Ihrer Produkte scannen und laden Bilder von Ladenregalen hoch, die sie gerade auffüllen.</span><span class="sxs-lookup"><span data-stu-id="08620-101">Frontline distributors of your products scan and upload images of store shelves they're restocking.</span></span> <span data-ttu-id="08620-102">Als leitender Entwickler in Ihrem Unternehmen sind Sie für die Erstellung von Miniaturansichten der Bilder verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="08620-102">As a lead developer at your company, you are responsible for creating thumbnails of the images.</span></span> <span data-ttu-id="08620-103">Die Miniaturansichten werden in Onlineberichten verwendet, die Sie für das Vertriebsteam erstellen.</span><span class="sxs-lookup"><span data-stu-id="08620-103">The thumbnails are used in the online reports you create for the sales team.</span></span> <span data-ttu-id="08620-104">Vor kurzem hat der Vertriebsleiter mitgeteilt, dass die Bilder im Bericht verschwommen sind und oft nicht die Produktvorderseite und -mitte zeigen, was es schwierig macht, den großen Bericht zu durchsuchen.</span><span class="sxs-lookup"><span data-stu-id="08620-104">Recently, the sales manager said that the images in the report are blurry and often don't have the product front and center, making it difficult to scan the large report.</span></span> <span data-ttu-id="08620-105">Es liegt nun an Ihnen, die Situation verbessern.</span><span class="sxs-lookup"><span data-stu-id="08620-105">It's up to you to improve the situation.</span></span>

<span data-ttu-id="08620-106">Sie entscheiden sich, die Miniaturansicht-Generierungsfunktion der Maschinelles Sehen-API auszuprobieren.</span><span class="sxs-lookup"><span data-stu-id="08620-106">You decide to try the thumbnail generation feature of the Computer Vision API.</span></span> <span data-ttu-id="08620-107">Vielleicht kann sie die Aufgabe besser erledigen als die Größenänderungsfunktion, die Sie geschrieben haben.</span><span class="sxs-lookup"><span data-stu-id="08620-107">Perhaps it can do a better job than the resizing function you wrote.</span></span>

<span data-ttu-id="08620-108">Maschinelles Sehen generiert zunächst eine hochwertige Miniaturansicht und analysiert dann die Objekte im Bild, um den relevanten Bereich (Region Of Interest, ROI) zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="08620-108">Computer Vision first generates a high-quality thumbnail and then analyzes the objects within the image to determine the region of interest (ROI).</span></span> <span data-ttu-id="08620-109">Anschließend wird das Bild auf den relevanten Bereich zugeschnitten.</span><span class="sxs-lookup"><span data-stu-id="08620-109">Computer Vision then crops the image to fit the requirements of the region of interest.</span></span> <span data-ttu-id="08620-110">Das Seitenverhältnis der generierten Miniaturansicht kann sich bei Bedarf vom Seitenverhältnis des ursprünglichen Bilds unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="08620-110">The generated thumbnail can be presented using an aspect ratio that is different from the aspect ratio of the original image, depending on your needs.</span></span> <span data-ttu-id="08620-111">Sehen Sie sich die Anwendung in Aktion an.</span><span class="sxs-lookup"><span data-stu-id="08620-111">Let's see it in action.</span></span>

## <a name="calling-the-computer-vision-api-to-generate-a-thumbnail"></a><span data-ttu-id="08620-112">Aufrufen der Maschinelles Sehen-API zum Generieren von Miniaturansichten</span><span class="sxs-lookup"><span data-stu-id="08620-112">Calling the Computer Vision API to generate a thumbnail</span></span>

<span data-ttu-id="08620-113">Der `generateThumbnail`-Vorgang erstellt eine Miniaturansicht mit der vom Benutzer angegebenen Breite und Höhe.</span><span class="sxs-lookup"><span data-stu-id="08620-113">The `generateThumbnail` operation creates a thumbnail image with the user-specified width and height.</span></span> <span data-ttu-id="08620-114">Der Dienst analysiert das Bild standardmäßig, identifiziert den relevanten Bereich (Region of Interest, ROI) und generiert intelligente Zuschneidekoordinaten basierend auf dem relevanten Bereich.</span><span class="sxs-lookup"><span data-stu-id="08620-114">By default, the service analyzes the image, identifies the region of interest (ROI), and generates smart cropping coordinates based on the ROI.</span></span> <span data-ttu-id="08620-115">Intelligentes Zuschneiden ist hilfreich, wenn Sie ein Seitenverhältnis angeben, das sich vom Seitenverhältnis des Eingabebilds unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="08620-115">Smart cropping helps when you specify an aspect ratio that differs from aspect ratio of the input image.</span></span> <span data-ttu-id="08620-116">Die Anforderungs-URL weist das folgende Format auf:</span><span class="sxs-lookup"><span data-stu-id="08620-116">The request URL has the following format:</span></span>

`https://<region>.api.cognitive.microsoft.com/vision/v2.0/generateThumbnail?width=<...>&height=<...>&smartCropping=<...>`

<span data-ttu-id="08620-117">Verschiedene Parameter können der API zur Verfügung gestellt werden, um die richtige Miniaturansicht für Ihre Bedürfnisse zu generieren.</span><span class="sxs-lookup"><span data-stu-id="08620-117">Different parameters can be provided to the API to generate the proper thumbnail for your needs.</span></span> <span data-ttu-id="08620-118">Die `width`- und `height`-Parameter sind erforderlich.</span><span class="sxs-lookup"><span data-stu-id="08620-118">The `width` and `height` parameters are required.</span></span> <span data-ttu-id="08620-119">Sie informieren die API, welche Größe für ein bestimmtes Bild benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="08620-119">They tell the API which size you need for a specific image.</span></span> <span data-ttu-id="08620-120">Der Parameter `smartCropping` generiert einen intelligenteren Zuschnitt, indem der Bereich analysiert wird, der für Ihr Bild relevant ist, um diesen in der Miniaturansichten zu berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="08620-120">The `smartCropping` parameter generates smarter cropping by analyzing the region of interest in your image to keep it within the thumbnail.</span></span> <span data-ttu-id="08620-121">Wenn intelligentes Zuschneiden aktiviert ist, würde das zugeschnittene Profilbild das Gesicht einer Person beispielsweise im Bildrahmen enthalten, auch wenn das Bild ein anderes Seitenverhältnis aufweist.</span><span class="sxs-lookup"><span data-stu-id="08620-121">As an example, with smart cropping enabled, a cropped profile picture would keep someone's face within the picture frame even when the picture has a different aspect ratio.</span></span>

[!INCLUDE [get-key-note](./get-key.md)]

## <a name="generate-a-thumbnail"></a><span data-ttu-id="08620-122">Generieren von Miniaturansichten</span><span class="sxs-lookup"><span data-stu-id="08620-122">Generate a thumbnail</span></span>

<span data-ttu-id="08620-123">In diesem Beispiel wird das folgende Bild verwendet. Sie können den Befehl aber auch mit URLs zu anderen Bildern verwenden.</span><span class="sxs-lookup"><span data-stu-id="08620-123">We'll use the following image in this example, but you're free to try the same command with URLs to other images.</span></span>

![Bild eines weißen Hunds, der in grünem Gras sitzt.](../media/4-dog.png)

1. <span data-ttu-id="08620-125">Führen Sie in Azure Cloud Shell die folgenden Befehle aus.</span><span class="sxs-lookup"><span data-stu-id="08620-125">Execute the following commands in Azure Cloud Shell.</span></span> <span data-ttu-id="08620-126">Ersetzen Sie `<region>` im Befehl durch die Region Ihres Cognitive Services-Kontos.</span><span class="sxs-lookup"><span data-stu-id="08620-126">Replace `<region>` in the command with the region of your cognitive services account</span></span>

```azurecli
curl "https://<region>.api.cognitive.microsoft.com/vision/v2.0/generateThumbnail?width=100&height=100&smartCropping=true" \
-H "Ocp-Apim-Subscription-Key: $key" \
-H "Content-Type: application/json" \
-d "{'url' : 'https://raw.githubusercontent.com/MicrosoftDocs/mslearn-process-images-with-the-computer-vision-service/master/images/dog.png'}" \
-o  thumbnail.jpg
```

<span data-ttu-id="08620-127">In diesem Beispiel fordern wir den Dienst auf, eine Miniaturansicht zu erstellen, die 100 x 100 groß ist.</span><span class="sxs-lookup"><span data-stu-id="08620-127">In this example, we ask the service to create a thumbnail that is 100x100.</span></span> <span data-ttu-id="08620-128">Intelligentes Zuschneiden ist aktiviert.</span><span class="sxs-lookup"><span data-stu-id="08620-128">Smart cropping is enabled.</span></span> <span data-ttu-id="08620-129">Eine erfolgreiche Antwort enthält die Miniaturansicht-Binärdatei, die wir in eine Datei namens „thumbnail.jpg“ schreiben.</span><span class="sxs-lookup"><span data-stu-id="08620-129">A successful response contains the thumbnail image binary, which we write to a file called thumbnail.jpg.</span></span>

> [!CAUTION]
> <span data-ttu-id="08620-130">Der `-o`-Parameter leitet die Ausgabe in eine Datei um.</span><span class="sxs-lookup"><span data-stu-id="08620-130">The `-o` parameter redirects the output to a file.</span></span> <span data-ttu-id="08620-131">Die Datei wird immer überschrieben. Wenn Sie also während des Ausprobierens dieses Befehls mehrere Miniaturansichten beibehalten möchten, ändern Sie den Dateinamen.</span><span class="sxs-lookup"><span data-stu-id="08620-131">The file is always overwritten, so if you want to keep around  more than one thumbnail while trying this command, change the file name.</span></span>

## <a name="view-the-generated-thumbnail"></a><span data-ttu-id="08620-132">Anzeigen der generierten Miniaturansicht</span><span class="sxs-lookup"><span data-stu-id="08620-132">View the generated thumbnail</span></span>

<span data-ttu-id="08620-133">Die generierte Miniaturansicht befindet sich in Ihrem Azure Cloud Shell-Speicherkonto.</span><span class="sxs-lookup"><span data-stu-id="08620-133">The generated thumbnail will be found in your Azure Cloud Shell storage account.</span></span> <span data-ttu-id="08620-134">Wir haben die Datei **thumbnail.jpg** genannt.</span><span class="sxs-lookup"><span data-stu-id="08620-134">We named the file **thumbnail.jpg**.</span></span>

<span data-ttu-id="08620-135">Die Cloud Shell in Microsoft Learn bietet keine Möglichkeit, Dateien herunterzuladen, aber Sie können diese Anweisungen befolgen, um die Miniaturansicht über das Azure-Portal herunterzuladen.</span><span class="sxs-lookup"><span data-stu-id="08620-135">The Cloud Shell in Microsoft Learn doesn't have the ability to download files, but you can follow these instructions to download the thumbnail through the Azure portal.</span></span>

1. <span data-ttu-id="08620-136">Führen Sie die folgenden Befehle in Azure Cloud Shell aus, um zu bestätigen, dass die Datei **thumbnail.jpg** in Ihrem Basisordner vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="08620-136">Execute the following commands in Azure Cloud Shell to confirm that the file **thumbnail.jpg** exists in your home folder.</span></span>

    ```azurecli
    cd ~
    ls -l
    ```



1. <span data-ttu-id="08620-137">Führen Sie den folgenden Befehl zum Verschieben von `thumbnail.jpg` in den Ordner „clouddrive“ aus.</span><span class="sxs-lookup"><span data-stu-id="08620-137">Execute the following command to move `thumbnail.jpg` into the clouddrive folder.</span></span>

    ```azurecli
    mv ~/thumbnail.jpg ~/clouddrive
    ```
1. <span data-ttu-id="08620-138">Melden Sie sich am [Azure-Portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) mit demselben Konto an, über das Sie die Sandbox aktiviert haben.</span><span class="sxs-lookup"><span data-stu-id="08620-138">Sign into the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) using the same account you activated the sandbox with.</span></span>
1. <span data-ttu-id="08620-139">Wählen Sie im Bereich **Alle Ressourcen** des Portaldashboards das Speicherkonto aus, dessen Namen mit `cloudshell` beginnt.</span><span class="sxs-lookup"><span data-stu-id="08620-139">In the **All resources** panel of the portal dashboard, select the storage account with name beginning with `cloudshell`.</span></span>
1. <span data-ttu-id="08620-140">Wählen Sie im Speicherkontobereich **Storage-Explorer**, **DATEIFREIGABEN** und dann die Dateifreigabe in dieser Sammlung mit dem Namen aus, der mit **cloudshellfiles**\* beginnt.</span><span class="sxs-lookup"><span data-stu-id="08620-140">In the Storage account panel, select **Storage Explorer**, then **FILE SHARES** and then the file share in that collection with the name beginning with \*\*cloudshellfiles\*\*\*.</span></span>
1. <span data-ttu-id="08620-141">Wählen Sie die Datei *thunbnail.jpg* und dann **Herunterladen** im oberen Menü aus, um das Bild anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="08620-141">Select the *thunbnail.jpg* file and then **Download** from the top menu to see the image.</span></span>

<span data-ttu-id="08620-142">Der `generateThumbnail`-Vorgang ist ein leistungsstarker Miniaturansichtengenerator, der in der Lage ist, den relevanten Bereich (Region Of Interest, ROI) eines Bildes in der Miniaturansicht beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="08620-142">The `generateThumbnail` operation is a powerful thumbnail generator that is capable of keeping the Region Of Interest (ROI) of an image in the thumbnail.</span></span>

<span data-ttu-id="08620-143">Weitere Informationen zum `generateThumbnails`-Vorgang finden Sie in der Referenzdokumentation zu [Abrufen der Miniaturansicht](https://westus.dev.cognitive.microsoft.com/docs/services/5adf991815e1060e6355ad44/operations/56f91f2e778daf14a499e1fb).</span><span class="sxs-lookup"><span data-stu-id="08620-143">For more information about the `generateThumbnails` operation, see the [Get Thumbnail](https://westus.dev.cognitive.microsoft.com/docs/services/5adf991815e1060e6355ad44/operations/56f91f2e778daf14a499e1fb) reference documentation.</span></span>