<span data-ttu-id="e1f90-101">Als Netzwerkadministrator bei einem Unternehmen für Datenanalyse sind Sie für die Verbindungsherstellung mit virtuellen Computern in Azure verantwortlich und müssen überprüfen, ob diese ordnungsgemäß konfiguriert sind.</span><span class="sxs-lookup"><span data-stu-id="e1f90-101">As a network administrator at a data analysis company, you're responsible for connecting to virtual machines in Azure and checking that they're properly configured.</span></span> <span data-ttu-id="e1f90-102">Sie verwenden hierbei einen RDP-Client, um eine Verbindung mit der Windows-Desktopoberfläche der VMs herzustellen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-102">You do that using a Remote Desktop Protocol client to connect to the VM's Windows desktop UI.</span></span>

## <a name="what-is-the-remote-desktop-protocol"></a><span data-ttu-id="e1f90-103">Was ist das Remotedesktopprotokoll (RDP)?</span><span class="sxs-lookup"><span data-stu-id="e1f90-103">What is the Remote Desktop Protocol?</span></span>

<span data-ttu-id="e1f90-104">Das Remotedesktopprotokoll (RDP) bietet Remotekonnektivität mit der Benutzeroberfläche Windows-basierter Computer.</span><span class="sxs-lookup"><span data-stu-id="e1f90-104">Remote Desktop Protocol (RDP) provides remote connectivity to the UI of Windows-based computers.</span></span> <span data-ttu-id="e1f90-105">RDP ermöglicht es Ihnen, sich remote bei einem physischen oder virtuellen Windows-Computer anzumelden und diesen Computer so zu steuern, als ob Sie an der Konsole sitzen würden.</span><span class="sxs-lookup"><span data-stu-id="e1f90-105">RDP enables you to sign in to a remote physical or virtual Windows computer and control that computer as if you were seated at the console.</span></span>

> [!Note]
> <span data-ttu-id="e1f90-106">Windows Hyper-V in Windows Server 2016 und Windows 10 nutzen RDP, um eine Verbindung mit VMs herzustellen, die auf dem Hypervisor ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="e1f90-106">Windows Hyper-V in Windows Server 2016 and Windows 10 uses RDP to connect to virtual machines running on the hypervisor.</span></span>

<span data-ttu-id="e1f90-107">Eine RDP-Verbindung ermöglicht es Ihnen, die meisten Vorgänge auszuführen, die Sie über die Konsole eines physischen Computers durchführen können. Ausgenommen hiervon sind einige Funktionen in Bezug auf den Betriebszustand und die Hardware.</span><span class="sxs-lookup"><span data-stu-id="e1f90-107">An RDP connection enables you to carry out the vast majority of operations that you can do from the console of a physical computer, with the exception of some power and hardware-related functions.</span></span>

<span data-ttu-id="e1f90-108">Für eine RDP-Verbindung wird ein RDP-Client benötigt.</span><span class="sxs-lookup"><span data-stu-id="e1f90-108">An RDP connection requires an RDP client.</span></span> <span data-ttu-id="e1f90-109">Microsoft bietet RDP-Clients für die folgenden Betriebssysteme:</span><span class="sxs-lookup"><span data-stu-id="e1f90-109">Microsoft provides RDP clients for the following operating systems:</span></span>

* <span data-ttu-id="e1f90-110">Windows</span><span class="sxs-lookup"><span data-stu-id="e1f90-110">Windows</span></span>
* <span data-ttu-id="e1f90-111">iOS</span><span class="sxs-lookup"><span data-stu-id="e1f90-111">iOS</span></span>
* <span data-ttu-id="e1f90-112">MacOS</span><span class="sxs-lookup"><span data-stu-id="e1f90-112">MacOS</span></span>
* <span data-ttu-id="e1f90-113">Android</span><span class="sxs-lookup"><span data-stu-id="e1f90-113">Android</span></span>

<span data-ttu-id="e1f90-114">Es gibt auch Open Source-Linux-Clients, z.B. Remmina, mit denen Sie von einer Ubuntu-Distribution aus eine Verbindung mit einem Windows-PC herstellen können.</span><span class="sxs-lookup"><span data-stu-id="e1f90-114">There are also open-source Linux clients, such as Remmina that enable you to connect to a Windows PC from an Ubuntu distribution.</span></span>

<span data-ttu-id="e1f90-115">Windows 10 umfasst einen RDP-Client.</span><span class="sxs-lookup"><span data-stu-id="e1f90-115">Windows 10 includes an RDP client.</span></span>

![Windows-RDP-Client](../media-drafts/4-rdp-client.PNG)

## <a name="what-functionality-does-an-rdp-connection-support"></a><span data-ttu-id="e1f90-117">Welche Funktionalität unterstützt eine RDP-Verbindung?</span><span class="sxs-lookup"><span data-stu-id="e1f90-117">What functionality does an RDP connection support?</span></span>

<span data-ttu-id="e1f90-118">Mithilfe einer RDP-Verbindung können Sie mit der Benutzeroberfläche interagieren.</span><span class="sxs-lookup"><span data-stu-id="e1f90-118">With an RDP connection, you can interact with the UI.</span></span> <span data-ttu-id="e1f90-119">Sie können aber auch eine Verbindung mit anderen Diensten auf dem Remotecomputer herstellen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-119">However, you can also connect to other services on the remote computer.</span></span> <span data-ttu-id="e1f90-120">Zu diesen Diensten gehören:</span><span class="sxs-lookup"><span data-stu-id="e1f90-120">These services include:</span></span>

* <span data-ttu-id="e1f90-121">Druckerverbindungen: Sie ermöglichen dem Remotecomputer das Drucken auf Ihrem lokalen Druckgerät.</span><span class="sxs-lookup"><span data-stu-id="e1f90-121">Printer connections that enable the remote computer to print to your local print device.</span></span>
* <span data-ttu-id="e1f90-122">Audiowiedergabe: Die Wiedergabe kann entweder auf dem lokalen Computer oder auf dem Remotegerät erfolgen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-122">Audio playback, where audio can play either on the local computer or on the remote device.</span></span>
* <span data-ttu-id="e1f90-123">Audioaufzeichnung: Sie können eine Audioaufzeichnung auf dem lokalen Computer durchführen und die Ausgabe an das Remotegerät umleiten.</span><span class="sxs-lookup"><span data-stu-id="e1f90-123">Audio recording, where you can record audio from the local computer and direct that sound to the remote device.</span></span>
* <span data-ttu-id="e1f90-124">Ports: Sie können Ports an die Ports auf dem lokalen Computer umleiten.</span><span class="sxs-lookup"><span data-stu-id="e1f90-124">Ports, which you can redirect to the ports on the local computer.</span></span>
* <span data-ttu-id="e1f90-125">Laufwerke (zugeordnete Netzlaufwerke eingeschlossen): Laufwerke werden auf dem Remotecomputer als verbundene Laufwerke angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e1f90-125">Drives, including mapped network drives, where the drives will appear as connected to the remote computer.</span></span>
* <span data-ttu-id="e1f90-126">Geräte für die Videoaufzeichnung: z. B. integrierte Webcams.</span><span class="sxs-lookup"><span data-stu-id="e1f90-126">Video capture devices, such as integrated web cams.</span></span>
* <span data-ttu-id="e1f90-127">Andere unterstützte Plug&Play-Geräte.</span><span class="sxs-lookup"><span data-stu-id="e1f90-127">Other supported plug and play devices.</span></span>

<span data-ttu-id="e1f90-128">Nicht alle dieser Features werden in Azure unterstützt, weil für diese Plattform Einschränkungen in Bezug auf die verfügbaren physischen Assets gelten.</span><span class="sxs-lookup"><span data-stu-id="e1f90-128">Not all of these features are supported in Azure, as there are restrictions on what physical assets are available on that platform.</span></span> <span data-ttu-id="e1f90-129">Beispielsweise können über eine RDP-Verbindung von einer durch Azure gehosteten VM zu den Druckgeräten des verbundenen Clients nur Softwaredrucker umgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="e1f90-129">For example, only software printers can be redirected across an RDP connection from an Azure-hosted VM to the connecting client's print devices.</span></span>

## <a name="configure-network-settings-for-rdp-access-to-virtual-machines"></a><span data-ttu-id="e1f90-130">Konfigurieren von Netzwerkeinstellungen für den RDP-Zugriff auf virtuelle Computer</span><span class="sxs-lookup"><span data-stu-id="e1f90-130">Configure network settings for RDP access to virtual machines</span></span>

<span data-ttu-id="e1f90-131">Verbindungen mit Azure-VMs können auf drei Arten erfolgen:</span><span class="sxs-lookup"><span data-stu-id="e1f90-131">Connections to Azure VMs can be made in three ways:</span></span>

1. <span data-ttu-id="e1f90-132">Direkt über die öffentliche IP-Adresse der VM</span><span class="sxs-lookup"><span data-stu-id="e1f90-132">Directly to the public IP address of the VM.</span></span>
2. <span data-ttu-id="e1f90-133">Über eine VPN-Verbindung (Virtual Private Network, virtuelles privates Netzwerk)</span><span class="sxs-lookup"><span data-stu-id="e1f90-133">Through a virtual private network (VPN) connection.</span></span>
3. <span data-ttu-id="e1f90-134">Über eine ExpressRoute-Verbindung</span><span class="sxs-lookup"><span data-stu-id="e1f90-134">Through an ExpressRoute connection.</span></span>

<span data-ttu-id="e1f90-135">Eine öffentliche IP-Adresse kann entweder dauerhaft oder dynamisch zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="e1f90-135">A public IP address can be either permanently allocated or dynamic.</span></span> <span data-ttu-id="e1f90-136">Sie müssen außerdem sicherstellen, dass Sie Zugriff auf die öffentliche IP-Adresse der VM auf Port 3389 (RDP) besitzen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-136">You also need to ensure that you have access to the VM's public address on port 3389 (RDP).</span></span> <span data-ttu-id="e1f90-137">Für diese Bereitstellung müssen Sie sich möglicherweise an das Team für die Verwaltung der Firewallsicherheit Ihrer Organisation wenden, um eine Regel für die öffentliche IP-Adresse der VM auf Port 3389 einzurichten.</span><span class="sxs-lookup"><span data-stu-id="e1f90-137">This provision may require negotiation with the team that's managing your organization's firewall security, setting up a rule to your VM's public IP address on port 3389.</span></span>

<span data-ttu-id="e1f90-138">Dynamische öffentliche IP-Adressen werden bei jedem Neustart der VM neu zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-138">Dynamic public IP addresses are reallocated every time the VM restarts.</span></span> <span data-ttu-id="e1f90-139">Statische Adressen sind dauerhaft, aber teurer.</span><span class="sxs-lookup"><span data-stu-id="e1f90-139">Static addresses are persistent, but cost more.</span></span>

<span data-ttu-id="e1f90-140">Um die Verbindung über ein VPN herzustellen, muss Ihr lokales Netzwerk über eine aktive VPN-Verbindung mit Microsoft Azure verfügen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-140">To connect through a VPN, your local network must have an active VPN connection to Microsoft Azure.</span></span>

<span data-ttu-id="e1f90-141">Bei Verwendung einer ExpressRoute-Leitung wird die Konnektivität zur VM verwaltet.</span><span class="sxs-lookup"><span data-stu-id="e1f90-141">The ExpressRoute link approach manages connectivity to the VM.</span></span> <span data-ttu-id="e1f90-142">Dieser Ansatz bietet gleichzeitig die niedrigste Latenz und die Verbindung mit der höchsten Bandbreite.</span><span class="sxs-lookup"><span data-stu-id="e1f90-142">This approach also provides the lowest latency and highest bandwidth connection.</span></span>

> [!Note]
> <span data-ttu-id="e1f90-143">Unabhängig davon, welche Option Sie für die Verbindungsherstellung mit Azure verwenden, muss die VM über RDP verfügbar sein – typischerweise auf dem Standardport 3389.</span><span class="sxs-lookup"><span data-stu-id="e1f90-143">Regardless of which option you use to connect to Azure, you need to ensure the virtual machine is accessible over RDP, typically on the default port 3389.</span></span> <span data-ttu-id="e1f90-144">Sie können die VM so konfigurieren, dass nur von Ihrer eigenen Client-IP-Adresse darauf zugegriffen werden kann.</span><span class="sxs-lookup"><span data-stu-id="e1f90-144">You can configure the VM so it can be accessed only from your own client IP address.</span></span> <span data-ttu-id="e1f90-145">Die Verbindungsherstellung mit einer VM über Port 3389 für eine öffentliche IP-Adresse wird nur für Testumgebungen empfohlen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-145">Connecting to a VM over port 3389 on a public IP address is only recommended for test environments.</span></span> <span data-ttu-id="e1f90-146">Verwenden Sie in Produktionsumgebungen Option 2 oder 3.</span><span class="sxs-lookup"><span data-stu-id="e1f90-146">In production environments, use option 2 or 3.</span></span>

## <a name="how-do-you-connect-to-a-vm-in-azure-using-rdp"></a><span data-ttu-id="e1f90-147">Wie stelle ich über RDP eine Verbindung mit einer VM in Azure her?</span><span class="sxs-lookup"><span data-stu-id="e1f90-147">How do you connect to a VM in Azure using RDP?</span></span>

<span data-ttu-id="e1f90-148">Die Verbindungsherstellung mit einer VM in Azure über RDP ist ein einfacher Vorgang.</span><span class="sxs-lookup"><span data-stu-id="e1f90-148">Connecting to a VM in Azure using RDP is a simple process.</span></span> <span data-ttu-id="e1f90-149">Wechseln Sie im Azure-Portal zu den Eigenschaften Ihrer VM, und klicken Sie oben auf **Verbinden**.</span><span class="sxs-lookup"><span data-stu-id="e1f90-149">In the Azure portal, you go to the properties of your VM, and at the top, click **Connect**.</span></span> <span data-ttu-id="e1f90-150">Durch diese Aktion wird eine vorkonfigurierte RDP-Datei heruntergeladen, die Windows dann im RDP-Client öffnet.</span><span class="sxs-lookup"><span data-stu-id="e1f90-150">This action downloads a preconfigured .RDP file that Windows then opens in the RDP client.</span></span> <span data-ttu-id="e1f90-151">Sie können die Verbindung über die öffentliche IP-Adresse der VM in der RDP-Datei herstellen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-151">You can choose to connect over the public IP address of the VM in the RDP file.</span></span> <span data-ttu-id="e1f90-152">Wenn Sie die Verbindung per VPN oder ExpressRoute herstellen, können Sie alternativ die interne IP-Adresse auswählen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-152">Alternatively, if you're connecting over VPN or ExpressRoute, you can select the internal IP address.</span></span> <span data-ttu-id="e1f90-153">Sie können außerdem die Portnummer für die Verbindung festlegen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-153">You can also select the port number for the connection.</span></span>

<span data-ttu-id="e1f90-154">Wenn Sie für die VM eine statische öffentliche IP-Adresse verwenden, können Sie die RDP-Datei auf Ihrem Desktop speichern.</span><span class="sxs-lookup"><span data-stu-id="e1f90-154">If you're using a static public IP address for the VM, you can save the .RDP file to your desktop.</span></span> <span data-ttu-id="e1f90-155">Wenn Sie eine dynamische IP-Adressierung verwenden, ist die RDP-Datei nur während der Ausführung der VM gültig.</span><span class="sxs-lookup"><span data-stu-id="e1f90-155">If you're using dynamic IP addressing, the .RDP file only remains valid while the VM is running.</span></span> <span data-ttu-id="e1f90-156">Wenn Sie die VM beenden und neu starten, müssen Sie eine weitere RDP-Datei herunterladen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-156">If you stop and restart the VM, you must download another .RDP file.</span></span>

> [!Note]
> <span data-ttu-id="e1f90-157">Sie können die öffentliche IP-Adresse der VM auch im Windows RDP-Client eingeben und auf **Verbinden** klicken.</span><span class="sxs-lookup"><span data-stu-id="e1f90-157">You can also enter the public IP address of the VM into the Windows RDP client and click **Connect**.</span></span>

<span data-ttu-id="e1f90-158">Bei der Verbindungsherstellung werden typischerweise zwei Warnungen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e1f90-158">When you connect, you will typically receive two warnings.</span></span> <span data-ttu-id="e1f90-159">Dies sind:</span><span class="sxs-lookup"><span data-stu-id="e1f90-159">These are:</span></span>

* <span data-ttu-id="e1f90-160">Herausgeberwarnung: Diese Warnung wird verursacht, weil die RDP-Datei nicht öffentlich signiert ist.</span><span class="sxs-lookup"><span data-stu-id="e1f90-160">Publisher warning - caused by the .RDP file not being publicly signed.</span></span>
* <span data-ttu-id="e1f90-161">Zertifikatwarnung: Diese Warnung wird verursacht, weil das Computerzertifikat nicht als vertrauenswürdig eingestuft wird.</span><span class="sxs-lookup"><span data-stu-id="e1f90-161">Certificate warning - caused by the machine certificate not being trusted.</span></span>

<span data-ttu-id="e1f90-162">In Testumgebungen können diese Warnungen ignoriert werden.</span><span class="sxs-lookup"><span data-stu-id="e1f90-162">In test environments, these warnings can be ignored.</span></span> <span data-ttu-id="e1f90-163">In Produktionsumgebungen kann die RDP-Datei mithilfe von RDPSIGN.EXE signiert und das Computerzertifikat im Speicher **Vertrauenswürdige Stammzertifizierungsstellen** platziert werden.</span><span class="sxs-lookup"><span data-stu-id="e1f90-163">In production environments, the .RDP file could be signed using RDPSIGN.EXE and the machine certificate placed in the client's **Trusted Root Certification Authorities** store.</span></span>

## <a name="summary"></a><span data-ttu-id="e1f90-164">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="e1f90-164">Summary</span></span>

<span data-ttu-id="e1f90-165">Sie können jetzt über RDP eine Verbindung mit einer Windows-VM herstellen.</span><span class="sxs-lookup"><span data-stu-id="e1f90-165">Now you can connect to a Windows VM by using RDP.</span></span> <span data-ttu-id="e1f90-166">In der folgenden Übung verwenden Sie RDP zur Verbindungsherstellung mit einer VM und installieren dann eine Serverrolle auf diesem Computer.</span><span class="sxs-lookup"><span data-stu-id="e1f90-166">In the following exercise, you will use RDP to connect to a VM, then install a server role on that computer.</span></span>
