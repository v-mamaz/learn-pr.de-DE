<span data-ttu-id="40783-101">Es gibt viele Kommunikationsplattformen, die zur Verbesserung der Zuverlässigkeit einer verteilten Anwendung beitragen können, darunter auch mehrere innerhalb von Azure.</span><span class="sxs-lookup"><span data-stu-id="40783-101">There are many communications platforms that can help improve the reliability of a distributed application, including several within Azure.</span></span> <span data-ttu-id="40783-102">Jedes dieser Tools dient einem anderen Zweck, daher sehen wir uns hier einmal die einzelnen Tools in Azure an, um Sie bei der Wahl des richtigen Tools zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="40783-102">Each of these tools serves a different purpose; let's review each tool in Azure to help choose the right one.</span></span>

<span data-ttu-id="40783-103">Die Architektur unserer Bestell- und Nachverfolgungsanwendung für Pizza erfordert mehrere Komponenten: eine Website, Datenspeicherung, einen Back-End-Dienst usw. Wir können die Komponenten unserer Anwendung auf viele verschiedene Arten miteinander verbinden, und eine einzelne Anwendung kann mehrere Techniken nutzen.</span><span class="sxs-lookup"><span data-stu-id="40783-103">The architecture of our pizza ordering and tracking application requires several components: a website, data storage, back-end service, etc. We can bind the components of our application together in many different ways, and a single application can take advantage of multiple techniques.</span></span> 

<span data-ttu-id="40783-104">Wir müssen entscheiden, welche Techniken in der Contoso Slices-Anwendung verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="40783-104">We need to decide which techniques to use in the Contoso Slices application.</span></span> <span data-ttu-id="40783-105">Der erste Schritt besteht darin, jede Stelle auszuwerten, an der Kommunikation zwischen mehreren Bestandteilen stattfindet.</span><span class="sxs-lookup"><span data-stu-id="40783-105">The first step is to evaluate each place where there is communication between multiple parts.</span></span> <span data-ttu-id="40783-106">Einige Komponenten _müssen_ zeitnah ausgeführt werden, damit unsere Anwendung überhaupt ihre Arbeit verrichten kann.</span><span class="sxs-lookup"><span data-stu-id="40783-106">Some components _must_ run in a timely manner for our application to be doing its job at all.</span></span> <span data-ttu-id="40783-107">Andere sind zwar wichtig, aber nicht zeitkritisch.</span><span class="sxs-lookup"><span data-stu-id="40783-107">Some may be important, but not time-critical.</span></span> <span data-ttu-id="40783-108">Und wieder andere, wie etwa unsere Benachrichtigungen für mobile Apps, sind etwas optionaler.</span><span class="sxs-lookup"><span data-stu-id="40783-108">Finally, other components, like our mobile app notifications, are a bit more optional.</span></span>

<span data-ttu-id="40783-109">Hier erfahren Sie mehr über die in Azure verfügbaren Kommunikationsplattformen, sodass Sie für jede Anforderung in Ihrer Anwendung die richtige auswählen können.</span><span class="sxs-lookup"><span data-stu-id="40783-109">Here, you will learn about the communications platforms available in Azure, so that you can choose the right one for each requirement in your application.</span></span>

## <a name="decide-between-messages-and-events"></a><span data-ttu-id="40783-110">Entscheiden zwischen Nachrichten und Ereignissen</span><span class="sxs-lookup"><span data-stu-id="40783-110">Decide between messages and events</span></span>

<span data-ttu-id="40783-111">Nachrichten und Ereignisse sind beides **Datagramme**: Pakete von Daten, die von einer Komponente an eine andere gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="40783-111">Messages and events are both **datagrams**: packages of data sent from one component to another.</span></span> <span data-ttu-id="40783-112">Sie unterscheiden sich auf eine Art und Weise, die zunächst subtil erscheint, aber erhebliche Unterschiede dabei bewirken kann, wie Sie Ihre Anwendung gestalten.</span><span class="sxs-lookup"><span data-stu-id="40783-112">They are different in ways that at first seem subtle, but can make significant differences in how you architect your application.</span></span>

### <a name="messages"></a><span data-ttu-id="40783-113">Nachrichten</span><span class="sxs-lookup"><span data-stu-id="40783-113">Messages</span></span>

<span data-ttu-id="40783-114">In der Terminologie verteilter Anwendungen ist das bestimmende Merkmal einer Nachricht, dass die allgemeine Integrität der Anwendung davon abhängen kann, dass Nachrichten empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="40783-114">In the terminology of distributed applications, the defining characteristic of a message is that the overall integrity of the application may rely on messages being received.</span></span> <span data-ttu-id="40783-115">Sie können sich das Senden einer Nachricht so vorstellen, dass eine Komponente den Staffelstab eines Workflows an eine andere Komponente übergibt.</span><span class="sxs-lookup"><span data-stu-id="40783-115">You can think of sending a message as one component passing the baton of a workflow to a different component.</span></span> <span data-ttu-id="40783-116">Der gesamte Workflow kann ein wichtiger Geschäftsprozess sein, und die Nachricht ist der Mörtel, der die Komponenten zusammenhält.</span><span class="sxs-lookup"><span data-stu-id="40783-116">The entire workflow may be a vital business process, and the message is the mortar that holds the components together.</span></span>

<span data-ttu-id="40783-117">Eine Nachricht enthält im Allgemeinen die Daten selbst, nicht nur einen Verweis auf Daten (etwa eine ID oder URL).</span><span class="sxs-lookup"><span data-stu-id="40783-117">A message generally contains the data itself, not just a reference (like an ID or URL) to data.</span></span> <span data-ttu-id="40783-118">Das Senden der Daten als Teil des Datagramms ist weniger fehleranfällig als das Senden eines Verweises.</span><span class="sxs-lookup"><span data-stu-id="40783-118">Sending the data as part of the datagram is less brittle than sending a reference.</span></span> <span data-ttu-id="40783-119">Die Messagingarchitektur garantiert die Zustellung der Nachricht, und da keine zusätzlichen Nachschlagevorgänge erforderlich sind, wird die Nachricht zuverlässig verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="40783-119">The messaging architecture guarantees delivery of the message, and because no additional lookups are required, the message is reliably handled.</span></span> <span data-ttu-id="40783-120">Die sendende Anwendung muss jedoch genau wissen, welche Daten enthalten sein müssen, um nicht zu viele Daten zu senden, wodurch die empfangende Komponente gezwungen wäre, unnötige Arbeiten auszuführen.</span><span class="sxs-lookup"><span data-stu-id="40783-120">However, the sending application needs to know exactly what data to include, to avoid sending too much data, which requires the receiving component to do unnecessary work.</span></span> <span data-ttu-id="40783-121">In diesem Sinne sind Sender und Empfänger einer Nachricht oft durch einen strengen Datenvertrag verbunden.</span><span class="sxs-lookup"><span data-stu-id="40783-121">In this sense, the sender and receiver of a message are often coupled by a strict data contract.</span></span>

<span data-ttu-id="40783-122">In der neuen Architektur von Contoso Slices würden bei der Eingabe einer Pizzabestellung wahrscheinlich Nachrichten verwendet.</span><span class="sxs-lookup"><span data-stu-id="40783-122">In Contoso Slices new architecture, when a pizza order is entered, they would likely use messages.</span></span> <span data-ttu-id="40783-123">Das Web-Front-End oder eine mobile App würde eine Nachricht an die Back-End-Verarbeitungskomponenten senden.</span><span class="sxs-lookup"><span data-stu-id="40783-123">The web front end or mobile app would send a message to the back-end processing components.</span></span> <span data-ttu-id="40783-124">In den Back-End-Schritten würden beispielsweise die Weiterleitung an eine Filiale in der Nähe des Kunden und die Belastung der Kreditkarte stattfinden.</span><span class="sxs-lookup"><span data-stu-id="40783-124">In the back end, steps like routing to the store near the customer and charging the credit card would take place.</span></span>

### <a name="events"></a><span data-ttu-id="40783-125">Ereignisse</span><span class="sxs-lookup"><span data-stu-id="40783-125">Events</span></span>

<span data-ttu-id="40783-126">Ein Ereignis löst eine Benachrichtigung darüber aus, dass etwas passiert ist.</span><span class="sxs-lookup"><span data-stu-id="40783-126">An event triggers notification that something has occurred.</span></span> <span data-ttu-id="40783-127">Ereignisse sind einfacher als Nachrichten und werden am häufigsten für die Broadcastkommunikation verwendet.</span><span class="sxs-lookup"><span data-stu-id="40783-127">Events are "lighter" than messages and are most often used for broadcast communications.</span></span>

<span data-ttu-id="40783-128">Ereignisse weisen folgende Merkmale auf:</span><span class="sxs-lookup"><span data-stu-id="40783-128">Events have the following characteristics:</span></span>

* <span data-ttu-id="40783-129">Das Ereignis kann an mehrere Empfänger oder an gar keine Empfänger gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="40783-129">The event may be sent to multiple receivers, or to none at all</span></span>
* <span data-ttu-id="40783-130">Ereignisse sollen sich meist „weit verbreiten“ oder weisen eine große Anzahl von Abonnenten für jeden Herausgeber auf.</span><span class="sxs-lookup"><span data-stu-id="40783-130">Events are often intended to "fan out," or have a large number of subscribers for each publisher</span></span>
* <span data-ttu-id="40783-131">Der Herausgeber des Ereignisses hat keine Erwartungen hinsichtlich der Aktion, die eine empfangende Komponente ausführt.</span><span class="sxs-lookup"><span data-stu-id="40783-131">The publisher of the event has no expectation about the action a receiving component takes</span></span>

<span data-ttu-id="40783-132">Unsere Pizzakette würde wahrscheinlich Ereignisse verwenden, um Benutzer mittels Benachrichtigungen über Statusänderungen zu informieren.</span><span class="sxs-lookup"><span data-stu-id="40783-132">Our pizza chain would likely use events for notifications to users about status changes.</span></span> <span data-ttu-id="40783-133">Die Statusänderungsereignisse könnten an Azure Event Grid, dann an Azure Functions und anschließend an Azure Notification Hubs gesendet werden, um eine vollständig _serverlose_ Lösung zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="40783-133">Status change events could be sent to Azure Event Grid, then on to Azure Functions, and to Azure Notification Hubs for a completely _serverless_ solution.</span></span>

<span data-ttu-id="40783-134">Hierbei handelt es sich um einen wesentlichen Unterschied zwischen Ereignissen und Nachrichten, da Kommunikationsplattformen in der Regel entweder Ereignisse oder Nachrichten verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="40783-134">This difference between events and messages is fundamental because communications platforms are generally designed to handle one or the other.</span></span> <span data-ttu-id="40783-135">Service Bus wurde für die Verarbeitung von Nachrichten entwickelt.</span><span class="sxs-lookup"><span data-stu-id="40783-135">Service Bus is designed to handle messages.</span></span> <span data-ttu-id="40783-136">Wenn Sie Ereignisse senden möchten, würden Sie sich wahrscheinlich für Event Grid entscheiden.</span><span class="sxs-lookup"><span data-stu-id="40783-136">If you want to send events, you would likely choose Event Grid.</span></span>

<span data-ttu-id="40783-137">Azure verfügt zwar auch über Azure Event Hubs, diese Lösung wird jedoch am häufigsten für eine bestimmte Art von Kommunikation mit hohem Datenfluss für Analysen verwendet.</span><span class="sxs-lookup"><span data-stu-id="40783-137">Azure also has Azure Event Hubs, but it is most often used for a specific type of high-flow stream of communications used for analytics.</span></span> <span data-ttu-id="40783-138">Wenn unsere Pizzaöfen beispielsweise mit vernetzten Sensoren ausgestattet wären, könnten wir Event Hubs in Verbindung mit Azure Stream Analytics verwenden, um nach Mustern bei Temperaturänderungen zu suchen, die auf einen unerwünschten Brand oder Komponentenverschleiß hindeuten.</span><span class="sxs-lookup"><span data-stu-id="40783-138">For example, if we had networked sensors on our pizza ovens, we could use Event Hubs coupled with Azure Stream Analytics to watch for patterns in the temperature changes that might indicate an unwanted fire or component wear.</span></span>

## <a name="service-bus-topics-queues-and-relays"></a><span data-ttu-id="40783-139">Service Bus-Themen, -Warteschlangen und -Relays</span><span class="sxs-lookup"><span data-stu-id="40783-139">Service Bus topics, queues, and relays</span></span>

<span data-ttu-id="40783-140">Azure Service Bus kann Nachrichten auf drei verschiedene Arten austauschen: über Warteschlangen, Themen und Relays.</span><span class="sxs-lookup"><span data-stu-id="40783-140">Azure Service Bus can exchange messages in three different ways: queues, topics, and relays.</span></span>

### <a name="what-is-a-queue"></a><span data-ttu-id="40783-141">Was ist eine Warteschlange?</span><span class="sxs-lookup"><span data-stu-id="40783-141">What is a queue?</span></span>

<span data-ttu-id="40783-142">Eine **Warteschlange** ist ein einfacher temporärer Speicherort für Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="40783-142">A **queue** is a simple temporary storage location for messages.</span></span> <span data-ttu-id="40783-143">Eine sendende Komponente fügt der Warteschlange eine Nachricht hinzu.</span><span class="sxs-lookup"><span data-stu-id="40783-143">A sending component adds a message to the queue.</span></span> <span data-ttu-id="40783-144">Eine Zielkomponente ruft die Nachricht am Anfang der Warteschlange ab.</span><span class="sxs-lookup"><span data-stu-id="40783-144">A destination component picks up the message at the front of the queue.</span></span> <span data-ttu-id="40783-145">Unter normalen Umständen wird jede Nachricht von nur einem Empfänger empfangen.</span><span class="sxs-lookup"><span data-stu-id="40783-145">Under ordinary circumstances, each message is received by only one receiver.</span></span>

![Azure Service Bus-Warteschlange](../media/2-service-bus-queue.png)

<span data-ttu-id="40783-147">Warteschlangen entkoppeln die Quell- und Zielkomponenten, um die Zielkomponenten von hohen Anforderungen zu isolieren.</span><span class="sxs-lookup"><span data-stu-id="40783-147">Queues decouple the source and destination components to insulate destination components from high demand.</span></span> 

<span data-ttu-id="40783-148">In Spitzenzeiten können Nachrichten schneller eintreffen, als die Zielkomponenten sie verarbeiten können.</span><span class="sxs-lookup"><span data-stu-id="40783-148">During peak times, messages may come in faster than destination components can handle them.</span></span> <span data-ttu-id="40783-149">Da Quellkomponenten nicht direkt mit dem Ziel verbunden sind, ist die Quelle nicht betroffen, und die Warteschlange wächst.</span><span class="sxs-lookup"><span data-stu-id="40783-149">Because source components have no direct connection to the destination, the source is unaffected and the queue will grow.</span></span> <span data-ttu-id="40783-150">Zielkomponenten entfernen Nachrichten aus der Warteschlange, sobald sie in der Lage sind, diese zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="40783-150">Destination components will remove messages from the queue as they are able to handle them.</span></span> <span data-ttu-id="40783-151">Wenn die Anforderungen abnehmen, können die Zielkomponenten aufholen, und die Warteschlange verkürzt sich.</span><span class="sxs-lookup"><span data-stu-id="40783-151">When demand drops, destination components can catch up and the queue shortens.</span></span>

<span data-ttu-id="40783-152">Eine Warteschlange reagiert auf diese Weise auf hohe Anforderungen, ohne dass dem System Ressourcen hinzugefügt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="40783-152">A queue responds to high demand like this without needing to add resources to the system.</span></span> <span data-ttu-id="40783-153">Bei Nachrichten, die relativ schnell verarbeitet werden müssen, kann das Hinzufügen zusätzlicher Instanzen Ihrer Zielkomponente jedoch dazu führen, dass diese die Last teilen können.</span><span class="sxs-lookup"><span data-stu-id="40783-153">However, for messages that need to be handled relatively quickly, adding additional instances of your destination component can allow them to share the load.</span></span> <span data-ttu-id="40783-154">Jede Nachricht würde nur von einer Instanz verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="40783-154">Each message would be handled by only one instance.</span></span> <span data-ttu-id="40783-155">Dies ist eine effiziente Möglichkeit, Ihre gesamte Anwendung zu skalieren und dabei nur Ressourcen für die Komponenten hinzuzufügen, die diese tatsächlich benötigen.</span><span class="sxs-lookup"><span data-stu-id="40783-155">This is an effective way to scale your entire application while only adding resources to the components that actually need it.</span></span>

### <a name="what-is-a-topic"></a><span data-ttu-id="40783-156">Was ist ein Thema?</span><span class="sxs-lookup"><span data-stu-id="40783-156">What is a topic?</span></span>

<span data-ttu-id="40783-157">Ein **Thema** ähnelt einer Warteschlange, kann jedoch über mehrere Abonnements verfügen.</span><span class="sxs-lookup"><span data-stu-id="40783-157">A **topic** is similar to a queue but can have multiple subscriptions.</span></span> <span data-ttu-id="40783-158">Dies bedeutet, dass mehrere Zielkomponenten ein einzelnes Thema abonnieren können, sodass jede Nachricht an mehrere Empfänger übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="40783-158">This means that multiple destination components can subscribe to a single topic, so each message is delivered to multiple receivers.</span></span> <span data-ttu-id="40783-159">Abonnements können die Nachrichten im Thema auch filtern, um nur Nachrichten zu empfangen, die relevant sind.</span><span class="sxs-lookup"><span data-stu-id="40783-159">Subscriptions can also filter the messages in the topic to receive only messages that are relevant.</span></span> <span data-ttu-id="40783-160">Abonnements bieten die gleiche entkoppelten Kommunikation wie Warteschlangen und reagieren auf die gleiche Weise auf hohe Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="40783-160">Subscriptions provide the same decoupled communications as queues and respond to high demand in the same way.</span></span> <span data-ttu-id="40783-161">Verwenden Sie ein Thema, wenn jede Nachricht an mehrere Zielkomponenten übermittelt werden soll.</span><span class="sxs-lookup"><span data-stu-id="40783-161">Use a topic if you want each message to be delivered to more than one destination component.</span></span>

<span data-ttu-id="40783-162">Themen werden für den Basic-Tarif nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="40783-162">Topics are not supported in the Basic pricing tier.</span></span>

![Azure Service Bus-Thema](../media/2-service-bus-topic.png)

### <a name="what-is-a-relay"></a><span data-ttu-id="40783-164">Was ist ein Relay?</span><span class="sxs-lookup"><span data-stu-id="40783-164">What is a relay?</span></span>

<span data-ttu-id="40783-165">Ein **Relay** ist ein Objekt für die synchrone bidirektionale Kommunikation zwischen Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="40783-165">A **relay** is an object that performs synchronous, two-way communication between applications.</span></span> <span data-ttu-id="40783-166">Es ist kein temporärer Speicherort für Nachrichten wie Warteschlangen und Themen.</span><span class="sxs-lookup"><span data-stu-id="40783-166">It is not a temporary storage location for messages like queues and topics.</span></span> <span data-ttu-id="40783-167">Stattdessen stellt es bidirektionale, ungepufferte Verbindungen über Netzwerkgrenzen hinweg bereit. (Ein Beispiel für eine Netzwerkgrenze wäre etwa eine Firewall.)</span><span class="sxs-lookup"><span data-stu-id="40783-167">Instead, it provides bidirectional, unbuffered connections across network boundaries such as firewalls.</span></span> <span data-ttu-id="40783-168">Verwenden Sie ein Relay, wenn Sie eine direkte Kommunikation zwischen Komponenten benötigen, als befänden sie sich im gleichen Netzwerksegment, obwohl sie durch Netzwerksicherheitsgeräte getrennt sind.</span><span class="sxs-lookup"><span data-stu-id="40783-168">Use a relay when you want direct communications between components as if they were located on the same network segment but separated by network security devices.</span></span>

> [!NOTE]
> <span data-ttu-id="40783-169">Relays sind zwar Teil von Azure Service Bus, implementieren aber keine lose gekoppelten Messagingworkflows und werden in diesem Modul nicht weiter berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="40783-169">Although relays are part of Azure Service Bus, they do not implement loosely coupled messaging workflows and are not considered further in this module.</span></span>

## <a name="service-bus-queues-and-storage-queues"></a><span data-ttu-id="40783-170">Service Bus-Warteschlangen und Speicherwarteschlangen</span><span class="sxs-lookup"><span data-stu-id="40783-170">Service Bus queues and storage queues</span></span>

<span data-ttu-id="40783-171">Es gibt zwei Azure-Features, die Nachrichtenwarteschlangen enthalten: Service Bus und Azure Storage-Konten.</span><span class="sxs-lookup"><span data-stu-id="40783-171">There are two Azure features that include message queues: Service Bus and Azure Storage accounts.</span></span> <span data-ttu-id="40783-172">Im Allgemeinen sind Speicherwarteschlangen einfacher zu verwenden, aber weniger komplex und flexibel als Service Bus-Warteschlangen.</span><span class="sxs-lookup"><span data-stu-id="40783-172">As a general guide, storage queues are simpler to use but are less sophisticated and flexible than Service Bus queues.</span></span>

<span data-ttu-id="40783-173">Zu den wichtigsten Vorteilen von Service Bus-Warteschlangen zählen folgende:</span><span class="sxs-lookup"><span data-stu-id="40783-173">Key advantages of Service Bus queues include:</span></span>

* <span data-ttu-id="40783-174">Sie unterstützen größeren Nachrichten (256 KB pro Nachricht im Vergleich zu 64 KB).</span><span class="sxs-lookup"><span data-stu-id="40783-174">Supports larger messages size (256 KB per message versus 64 KB)</span></span>
* <span data-ttu-id="40783-175">Sie unterstützen die Übermittlungstypen „At-Least-Once“ (mindestens ein Mal) und „At-Most-Once“ (höchstens ein Mal). Sie haben also die Wahl, ob Sie sich bestmöglich gegen den Verlust einer Nachricht oder gegen eine doppelte Verarbeitung einer Nachricht absichern möchten.</span><span class="sxs-lookup"><span data-stu-id="40783-175">Supports both at-least-once and at-most-once delivery - choose between a very small chance that a message is lost or a very small chance it is handled twice</span></span>
* <span data-ttu-id="40783-176">Sie garantieren die **FIFO-Reihenfolge (First-In-First-Out)**: Nachrichten werden in der Reihenfolge verarbeitet, in der sie hinzugefügt wurden. (FIFO ist zwar der normale Betriebsmodus einer Warteschlange, er wird jedoch nicht für jede Nachricht garantiert.)</span><span class="sxs-lookup"><span data-stu-id="40783-176">Guarantees **first-in-first-out (FIFO)** order - messages are handled in the same order they are added (although FIFO is the normal operation of a queue, it is not guaranteed for every message)</span></span>
* <span data-ttu-id="40783-177">Sie können mehrere Nachrichten zu einer Transaktion gruppieren: Wenn eine Nachricht in der Transaktion nicht übermittelt werden kann, wird keine der Nachrichten in der Transaktion übermittelt.</span><span class="sxs-lookup"><span data-stu-id="40783-177">Can group multiple messages into a transaction - if one message in the transaction fails to be delivered, all messages in the transaction will not be delivered</span></span>
* <span data-ttu-id="40783-178">Sie unterstützen rollenbasierte Sicherheit.</span><span class="sxs-lookup"><span data-stu-id="40783-178">Supports role-based security</span></span>
* <span data-ttu-id="40783-179">Sie erfordern nicht, dass Zielkomponenten die Warteschlange kontinuierlich abfragen.</span><span class="sxs-lookup"><span data-stu-id="40783-179">Does not require destination components to continuously poll the queue</span></span>

<span data-ttu-id="40783-180">Vorteile von Speicherwarteschlangen:</span><span class="sxs-lookup"><span data-stu-id="40783-180">Advantages of storage queues:</span></span>

* <span data-ttu-id="40783-181">Sie unterstützen eine unbegrenzte Warteschlangengröße (im Gegensatz zum Grenzwert von 80 GB bei Service Bus-Warteschlangen).</span><span class="sxs-lookup"><span data-stu-id="40783-181">Supports unlimited queue size (versus 80-GB limit for Service Bus queues)</span></span>
* <span data-ttu-id="40783-182">Sie pflegen ein Protokoll aller Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="40783-182">Maintains a log of all messages</span></span>

## <a name="how-to-choose-a-communications-technology"></a><span data-ttu-id="40783-183">Auswählen einer Kommunikationstechnologie</span><span class="sxs-lookup"><span data-stu-id="40783-183">How to choose a communications technology</span></span>

<span data-ttu-id="40783-184">Wir haben die verschiedenen Konzepte und Implementierungen kennengelernt, die Azure anbietet.</span><span class="sxs-lookup"><span data-stu-id="40783-184">We've seen the different concepts and the implementations Azure provides.</span></span> <span data-ttu-id="40783-185">Sehen wir uns nun an, wie unser Entscheidungsprozess für jede unserer Kommunikationsaktivitäten aussehen sollte.</span><span class="sxs-lookup"><span data-stu-id="40783-185">Let's discuss what our decision process should look like for each of our communications.</span></span>

#### <a name="consider-the-following-questions"></a><span data-ttu-id="40783-186">Stellen Sie sich die folgenden Fragen:</span><span class="sxs-lookup"><span data-stu-id="40783-186">Consider the following questions:</span></span>

1. <span data-ttu-id="40783-187">Ist die Kommunikation ein Ereignis?</span><span class="sxs-lookup"><span data-stu-id="40783-187">Is the communication an event?</span></span> <span data-ttu-id="40783-188">Falls ja, sollten Sie Event Grid oder Event Hubs verwenden.</span><span class="sxs-lookup"><span data-stu-id="40783-188">If so, consider using Event Grid or Event Hubs.</span></span>

1. <span data-ttu-id="40783-189">Soll eine einzelne Nachricht an mehrere Ziele übermittelt werden?</span><span class="sxs-lookup"><span data-stu-id="40783-189">Should a single message be delivered to more than one destination?</span></span> <span data-ttu-id="40783-190">Falls ja, verwenden Sie ein Service Bus-Thema.</span><span class="sxs-lookup"><span data-stu-id="40783-190">If so, use a Service Bus topic.</span></span> <span data-ttu-id="40783-191">Falls nicht, verwenden Sie eine Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="40783-191">Otherwise, use a queue.</span></span>

<span data-ttu-id="40783-192">Für Warteschlangen gilt:</span><span class="sxs-lookup"><span data-stu-id="40783-192">If you decide that you need a queue:</span></span>

#### <a name="choose-service-bus-queues-if"></a><span data-ttu-id="40783-193">Verwenden Sie Service Bus-Warteschlangen, wenn Folgendes zutrifft:</span><span class="sxs-lookup"><span data-stu-id="40783-193">Choose Service Bus queues if:</span></span>

* <span data-ttu-id="40783-194">Sie benötigen eine At-Most-Once-Zustellungsgarantie.</span><span class="sxs-lookup"><span data-stu-id="40783-194">You need an at-most-once delivery guarantee</span></span>
* <span data-ttu-id="40783-195">Sie benötigen eine FIFO-Garantie.</span><span class="sxs-lookup"><span data-stu-id="40783-195">You need a FIFO guarantee</span></span>
* <span data-ttu-id="40783-196">Sie müssen Nachrichten in Transaktionen gruppieren.</span><span class="sxs-lookup"><span data-stu-id="40783-196">You need to group messages into transactions</span></span>
* <span data-ttu-id="40783-197">Sie möchten Nachrichten empfangen, ohne die Warteschlange abzufragen.</span><span class="sxs-lookup"><span data-stu-id="40783-197">You want to receive messages without polling the queue</span></span>
* <span data-ttu-id="40783-198">Sie benötigen rollenbasierten Warteschlangenzugriff.</span><span class="sxs-lookup"><span data-stu-id="40783-198">You need to provide role-based access to the queues</span></span>
* <span data-ttu-id="40783-199">Sie müssen Nachrichten mit einer Größe von 64 bis 256 KB verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="40783-199">You need to handle messages larger than 64 KB but smaller than 256 KB</span></span>
* <span data-ttu-id="40783-200">Die Warteschlangengröße liegt unter 80 GB.</span><span class="sxs-lookup"><span data-stu-id="40783-200">Your queue size will not grow larger than 80 GB</span></span>
* <span data-ttu-id="40783-201">Sie möchten Nachrichtenbatches veröffentlichen und nutzen können.</span><span class="sxs-lookup"><span data-stu-id="40783-201">You would like to be able to publish and consume batches of messages</span></span>

#### <a name="choose-queue-storage-if"></a><span data-ttu-id="40783-202">Verwenden Sie Queue Storage, wenn Folgendes zutrifft:</span><span class="sxs-lookup"><span data-stu-id="40783-202">Choose queue storage if:</span></span>

* <span data-ttu-id="40783-203">Sie benötigen eine einfache Warteschlange ohne besondere zusätzliche Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="40783-203">You need a simple queue with no particular additional requirements</span></span>
* <span data-ttu-id="40783-204">Sie benötigen serverseitige Protokolle aller Nachrichten, die die Warteschlange passieren.</span><span class="sxs-lookup"><span data-stu-id="40783-204">You need an audit trail of all messages that pass through the queue</span></span>
* <span data-ttu-id="40783-205">Sie gehen davon aus, dass die Größe der Warteschlange 80 GB überschreitet.</span><span class="sxs-lookup"><span data-stu-id="40783-205">You expect the queue to exceed 80 GB in size</span></span>
* <span data-ttu-id="40783-206">Sie möchten den Verarbeitungsfortschritt einer Nachricht innerhalb der Warteschlange nachverfolgen.</span><span class="sxs-lookup"><span data-stu-id="40783-206">You want to track progress for processing a message inside of the queue</span></span>

<span data-ttu-id="40783-207">Die Komponenten einer verteilten Anwendung können zwar direkt kommunizieren, durch die Verwendung einer Zwischenkommunikationsplattform wie Azure Service Bus oder Azure Event Grid lässt sich jedoch häufig die Zuverlässigkeit dieser Kommunikation verbessern.</span><span class="sxs-lookup"><span data-stu-id="40783-207">Although the components of a distributed application can communicate directly, you can often increase the reliability of that communication by using an intermediate communication platform such as Azure Service Bus or Azure Event Grid.</span></span>

<span data-ttu-id="40783-208">Event Grid ist für Ereignisse konzipiert, die Empfänger nur über ein Ereignis informieren und nicht die diesem Ereignis zugeordneten Rohdaten enthalten.</span><span class="sxs-lookup"><span data-stu-id="40783-208">Event Grid is designed for events, which notify recipients only of an event and do not contain the raw data associated with that event.</span></span> <span data-ttu-id="40783-209">Azure Event Hubs wurde für Analyseereignisse mit hohem Datenfluss entwickelt.</span><span class="sxs-lookup"><span data-stu-id="40783-209">Azure Event Hubs is designed for high-flow analytics types of events.</span></span> <span data-ttu-id="40783-210">Azure Service Bus und Speicherwarteschlangen sind für Nachrichten konzipiert und können zur Bindung der wesentlichen Bestandteile jedes Anwendungsworkflows verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="40783-210">Azure Service Bus and storage queues are for messages, which can be used for binding the core pieces of any application workflow.</span></span>

<span data-ttu-id="40783-211">Wenn Sie keine besonders komplexen Anforderungen haben, jede Nachricht nur an ein einzelnes Ziel senden oder möglichst schnell programmieren möchten, ist möglicherweise eine Speicherwarteschlange die beste Option.</span><span class="sxs-lookup"><span data-stu-id="40783-211">If your requirements are simple, if you want to send each message to only one destination, or if you want to write code as quickly as possible, a storage queue may be the best option.</span></span> <span data-ttu-id="40783-212">Andernfalls bieten Service Bus-Warteschlangen viele weitere Optionen und größere Flexibilität.</span><span class="sxs-lookup"><span data-stu-id="40783-212">Otherwise, Service Bus queues provide many more options and flexibility.</span></span>

<span data-ttu-id="40783-213">Wenn Sie Nachrichten an mehrere Abonnenten senden möchten, verwenden Sie ein Service Bus-Thema.</span><span class="sxs-lookup"><span data-stu-id="40783-213">If you want to send messages to multiple subscribers, use a Service Bus topic.</span></span>
