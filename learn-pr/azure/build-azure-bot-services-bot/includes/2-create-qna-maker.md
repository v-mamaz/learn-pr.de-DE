### <a name="exercise-2-create-a-knowledge-base-with-microsoft-qna-maker"></a><span data-ttu-id="e696e-101">Übung 2: Erstellen einer Wissensdatenbank mit Microsoft QnA Maker</span><span class="sxs-lookup"><span data-stu-id="e696e-101">Exercise 2: Create a knowledge base with Microsoft QnA Maker</span></span>

<span data-ttu-id="e696e-102">[Microsoft QnA Maker](https://www.qnamaker.ai/) ist Teil der [Azure Cognitive Services](https://www.microsoft.com/cognitive-services/), einer Sammlung von Diensten und APIs zum Erstellen intelligenter Apps, die durch KI und Machine Learning unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="e696e-102">[Microsoft QnA Maker](https://www.qnamaker.ai/) is part of [Azure Cognitive Services](https://www.microsoft.com/cognitive-services/), which is a suite of services and APIs for building intelligent apps backed by AI and machine learning.</span></span> <span data-ttu-id="e696e-103">Anstatt einen Bot zu codieren, um alle Fragen vorweg zu nehmen, die ein Benutzer stellen könnte, und eine Antwort bereitzuhalten, können Sie eine Verbindung zwischen ihm und einer Wissensdatenbank herstellen, die mit QnA Maker erstellte Fragen und Antworten enthält.</span><span class="sxs-lookup"><span data-stu-id="e696e-103">Rather than code a bot to anticipate every question a user might ask and provide a response, you can connect it to a knowledge base of questions and answers created with QnA Maker.</span></span> <span data-ttu-id="e696e-104">Ein allgemeines Verwendungsszenario ist das Erstellen einer Wissensdatenbank auf Basis eines FAQ, damit der Bot domänenspezifische Fragen beantworten kann, wie z.B.: „Wie finde ich meinen Windows-Produktschlüssel“ oder „Wo kann ich Visual Studio Code herunterladen?“</span><span class="sxs-lookup"><span data-stu-id="e696e-104">A common usage scenario is to create a knowledge base from a FAQ so the bot can answer domain-specific questions such as "How do I find my Windows product key" or "Where can I download Visual Studio Code?"</span></span>

<span data-ttu-id="e696e-105">In dieser Übung erstellen Sie mit QnA Maker eine Wissensdatenbank mit Fragen wie z.B.: „Welche NFL-Teams haben die meisten Super Bowls gewonnen?“ und „Wie heißt die größte Stadt der Welt?“</span><span class="sxs-lookup"><span data-stu-id="e696e-105">In this exercise, you will use QnA Maker to create a knowledge base containing questions such as "What NFL teams have won the most Super Bowls" and "What is the largest city in the world?"</span></span> <span data-ttu-id="e696e-106">Anschließend stellen Sie die Wissensdatenbank in einer Azure-Web-App bereit, damit über einen HTTPS-Endpunkt auf sie zugegriffen werden kann.</span><span class="sxs-lookup"><span data-stu-id="e696e-106">Then you will deploy the knowledge base in an Azure Web app so it can be accessed via an HTTPS endpoint.</span></span>

1. <span data-ttu-id="e696e-107">Öffnen Sie das [Microsoft QnA Maker-Portal](https://www.qnamaker.ai/) in Ihrem Browser, und melden Sie sich mit Ihrem Microsoft-Konto an, wenn Sie nicht bereits angemeldet sind.</span><span class="sxs-lookup"><span data-stu-id="e696e-107">Open the [Microsoft QnA Maker portal](https://www.qnamaker.ai/) in your browser and sign in with your Microsoft account if you aren't already signed in.</span></span> <span data-ttu-id="e696e-108">Klicken Sie dann in der Menüleiste am oberen Rand der Seite auf **Wissensdatenbank erstellen**.</span><span class="sxs-lookup"><span data-stu-id="e696e-108">Then click **Create a knowledge base** in the menu bar at the top of the page.</span></span>
 
    ![Erstellen einer Wissensdatenbank](../images/qna-new-kb.png)

    <span data-ttu-id="e696e-110">_Erstellen einer Wissensdatenbank_</span><span class="sxs-lookup"><span data-stu-id="e696e-110">_Creating a knowledge base_</span></span>

1. <span data-ttu-id="e696e-111">Klicken Sie auf **QnA-Dienst erstellen**.</span><span class="sxs-lookup"><span data-stu-id="e696e-111">Click **Create a QnA service**.</span></span>

    ![Erstellen eines QnA-Diensts](../images/create-kb-1.png)

    <span data-ttu-id="e696e-113">_Erstellen eines QnA-Diensts_</span><span class="sxs-lookup"><span data-stu-id="e696e-113">_Creating a QnA service_</span></span>

1. <span data-ttu-id="e696e-114">Geben Sie einen Namen wie „qa-factbot-kb“ in das Feld **Name** ein.</span><span class="sxs-lookup"><span data-stu-id="e696e-114">Enter a name such as "qa-factbot-kb" into the **Name** box.</span></span> <span data-ttu-id="e696e-115">Dieser Name muss innerhalb von Azure eindeutig sein, darum stellen Sie sicher, dass ein grünes Häkchen daneben *und* im Feld **App-Name** weiter unten auf dem Blatt angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="e696e-115">This name must be unique within Azure, so make sure a green check mark appears next to it *and* in the **App name** box further down the blade.</span></span> <span data-ttu-id="e696e-116">Wählen Sie **Vorhandene verwenden** unter **Ressourcengruppe** aus, und wählen Sie die Ressourcengruppe „factbot-rg“ aus, die Sie beim Bereitstellen des Azure-Web-App-Bots in [Übung 1](#Exercise1) erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="e696e-116">Select **Use existing** under **Resource group** and select the "factbot-rg" resource group that you created when you deployed the Azure Web App Bot in [Exercise 1](#Exercise1).</span></span> <span data-ttu-id="e696e-117">Wählen Sie **F0** und **F** als Tarife aus.</span><span class="sxs-lookup"><span data-stu-id="e696e-117">Select **F0** and **F** as the pricing tiers.</span></span> <span data-ttu-id="e696e-118">(Beide Tarife sind kostenlos und ideal zum Experimentieren mit Bots.) Wählen Sie in beiden Standort-Dropdownlisten den Ihnen nächstgelegenen Standort aus, und klicken Sie unten auf dem Blatt auf die Schaltfläche **Erstellen**.</span><span class="sxs-lookup"><span data-stu-id="e696e-118">(Both are free tiers that are ideal for experimenting with bots.) Select the location nearest you in both location drop-downs, and then click the **Create** button at the bottom of the blade.</span></span>

    ![Erstellen eines QnA-Diensts](../images/new-qna-maker-service.png)

    <span data-ttu-id="e696e-120">_Erstellen eines QnA-Diensts_</span><span class="sxs-lookup"><span data-stu-id="e696e-120">_Creating a QnA service_</span></span>

1. <span data-ttu-id="e696e-121">Klicken Sie im Menüband auf der linken Seite des Portals auf **Ressourcengruppen**, und öffnen Sie die Ressourcengruppe „factbot-rg“.</span><span class="sxs-lookup"><span data-stu-id="e696e-121">Click **Resource groups** in the ribbon on the left side of the portal and open the "factbot-rg" resource group.</span></span> <span data-ttu-id="e696e-122">Warten Sie, bis „Wird bereitgestellt“ am oberen Rand des Blatts sich in „Erfolgreich“ ändert, um anzuzeigen, dass der QnA-Dienst und die zugehörigen Ressourcen erfolgreich bereitgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="e696e-122">Wait until "Deploying" changes to "Succeeded" at the top of the blade indicating that the QnA service and the resources associated with it were successfully deployed.</span></span> <span data-ttu-id="e696e-123">Klicken Sie zum Aktualisieren des Bereitstellungsstatus noch einmal am oberen Rand des Blatts auf **Aktualisieren**.</span><span class="sxs-lookup"><span data-stu-id="e696e-123">Once more, you can click **Refresh** at the top of the blade to refresh the deployment status.</span></span>

    ![Erfolgreiche Bereitstellung](../images/resource-group-master-2.png)

    <span data-ttu-id="e696e-125">_Erfolgreiche Bereitstellung_</span><span class="sxs-lookup"><span data-stu-id="e696e-125">_Successful deployment_</span></span>

1. <span data-ttu-id="e696e-126">Wechseln Sie zurück zur Seite [Wissensdatenbank erstellen](https://www.qnamaker.ai/Create) im QnA Maker-Portal.</span><span class="sxs-lookup"><span data-stu-id="e696e-126">Return to the [Create a knowledge base](https://www.qnamaker.ai/Create) page in the QnA Maker portal.</span></span> <span data-ttu-id="e696e-127">Wählen Sie unter **Azure QnA-Dienst** den QnA-Dienst aus, dessen Name Sie in Schritt 3 angegeben haben.</span><span class="sxs-lookup"><span data-stu-id="e696e-127">Under **Azure QnA service**, select the QnA service whose name you specified in Step 3.</span></span> <span data-ttu-id="e696e-128">Weisen Sie der Wissensdatenbank dann einen Namen wie z.B. „Factbot Knowledge Base“ zu.</span><span class="sxs-lookup"><span data-stu-id="e696e-128">Then assign the knowledge base a name such as "Factbot Knowledge Base."</span></span>

    ![Benennen der Wissensdatenbank](../images/create-kb-2-3.png)

    <span data-ttu-id="e696e-130">_Benennen der Wissensdatenbank_</span><span class="sxs-lookup"><span data-stu-id="e696e-130">_Naming the knowledge base_</span></span>

1. <span data-ttu-id="e696e-131">Sie können Fragen und Antworten manuell in eine QnA Maker-Wissensdatenbank eingeben oder sie aus Online-FAQs oder lokalen Dateien importieren.</span><span class="sxs-lookup"><span data-stu-id="e696e-131">You can enter questions and answers into a QnA Maker knowledge base manually, or you can import them from online FAQs or local files.</span></span> <span data-ttu-id="e696e-132">Zu den unterstützten Formaten gehören Textdateien mit Tabstopptrennzeichen, Microsoft Word-Dokumente, Excel-Kalkulationstabellen und PDF-Dateien.</span><span class="sxs-lookup"><span data-stu-id="e696e-132">Supported formats include tab-delimited text files, Microsoft Word documents, Excel spreadsheets, and PDF files.</span></span>

    <span data-ttu-id="e696e-133">Klicken Sie zur Veranschaulichung [hier](https://topcs.blob.core.windows.net/public/bots-resources.zip), um eine ZIP-Datei mit einer Textdatei namens **Factbot.tsv** herunterzuladen, und kopieren Sie die Datei auf Ihren Computer.</span><span class="sxs-lookup"><span data-stu-id="e696e-133">To demonstrate, [click here](https://topcs.blob.core.windows.net/public/bots-resources.zip) to download a zip file containing a text file named **Factbot.tsv**, and copy the file to your computer.</span></span> <span data-ttu-id="e696e-134">Scrollen Sie dann im QnA Maker-Portal nach unten, klicken Sie auf **+ Datei hinzufügen**, und wählen Sie **Factbot.tsv** aus.</span><span class="sxs-lookup"><span data-stu-id="e696e-134">Then scroll down in the QnA Maker portal, click **+ Add file**, and select **Factbot.tsv**.</span></span> <span data-ttu-id="e696e-135">Diese Datei enthält 20 Fragen und Antworten im Format mit Tabstopptrennzeichen.</span><span class="sxs-lookup"><span data-stu-id="e696e-135">This file contains 20 questions and answers in tab-delimited format.</span></span>

    ![Füllen der Wissensdatenbank](../images/create-kb-4.png)

    <span data-ttu-id="e696e-137">_Füllen der Wissensdatenbank_</span><span class="sxs-lookup"><span data-stu-id="e696e-137">_Populating the knowledge base_</span></span>

1. <span data-ttu-id="e696e-138">Klicken Sie am unteren Rand der Seite auf **Ihre KB erstellen**, und warten Sie darauf, dass die Wissensdatenbank erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="e696e-138">Click **Create your KB** at the bottom of the page and wait for the knowledge base to be created.</span></span> <span data-ttu-id="e696e-139">Dieser Vorgang dauert normalerweise weniger als eine Minute.</span><span class="sxs-lookup"><span data-stu-id="e696e-139">It should take less than a minute.</span></span>

    ![Erstellen der Wissensdatenbank](../images/create-kb-5.png)

    <span data-ttu-id="e696e-141">_Erstellen der Wissensdatenbank_</span><span class="sxs-lookup"><span data-stu-id="e696e-141">_Creating the knowledge base_</span></span>

1. <span data-ttu-id="e696e-142">Vergewissern Sie sich, dass die aus **Factbot.tsv** importierten Fragen und Antworten in der Wissensdatenbank angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="e696e-142">Confirm that the questions and answers imported from **Factbot.tsv** appear in the knowledge base.</span></span> <span data-ttu-id="e696e-143">Klicken Sie dann auf **Speichern und Trainieren**, und warten Sie, bis das Training abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="e696e-143">Then click **Save and train** and wait for training to complete.</span></span>

    ![Trainieren der Wissensdatenbank](../images/save-and-train.png)

    <span data-ttu-id="e696e-145">_Trainieren der Wissensdatenbank_</span><span class="sxs-lookup"><span data-stu-id="e696e-145">_Training the knowledge base_</span></span>

1. <span data-ttu-id="e696e-146">Klicken Sie auf die Schaltfläche **Testen** rechts neben der Schaltfläche **Speichern und Trainieren**.</span><span class="sxs-lookup"><span data-stu-id="e696e-146">Click the **Test** button to the right of the **Save and train** button.</span></span> <span data-ttu-id="e696e-147">Geben Sie „Hi“ in das Nachrichtenfeld ein, und drücken Sie die **EINGABETASTE**.</span><span class="sxs-lookup"><span data-stu-id="e696e-147">Type "Hi" into the message box and press **Enter**.</span></span> <span data-ttu-id="e696e-148">Vergewissern Sie sich, dass die Antwort wie unten dargestellt „Welcome to the QnA Factbot“ lautet.</span><span class="sxs-lookup"><span data-stu-id="e696e-148">Confirm that the response is "Welcome to the QnA Factbot," as shown below.</span></span>

    ![Testen der Wissensdatenbank](../images/test-kb.png)

    <span data-ttu-id="e696e-150">_Testen der Wissensdatenbank_</span><span class="sxs-lookup"><span data-stu-id="e696e-150">_Testing the knowledge base_</span></span>

1. <span data-ttu-id="e696e-151">Geben Sie „What book has sold the most copies?“ (Von welchem Buch wurden die meisten Exemplare verkauft?)</span><span class="sxs-lookup"><span data-stu-id="e696e-151">Type "What book has sold the most copies?"</span></span> <span data-ttu-id="e696e-152">in das Nachrichtenfeld ein, und drücken Sie die **EINGABETASTE**.</span><span class="sxs-lookup"><span data-stu-id="e696e-152">into the message box and press **Enter**.</span></span> <span data-ttu-id="e696e-153">Wie lautet die Antwort?</span><span class="sxs-lookup"><span data-stu-id="e696e-153">What is the response?</span></span>

1. <span data-ttu-id="e696e-154">Klicken Sie erneut auf die Schaltfläche **Testen**, um den Bereich „Testen“ auszublenden.</span><span class="sxs-lookup"><span data-stu-id="e696e-154">Click the **Test** button again to collapse the Test panel.</span></span> <span data-ttu-id="e696e-155">Klicken Sie dann im Menü am oberen Rand der Seite auf **Veröffentlichen** und am unteren Seitenrand auf die Schaltfläche **Veröffentlichen**, um die Wissensdatenbank zu veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="e696e-155">Then click **Publish** in the menu at the top of the page, and click the **Publish** button at the bottom of the page to publish the knowledge base.</span></span> <span data-ttu-id="e696e-156">*Veröffentlichen* macht die Wissensdatenbank an einem HTTPS-Endpunkt verfügbar.</span><span class="sxs-lookup"><span data-stu-id="e696e-156">*Publishing* makes the knowledge base available at an HTTPS endpoint.</span></span>

    ![Veröffentlichen der Wissensdatenbank](../images/publish-kb.png)

    <span data-ttu-id="e696e-158">_Veröffentlichen der Wissensdatenbank_</span><span class="sxs-lookup"><span data-stu-id="e696e-158">_Publishing the knowledge base_</span></span> 

<span data-ttu-id="e696e-159">Warten Sie auf den Abschluss des Veröffentlichungsprozesses, und bestätigen Sie, dass Ihnen mitgeteilt wurde, dass der QnA-Dienst bereitgestellt ist.</span><span class="sxs-lookup"><span data-stu-id="e696e-159">Wait for the publication process to complete and confirm that you are told the QnA service has been deployed.</span></span> <span data-ttu-id="e696e-160">Die Wissensdatenbank wird nun in einer eigenen Azure-Web-App gehostet, und im nächsten Schritt wird ein Bot bereitgestellt, der sie verwenden kann.</span><span class="sxs-lookup"><span data-stu-id="e696e-160">With the knowledge base now hosted in an Azure Web App of its own, the next step is to deploy a bot that can use it.</span></span>