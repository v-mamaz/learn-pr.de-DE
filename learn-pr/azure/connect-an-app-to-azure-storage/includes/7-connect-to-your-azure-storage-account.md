<span data-ttu-id="b8af5-101">Sie haben Ihrer Anwendung die erforderlichen Clientbibliotheken hinzugefügt und können eine Verbindung mit Ihrem Azure-Speicherkonto herstellen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-101">You have added the required client libraries to your application and are ready to connect to your Azure storage account.</span></span>

<span data-ttu-id="b8af5-102">Für Ihre App werden zwei Datenelemente benötigt, um mit Daten in einem Speicherkonto arbeiten zu können:</span><span class="sxs-lookup"><span data-stu-id="b8af5-102">To work with data in a storage account, your app will need two pieces of data:</span></span>

1. [<span data-ttu-id="b8af5-103">Ein Zugriffsschlüssel</span><span class="sxs-lookup"><span data-stu-id="b8af5-103">An access key</span></span>](#access-key)
1. [<span data-ttu-id="b8af5-104">Der REST-API-Endpunkt</span><span class="sxs-lookup"><span data-stu-id="b8af5-104">The REST API endpoint</span></span>](#rest-endpoint)

<a name="access-key"></a>

## <a name="security-access-keys"></a><span data-ttu-id="b8af5-105">Sicherheitszugriffsschlüssel</span><span class="sxs-lookup"><span data-stu-id="b8af5-105">Security access keys</span></span>

<span data-ttu-id="b8af5-106">Jedes Speicherkonto verfügt über zwei eindeutige _Zugriffsschlüssel_, die zum Schützen des Speicherkontos verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b8af5-106">Each storage account has two unique _access keys_ that are used to secure the storage account.</span></span> <span data-ttu-id="b8af5-107">Wenn Ihre App mit mehreren Speicherkonten eine Verbindung herstellen muss, benötigt sie für jedes Speicherkonto einen Zugriffsschlüssel.</span><span class="sxs-lookup"><span data-stu-id="b8af5-107">If your app needs to connect to multiple storage accounts, then your app will require an access key for each storage account.</span></span>

![Eine Abbildung einer Anwendung, die mit zwei verschiedenen Speicherkonten in der Cloud verbunden ist.](..\media\6-multiple-accounts.png)

<a name="rest-endpoint"></a>

## <a name="rest-api-endpoint"></a><span data-ttu-id="b8af5-110">REST-API-Endpunkt</span><span class="sxs-lookup"><span data-stu-id="b8af5-110">REST API endpoint</span></span>

<span data-ttu-id="b8af5-111">Zusätzlich zu Zugriffsschlüsseln für die Authentifizierung gegenüber Speicherkonten muss Ihre App über die Information verfügen, welche Speicherdienstendpunkte für die REST-Anforderungen ausgegeben werden sollen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-111">In addition to access keys for authentication to storage accounts, your app will need to know the storage service endpoints to issue the REST requests.</span></span> 

<span data-ttu-id="b8af5-112">Der REST-Endpunkt ist eine Kombination aus dem _Namen_ Ihres Speicherkontos, des Datentyps und einer bekannten Domäne.</span><span class="sxs-lookup"><span data-stu-id="b8af5-112">The REST endpoint is a combination of your storage account _name_, the data type, and a known domain.</span></span> <span data-ttu-id="b8af5-113">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="b8af5-113">For example:</span></span>

| <span data-ttu-id="b8af5-114">Datentyp</span><span class="sxs-lookup"><span data-stu-id="b8af5-114">Data type</span></span> | <span data-ttu-id="b8af5-115">Beispiel für einen Endpunkt</span><span class="sxs-lookup"><span data-stu-id="b8af5-115">Example endpoint</span></span> |
|-----------|------------------|
| <span data-ttu-id="b8af5-116">Blobs</span><span class="sxs-lookup"><span data-stu-id="b8af5-116">Blobs</span></span>     | `https://[name].blob.core.windows.net/` |
| <span data-ttu-id="b8af5-117">Warteschlangen</span><span class="sxs-lookup"><span data-stu-id="b8af5-117">Queues</span></span>    | `https://[name].queue.core.windows.net/` |
| <span data-ttu-id="b8af5-118">Tabelle</span><span class="sxs-lookup"><span data-stu-id="b8af5-118">Table</span></span>     | `https://[name].table.core.windows.net/` |
| <span data-ttu-id="b8af5-119">Dateien</span><span class="sxs-lookup"><span data-stu-id="b8af5-119">Files</span></span>     | `https://[name].file.core.windows.net/` |

<span data-ttu-id="b8af5-120">Wenn Sie eine benutzerdefinierte Domäne mit Azure verknüpft haben, können Sie auch eine benutzerdefinierte Domänen-URL für den Endpunkt erstellen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-120">If you have a custom domain tied to Azure, then you can also create a custom domain URL for the endpoint.</span></span>

## <a name="connection-strings"></a><span data-ttu-id="b8af5-121">Verbindungszeichenfolgen</span><span class="sxs-lookup"><span data-stu-id="b8af5-121">Connection strings</span></span>

<span data-ttu-id="b8af5-122">Die einfachste Möglichkeit zum Verarbeiten dieser Informationen ist die Verwendung einer **Verbindungszeichenfolge für das Speicherkonto**. Eine Verbindungszeichenfolge enthält alle erforderlichen Konnektivitätsinformationen in nur einer Textzeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="b8af5-122">The simplest way to handle this information is to use a **storage account connection string** A connection string provides all needed connectivity information in a single text string.</span></span>

<span data-ttu-id="b8af5-123">Azure Storage-Verbindungszeichenfolgen ähneln dem folgenden Beispiel – abgesehen von Zugriffsschlüssel und Kontoname, die für Ihr Speicherkonto spezifisch sind:</span><span class="sxs-lookup"><span data-stu-id="b8af5-123">Azure Storage connection strings look similar to the example below but with the access key and account name of your specific storage account:</span></span>

```
DefaultEndpointsProtocol=https;AccountName={your-storage};
   AccountKey={your-access-key};
   EndpointSuffix=core.windows.net
```

## <a name="security"></a><span data-ttu-id="b8af5-124">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="b8af5-124">Security</span></span>

<span data-ttu-id="b8af5-125">Zugriffsschlüssel sind entscheidend für den Zugriff auf Ihr Speicherkonto und dürfen daher nicht für Systeme oder Personen bereitgestellt werden, die keinen Zugriff auf Ihr Speicherkonto haben sollen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-125">Access keys are critical to providing access to your storage account and as a result, should not be given to any system or person that you do not wish to have access to your storage account.</span></span> <span data-ttu-id="b8af5-126">Zugriffsschlüssel entsprechen dem Benutzernamen und dem Kennwort, die zum Zugriff auf Ihren Computer erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="b8af5-126">Access keys are the equivalent of a username and password to access your computer.</span></span>

<span data-ttu-id="b8af5-127">Informationen zur Speicherkonto-Konnektivität werden in der Regel in einer Umgebungsvariablen, Datenbank oder Konfigurationsdatei gespeichert.</span><span class="sxs-lookup"><span data-stu-id="b8af5-127">Typically, storage account connectivity information is stored within an environment variable, database, or configuration file.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b8af5-128">Beachten Sie unbedingt, dass das Speichern dieser Informationen in einer Konfigurationsdatei gefährlich sein kann, wenn Sie diese Datei in die Quellcodeverwaltung einbeziehen und in einem öffentlichen Repository speichern.</span><span class="sxs-lookup"><span data-stu-id="b8af5-128">It is important to note that storing this information in a configuration file can be dangerous if you include that file in source control and store it in a public repository.</span></span> <span data-ttu-id="b8af5-129">Dies ist ein häufiger Fehler und bedeutet, dass jeder Ihren Quellcode im öffentlichen Repository durchsuchen und Ihre Speicherkonto-Verbindungsinformationen finden kann.</span><span class="sxs-lookup"><span data-stu-id="b8af5-129">This is a common mistake and means that anyone can browse your source code in the public repository and see your storage account connection information.</span></span>

<span data-ttu-id="b8af5-130">Jedes Speicherkonto verfügt über zwei Zugriffsschlüssel.</span><span class="sxs-lookup"><span data-stu-id="b8af5-130">Each storage account has two access keys.</span></span> <span data-ttu-id="b8af5-131">Dies ermöglicht eine Rotation (neue Generierung) der Schlüssel in regelmäßigen Abständen als Teil der bewährten Sicherheitsmethode zum Schutz Ihres Speicherkontos.</span><span class="sxs-lookup"><span data-stu-id="b8af5-131">The reason for this is to allow keys to be rotated (regenerated) periodically as part of security best practice in keeping your storage account secure.</span></span> <span data-ttu-id="b8af5-132">Dieser Prozess kann über das Azure-Portal, die Azure CLI oder das PowerShell-Befehlszeilentool durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="b8af5-132">This process can be done from the Azure portal or the Azure CLI / PowerShell command line tool.</span></span>

<span data-ttu-id="b8af5-133">Bei der Rotation eines Schlüssels wird der ursprüngliche Schlüsselwert sofort ungültig und jeder Person, die den Schlüssel unberechtigterweise erhalten hat, wird der Zugriff entzogen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-133">Rotating a key will invalidate the original key value immediately and will revoke access to anyone who obtained the key inappropriately.</span></span> <span data-ttu-id="b8af5-134">Bei der Unterstützung von zwei Schlüsseln können Sie die Schlüsselrotation ohne Ausfallzeiten in den Anwendungen, die die Schlüssel verwenden, durchführen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-134">With support for two keys, you can rotate keys without causing downtime in your applications that use them.</span></span> <span data-ttu-id="b8af5-135">Während ein Schlüssel neu generiert wird, kann Ihre App zur Verwendung des anderen Zugriffsschlüssels wechseln.</span><span class="sxs-lookup"><span data-stu-id="b8af5-135">Your app can switch to using the alternate access key, while the other key is regenerated.</span></span> <span data-ttu-id="b8af5-136">Wenn mehrere Ihrer Apps dieses Speicherkonto nutzen, sollten sie alle denselben Schlüssel verwenden, um diese Technik zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-136">If you have multiple apps using this storage account, they should all use the same key to support this technique.</span></span> <span data-ttu-id="b8af5-137">Die grundlegende Idee lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="b8af5-137">Here's the basic idea:</span></span>

1. <span data-ttu-id="b8af5-138">Aktualisieren Sie die Verbindungszeichenfolgen im Anwendungscode, damit sie auf den sekundären Zugriffsschlüssel des Speicherkontos verweisen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-138">Update the connection strings in your application code to reference the secondary access key of the storage account.</span></span>
2. <span data-ttu-id="b8af5-139">Generieren Sie den primären Zugriffsschlüssel für Ihr Speicherkonto neu, indem Sie das Azure-Portal oder ein Befehlszeilentool verwenden.</span><span class="sxs-lookup"><span data-stu-id="b8af5-139">Regenerate the primary access key for your storage account using the Azure portal or command line tool.</span></span>
3. <span data-ttu-id="b8af5-140">Aktualisieren Sie die Verbindungszeichenfolgen in Ihrem Code, um auf den neuen primären Zugriffsschlüssel zu verweisen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-140">Update the connection strings in your code to reference the new primary access key.</span></span>
4. <span data-ttu-id="b8af5-141">Generieren Sie den sekundären Zugriffsschlüssel auf die gleiche Weise neu.</span><span class="sxs-lookup"><span data-stu-id="b8af5-141">Regenerate the secondary access key in the same manner.</span></span>

> [!TIP]
> <span data-ttu-id="b8af5-142">Es wird dringend empfohlen, Ihre Zugriffsschlüssel regelmäßig zu rotieren, um sicherzustellen, dass sie privat bleiben (vergleichbar mit dem Ändern Ihrer Kennwörter).</span><span class="sxs-lookup"><span data-stu-id="b8af5-142">It's highly recommended that you periodically rotate your access keys to ensure they remain private - just like changing your passwords.</span></span> <span data-ttu-id="b8af5-143">Wenn Sie den Schlüssel in einer Serveranwendung nutzen, können Sie einen **Azure Key Vault** verwenden, um den Zugriffsschlüssel zu speichern.</span><span class="sxs-lookup"><span data-stu-id="b8af5-143">If you are using the key in a server application, you can use an **Azure Key Vault** to store the access key for you.</span></span> <span data-ttu-id="b8af5-144">Key Vaults (Schlüsseltresore) verfügen über Unterstützung für das direkte Synchronisieren mit dem Speicherkonto und das regelmäßige automatische Rotieren der Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="b8af5-144">Key Vaults include support to synchronize directly to the Storage Account and automatically rotate the keys periodically.</span></span> <span data-ttu-id="b8af5-145">Die Verwendung eines Schlüsseltresors sorgt für eine zusätzliche Sicherheitsebene, da für die App niemals direkt ein Zugriffsschlüssel verwendet werden muss.</span><span class="sxs-lookup"><span data-stu-id="b8af5-145">Using a Key Vault provides an additional layer of security so your app never has to work directly with an access key.</span></span>

### <a name="shared-access-signatures-sas"></a><span data-ttu-id="b8af5-146">Shared Access Signatures (SAS)</span><span class="sxs-lookup"><span data-stu-id="b8af5-146">Shared access signatures (SAS)</span></span>

<span data-ttu-id="b8af5-147">Zugriffsschlüssel sind der einfachste Ansatz zum Authentifizieren des Zugriffs auf ein Speicherkonto, aber sie ermöglichen den vollständigen Zugriff auf alle Daten des Speicherkontos – wie beim Stammkennwort eines Computers.</span><span class="sxs-lookup"><span data-stu-id="b8af5-147">Access keys are the easiest approach to authenticating access to a storage account, however they provide full access to anything in the storage account - similar to a root password on a computer.</span></span> 

<span data-ttu-id="b8af5-148">Für Speicherkonten ist der separate Authentifizierungsmechanismus _Shared Access Signatures_ verfügbar, mit dem der Ablauf und eingeschränkte Berechtigungen für Szenarios unterstützt werden, in denen Sie eingeschränkten Zugriff gewähren müssen.</span><span class="sxs-lookup"><span data-stu-id="b8af5-148">Storage accounts offer a separate authentication mechanism called _shared access signatures_ that support expiration and limited permissions for scenarios where you need to grant limited access.</span></span> <span data-ttu-id="b8af5-149">Sie sollten diesen Ansatz verwenden, wenn Sie anderen Benutzern für Ihr Speicherkonto das Lesen und Schreiben von Daten erlauben möchten.</span><span class="sxs-lookup"><span data-stu-id="b8af5-149">You should use this approach when you are allowing other users to read and write data to your storage account.</span></span> <span data-ttu-id="b8af5-150">Am Ende des Moduls sind Links zu unserer Dokumentation zu diesem anspruchsvolleren Thema angegeben.</span><span class="sxs-lookup"><span data-stu-id="b8af5-150">There are links to our documentation on this advanced topic at the end of the module.</span></span>
