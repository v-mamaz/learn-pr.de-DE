<span data-ttu-id="6dd13-101">Angenommen, wir möchten einen einfachen Bookmark Lookup-Dienst erstellen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-101">Imagine we want to create a simple bookmark lookup service.</span></span> <span data-ttu-id="6dd13-102">Der Dienst ist anfänglich schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-102">Our service is readonly initially.</span></span> <span data-ttu-id="6dd13-103">Wenn ein Benutzer nach einem Eintrag suchen möchte, sendet er eine Anforderung mit der ID des Eintrags, und wir geben die URL zurück.</span><span class="sxs-lookup"><span data-stu-id="6dd13-103">If a user wants to find an entry, they send a request with the ID of the entry and we return the URL.</span></span> <span data-ttu-id="6dd13-104">Die folgende Abbildung verdeutlicht den Datenfluss.</span><span class="sxs-lookup"><span data-stu-id="6dd13-104">The following diagram explains the flow.</span></span>

![Flussdiagramm zur Suche nach einem Lesezeichen in unserem Cosmos DB-Back-End](../media-draft/find-bookmark-flow-small.png)

<span data-ttu-id="6dd13-106">Wenn ein Benutzer uns eine Anforderung mit entsprechendem Text sendet, versuchen wir, einen Eintrag in unserer Back-End-Datenbank zu finden, der diesen Text als Schlüssel oder ID enthält. Wir geben ein Ergebnis zurück, das angibt, ob wir den Eintrag gefunden haben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-106">When a user sends us a request with some text, we try to find an entry in our back-end database that contains this text as a key or Id. We return a result that indicates whether we found the entry or not.</span></span>

<span data-ttu-id="6dd13-107">Irgendwo müssen wir Daten speichern.</span><span class="sxs-lookup"><span data-stu-id="6dd13-107">We need to store data somewhere.</span></span> <span data-ttu-id="6dd13-108">In diesem Flussdiagramm wird als Datenspeicher Azure Cosmos DB verwendet.</span><span class="sxs-lookup"><span data-stu-id="6dd13-108">In this flowchart, our data store is shown as an Azure Cosmos DB.</span></span> <span data-ttu-id="6dd13-109">Aber wie stellen wir eine Verbindung mit dieser Datenbank über eine Funktion her und lesen Daten?</span><span class="sxs-lookup"><span data-stu-id="6dd13-109">But, how do we connect to that database from a function and read data?</span></span> <span data-ttu-id="6dd13-110">In der Welt der Funktionen konfigurieren wir eine *Eingabebindung* für diesen Auftrag.</span><span class="sxs-lookup"><span data-stu-id="6dd13-110">In the world of functions, we configure an *input binding* for that job.</span></span>  <span data-ttu-id="6dd13-111">Es ist einfach, eine Bindung über das Azure-Portal zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="6dd13-111">Configuring a binding through the Azure Portal is straightforward.</span></span> <span data-ttu-id="6dd13-112">Wie wir in Kürze sehen werden, müssen Sie keinen Code für Aufgaben wie das Öffnen einer Speicherverbindung schreiben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-112">As we'll see shortly, You don't have to write code for tasks such as opening a storage connection.</span></span> <span data-ttu-id="6dd13-113">Die Azure Functions-Laufzeit und -Bindung nehmen Ihnen diese Aufgaben ab.</span><span class="sxs-lookup"><span data-stu-id="6dd13-113">The Azure Functions runtime and binding take care of those tasks for you.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6dd13-114">Wir werden auf einige Ressourcen (Datenbank, Funktion, Bindungen, Code) verweisen, die wir hier in unserer nächsten Übungseinheit erstellen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-114">We're going to refer to some resources (database, function, bindings, code) that we create here in our next lab.</span></span> <span data-ttu-id="6dd13-115">Bitte bewahren Sie diese Ressourcen zumindest bis zum Abschluss dieses Kurses auf.</span><span class="sxs-lookup"><span data-stu-id="6dd13-115">Please keep these resources around at least until you finish this course.</span></span>

<span data-ttu-id="6dd13-116">Wie im vorherigen Modul werden wir alle Aufgaben im Azure-Portal erledigen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-116">As was the case for the preceding module, we'll do everything in the Azure portal.</span></span>

## <a name="create-an-azure-cosmos-db"></a><span data-ttu-id="6dd13-117">Erstellen einer Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="6dd13-117">Create an Azure Cosmos DB</span></span> 

<span data-ttu-id="6dd13-118">Melden Sie sich unter [https://portal.azure.com](https://portal.azure.com?azure-portal=true) mit Ihrem Azure-Konto am Azure-Portal an.</span><span class="sxs-lookup"><span data-stu-id="6dd13-118">Sign in to the Azure portal at [https://portal.azure.com](https://portal.azure.com?azure-portal=true) with your Azure account.</span></span>

### <a name="create-a-database-account"></a><span data-ttu-id="6dd13-119">Erstellen eines Datenbankkontos</span><span class="sxs-lookup"><span data-stu-id="6dd13-119">Create a database account</span></span>

<span data-ttu-id="6dd13-120">Ein Datenbankkonto ist ein Container für die Verwaltung mindestens einer Datenbank.</span><span class="sxs-lookup"><span data-stu-id="6dd13-120">A database account is a container for managing one of more databases.</span></span> <span data-ttu-id="6dd13-121">Bevor wir eine Datenbank erstellen können, müssen wir ein Datenbankkonto erstellen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-121">Before we can create a database, we need to create a database account.</span></span>

1. <span data-ttu-id="6dd13-122">Wählen Sie die Schaltfläche **Ressource erstellen** in der oberen linken Ecke des Azure-Portals und dann **Datenbanken** > **Azure Cosmos DB** aus.</span><span class="sxs-lookup"><span data-stu-id="6dd13-122">Select the **Create a resource** button found on the upper left-hand corner of the Azure portal, then select **Databases** > **Azure Cosmos DB**.</span></span>

2. <span data-ttu-id="6dd13-123">Geben Sie auf der Seite **Neues Konto** die Einstellungen für das neue Azure Cosmos DB-Konto ein.</span><span class="sxs-lookup"><span data-stu-id="6dd13-123">In the **New account** page, enter the settings for the new Azure Cosmos DB account.</span></span>
 
    <span data-ttu-id="6dd13-124">Einstellung</span><span class="sxs-lookup"><span data-stu-id="6dd13-124">Setting</span></span>|<span data-ttu-id="6dd13-125">Wert</span><span class="sxs-lookup"><span data-stu-id="6dd13-125">Value</span></span>|<span data-ttu-id="6dd13-126">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="6dd13-126">Description</span></span>
    ---|---|---
    <span data-ttu-id="6dd13-127">ID</span><span class="sxs-lookup"><span data-stu-id="6dd13-127">ID</span></span>|<span data-ttu-id="6dd13-128">*Ein eindeutiger Name*</span><span class="sxs-lookup"><span data-stu-id="6dd13-128">*Enter a unique name*</span></span>|<span data-ttu-id="6dd13-129">Geben Sie einen eindeutigen Namen ein, der das Azure Cosmos DB-Konto identifiziert.</span><span class="sxs-lookup"><span data-stu-id="6dd13-129">Enter a unique name to identify this Azure Cosmos DB account.</span></span> <span data-ttu-id="6dd13-130">Da *documents.azure.com* an die ID angefügt wird, die Sie bereitstellen, um Ihren URI zu erstellen, sollten Sie eine eindeutige, aber identifizierbare ID verwenden.</span><span class="sxs-lookup"><span data-stu-id="6dd13-130">Because *documents.azure.com* is appended to the ID that you provide to create your URI, use a unique but identifiable ID.</span></span><br><br><span data-ttu-id="6dd13-131">Die ID darf nur Kleinbuchstaben, Zahlen und einen Bindestrich (-) enthalten, und sie muss zwischen 3 und 50 Zeichen lang sein.</span><span class="sxs-lookup"><span data-stu-id="6dd13-131">The ID can contain only lowercase letters, numbers, and the hyphen (-) character, and it must contain 3 to 50 characters.</span></span>
    <span data-ttu-id="6dd13-132">API</span><span class="sxs-lookup"><span data-stu-id="6dd13-132">API</span></span>|<span data-ttu-id="6dd13-133">SQL</span><span class="sxs-lookup"><span data-stu-id="6dd13-133">SQL</span></span>|<span data-ttu-id="6dd13-134">Die API bestimmt den Typ des zu erstellenden Kontos.</span><span class="sxs-lookup"><span data-stu-id="6dd13-134">The API determines the type of account to create.</span></span> <span data-ttu-id="6dd13-135">Azure Cosmos DB stellt fünf APIs bereit, die Sie für Ihre Anwendung auswählen können: SQL (Dokumentdatenbank), Gremlin (Diagrammdatenbank), MongoDB (Dokumentdatenbank), Azure Table und Cassandra. Für jede API ist zurzeit ein separates Konto erforderlich.</span><span class="sxs-lookup"><span data-stu-id="6dd13-135">Azure Cosmos DB provides five APIs to suit the needs of your application: SQL (document database), Gremlin (graph database), MongoDB (document database), Azure Table, and Cassandra, each which currently require a separate account.</span></span> <br><br><span data-ttu-id="6dd13-136">Wählen Sie **SQL** aus.</span><span class="sxs-lookup"><span data-stu-id="6dd13-136">Select **SQL**.</span></span> <span data-ttu-id="6dd13-137">Zurzeit funktionieren der Azure Cosmos DB-Trigger, Eingabebindungen und Ausgabebindungen ausschließlich mit SQL- und Graph-API-Konten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-137">At this time, the Azure Cosmos DB trigger, input bindings, and output bindings only work with SQL API and Graph API accounts.</span></span> 
    <span data-ttu-id="6dd13-138">Abonnement</span><span class="sxs-lookup"><span data-stu-id="6dd13-138">Subscription</span></span>|<span data-ttu-id="6dd13-139">*Ihr Abonnement*</span><span class="sxs-lookup"><span data-stu-id="6dd13-139">*Your subscription*</span></span>|<span data-ttu-id="6dd13-140">Wählen Sie das Azure-Abonnement aus, das Sie für dieses Azure Cosmos DB-Konto verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-140">Select Azure subscription that you want to use for this Azure Cosmos DB account.</span></span>
    <span data-ttu-id="6dd13-141">Ressourcengruppe</span><span class="sxs-lookup"><span data-stu-id="6dd13-141">Resource Group</span></span>|<span data-ttu-id="6dd13-142">Vorhandene verwenden</span><span class="sxs-lookup"><span data-stu-id="6dd13-142">Use existing</span></span><br><br><span data-ttu-id="6dd13-143">*Geben Sie dann [!INCLUDE [resource-group-name](./rg-name.md)] ein, die Ressourcengruppe, die wir in einer früheren Einheit für die Ressourcen dieses Moduls erstellt haben.*</span><span class="sxs-lookup"><span data-stu-id="6dd13-143">*Then enter [!INCLUDE [resource-group-name](./rg-name.md)], the resource group we created in an earlier unit for this module's resources.*</span></span>| <span data-ttu-id="6dd13-144">Wir wählen **Vorhandene verwenden** aus, weil wir alle für dieses Modul erstellten Ressourcen unter derselben Ressourcengruppe zusammenfassen möchten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-144">We're selecting **Use existing**, because we want to group all resources created for this module under the same resource group.</span></span>
    <span data-ttu-id="6dd13-145">Standort</span><span class="sxs-lookup"><span data-stu-id="6dd13-145">Location</span></span>|<span data-ttu-id="6dd13-146">Wird automatisch ausgefüllt, sobald **Vorhandene verwenden** festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="6dd13-146">Auto-filled once **Use existing** is set.</span></span> | <span data-ttu-id="6dd13-147">Wählen Sie den geografischen Standort aus, an dem Ihr Azure Cosmos DB-Konto gehostet werden soll.</span><span class="sxs-lookup"><span data-stu-id="6dd13-147">Select the geographic location in which to host your Azure Cosmos DB account.</span></span> <span data-ttu-id="6dd13-148">Verwenden Sie einen Standort, der Ihren Benutzern am nächsten liegt, um ihnen einen schnellen Zugriff auf die Daten zu gewähren.</span><span class="sxs-lookup"><span data-stu-id="6dd13-148">Use the location that's closest to your users to give them the fastest access to the data.</span></span> <span data-ttu-id="6dd13-149">In dieser Übungseinheit wird der Standort für uns als der für die vorhandene Ressourcengruppe festgelegte Standort vorgegeben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-149">In this lab,  the location is pre-determined for us as the location set for the existing resource group.</span></span>
    
<span data-ttu-id="6dd13-150">Belassen Sie für alle anderen Felder auf dem Blatt **Neues Konto** die Standardwerte, da wir sie in diesem Modul verwenden.</span><span class="sxs-lookup"><span data-stu-id="6dd13-150">Leave all other fields in the **New account** blade at their default values because we're using them in this module.</span></span>  <span data-ttu-id="6dd13-151">Dazu gehören **Georedundanz aktivieren**, **Multimaster aktivieren** und **Virtuelle Netzwerke**.</span><span class="sxs-lookup"><span data-stu-id="6dd13-151">That includes **Enable geo-redundancy**, **Enable Multi Master**, **Virtual networks**.</span></span>

3. <span data-ttu-id="6dd13-152">Wählen Sie **Erstellen** aus, um das Datenbankkonto bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-152">Select **Create** to provision and deploy the database account.</span></span>

4. <span data-ttu-id="6dd13-153">Die Bereitstellung kann einige Zeit in Anspruch nehmen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-153">Deployment can take some time.</span></span> <span data-ttu-id="6dd13-154">Warten Sie also auf eine Meldung vom Typ **Die Bereitstellung war erfolgreich** ähnlich der folgenden Meldung, bevor Sie fortfahren.</span><span class="sxs-lookup"><span data-stu-id="6dd13-154">So, wait for a **Deployment succeeded** message similar to the following message before proceeding.</span></span>

<!-- TODO figure out how to center these image -->

![Benachrichtigung, dass die Datenbankkontobereitstellung erfolgreich war](../media-draft/db-deploy-success.PNG)

5. <span data-ttu-id="6dd13-156">Herzlichen Glückwunsch!</span><span class="sxs-lookup"><span data-stu-id="6dd13-156">Congratulations!</span></span> <span data-ttu-id="6dd13-157">Sie haben Ihr Datenbankkonto erstellt und bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-157">You've created and deployed your database account!</span></span>

6. <span data-ttu-id="6dd13-158">Wählen Sie **Zu Ressource wechseln** aus, um im Portal zum Datenbankkonto zu navigieren.</span><span class="sxs-lookup"><span data-stu-id="6dd13-158">Select **Go to resource** to navigate to the database account in the portal.</span></span> <span data-ttu-id="6dd13-159">Wir werden als nächstes der Datenbank eine Sammlung hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-159">We'll add a collection to the database next.</span></span>

### <a name="add-a-collection"></a><span data-ttu-id="6dd13-160">Hinzufügen einer Sammlung</span><span class="sxs-lookup"><span data-stu-id="6dd13-160">Add a collection</span></span>

<span data-ttu-id="6dd13-161">In Cosmos DB enthält ein *Container* beliebige vom Benutzer generierte Entitäten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-161">In Cosmos DB, a *container* holds arbitrary user-generated entities.</span></span> <span data-ttu-id="6dd13-162">In einer Datenbank, die die SQL-API (eine dokumentorientierte API) unterstützt, ist ein Container eine *Sammlung*.</span><span class="sxs-lookup"><span data-stu-id="6dd13-162">In a database the supports SQL API, a document-oriented API, a container is a *collection*.</span></span> <span data-ttu-id="6dd13-163">In einer Sammlung speichern wir Dokumente.</span><span class="sxs-lookup"><span data-stu-id="6dd13-163">Inside a collection, we store documents.</span></span> <span data-ttu-id="6dd13-164">Wahrscheinlich wird alles klarer, wenn wir eine Sammlung erstellen und einige Dokumente hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-164">Hopefully all will be clearer once we create a collection and add some documents.</span></span>

<span data-ttu-id="6dd13-165">Wir verwenden das Tool Daten-Explorer im Azure-Portal, um eine Datenbank und eine Sammlung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-165">Let's use the Data Explorer tool in the Azure portal to create a database and collection.</span></span>

1. <span data-ttu-id="6dd13-166">Klicken Sie auf **Daten-Explorer** > **Neue Sammlung**.</span><span class="sxs-lookup"><span data-stu-id="6dd13-166">Click **Data Explorer** > **New Collection**.</span></span>

2. <span data-ttu-id="6dd13-167">Geben Sie unter **Sammlung hinzufügen** die Einstellungen für die neue Sammlung ein.</span><span class="sxs-lookup"><span data-stu-id="6dd13-167">In the **Add collection**, enter the settings for the new collection.</span></span>

    >[!TIP]
    ><span data-ttu-id="6dd13-168">Der Bereich **Sammlung hinzufügen** wird ganz rechts angezeigt. Möglicherweise müssen Sie nach rechts scrollen, damit Sie ihn sehen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-168">The **Add Collection** area is displayed on the far right, you may need to scroll right to see it.</span></span>

    <span data-ttu-id="6dd13-169">Einstellung</span><span class="sxs-lookup"><span data-stu-id="6dd13-169">Setting</span></span>|<span data-ttu-id="6dd13-170">Empfohlener Wert</span><span class="sxs-lookup"><span data-stu-id="6dd13-170">Suggested value</span></span>|<span data-ttu-id="6dd13-171">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6dd13-171">Description</span></span>
    ---|---|---
    <span data-ttu-id="6dd13-172">Datenbank-ID</span><span class="sxs-lookup"><span data-stu-id="6dd13-172">Database ID</span></span>|[!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]| <span data-ttu-id="6dd13-173">Datenbanknamen müssen zwischen 1 und 255 Zeichen lang sein und dürfen weder /, \\, #, ? noch nachgestellte Leerzeichen enthalten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-173">Database names must contain from 1 through 255 characters, and they cannot contain /, \\, #, ?, or a trailing space.</span></span><br><br><span data-ttu-id="6dd13-174">Sie können hier einen beliebigen Namen eingeben, aber wir schlagen [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] als Namen für die neue Datenbank vor, und auf diesen Namen beziehen wir uns in dieser Einheit.</span><span class="sxs-lookup"><span data-stu-id="6dd13-174">You are free to enter whatever you want here, but we suggest [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] as the name for the new database, and that's what we'll refer to in this unit.</span></span> |
    <span data-ttu-id="6dd13-175">Sammlungs-ID</span><span class="sxs-lookup"><span data-stu-id="6dd13-175">Collection ID</span></span>|[!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]|<span data-ttu-id="6dd13-176">Geben Sie [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] als Namen für die neue Sammlung ein.</span><span class="sxs-lookup"><span data-stu-id="6dd13-176">Enter [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] as the name for our new collection.</span></span> <span data-ttu-id="6dd13-177">Für Sammlungs-IDs gelten dieselben Zeichenanforderungen wie für Datenbanknamen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-177">Collection IDs have the same character requirements as database names.</span></span>
    <span data-ttu-id="6dd13-178">Speicherkapazität</span><span class="sxs-lookup"><span data-stu-id="6dd13-178">Storage capacity</span></span>| <span data-ttu-id="6dd13-179">Fest (10 GB)</span><span class="sxs-lookup"><span data-stu-id="6dd13-179">Fixed (10 GB)</span></span>|<span data-ttu-id="6dd13-180">Verwenden Sie den Standardwert **Fest (10 GB)**.</span><span class="sxs-lookup"><span data-stu-id="6dd13-180">Use the default value of **Fixed (10 GB)**.</span></span> <span data-ttu-id="6dd13-181">Dieser Wert gibt die Speicherkapazität der Datenbank an.</span><span class="sxs-lookup"><span data-stu-id="6dd13-181">This value is the storage capacity of the database.</span></span>
    <span data-ttu-id="6dd13-182">Durchsatz</span><span class="sxs-lookup"><span data-stu-id="6dd13-182">Throughput</span></span>|<span data-ttu-id="6dd13-183">400 RU</span><span class="sxs-lookup"><span data-stu-id="6dd13-183">400 RU</span></span>|<span data-ttu-id="6dd13-184">Ändern Sie den Durchsatz in 400 Anforderungseinheiten pro Sekunde (RU/s).</span><span class="sxs-lookup"><span data-stu-id="6dd13-184">Change the throughput to 400 request units per second (RU/s).</span></span> <span data-ttu-id="6dd13-185">Die Speicherkapazität muss auf **Fest (10 GB)** festgelegt werden, um den Durchsatz auf 400 RU/s festzulegen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-185">Storage capacity must be set to **Fixed (10 GB)** in order to set throughput to 400 RU/s.</span></span> <span data-ttu-id="6dd13-186">Sie können den Durchsatz später zentral hochskalieren, wenn Sie Wartezeiten verringern möchten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-186">If you want to reduce latency, you can scale up the throughput later.</span></span>
    
3. <span data-ttu-id="6dd13-187">Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="6dd13-187">Click **OK**.</span></span> <span data-ttu-id="6dd13-188">Im Daten-Explorer werden die neue Datenbank und die neue Sammlung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-188">The Data Explorer displays the new database and collection.</span></span> <span data-ttu-id="6dd13-189">Nun verfügen wir also über eine Datenbank.</span><span class="sxs-lookup"><span data-stu-id="6dd13-189">So, now we have a database.</span></span> <span data-ttu-id="6dd13-190">In der Datenbank haben wir eine Sammlung definiert.</span><span class="sxs-lookup"><span data-stu-id="6dd13-190">Inside the database, we've defined a collection.</span></span> <span data-ttu-id="6dd13-191">Im nächsten Schritt fügen wir einige Daten hinzu, die auch als Dokumente bezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="6dd13-191">Next we'll add some data, also known as documents.</span></span>

### <a name="add-test-data"></a><span data-ttu-id="6dd13-192">Hinzufügen von Testdaten</span><span class="sxs-lookup"><span data-stu-id="6dd13-192">Add test data</span></span>

<span data-ttu-id="6dd13-193">Wir haben eine Sammlung namens [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] in unserer Datenbank definiert, was also möchten wir in der Sammlung speichern?</span><span class="sxs-lookup"><span data-stu-id="6dd13-193">We've defined a collection in our database called [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)], so what are we intending to store in the collection?</span></span> <span data-ttu-id="6dd13-194">Nun, die Idee ist, eine URL und eine ID in jedem Dokument zu speichern, also eine Liste von Webseitenlesezeichen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-194">Well, the idea is to store a URL and ID in each document, like a list of web page bookmarks.</span></span> 

<span data-ttu-id="6dd13-195">Sie fügen nun mithilfe des Daten-Explorers der neuen Sammlung Daten hinzu.</span><span class="sxs-lookup"><span data-stu-id="6dd13-195">We'll add data to our new collection using Data Explorer.</span></span>

1. <span data-ttu-id="6dd13-196">Im Daten-Explorer wird die neue Datenbank im Bereich „Sammlungen“ angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-196">In Data Explorer, the new database appears in the Collections pane.</span></span> <span data-ttu-id="6dd13-197">Erweitern Sie die Datenbank [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] und die Sammlung [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)], und klicken Sie auf **Dokumente** und anschließend auf **Neues Dokument**.</span><span class="sxs-lookup"><span data-stu-id="6dd13-197">Expand the [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] database, expand the [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection, click **Documents**, and then click **New Document**.</span></span>
  
2. <span data-ttu-id="6dd13-198">Fügen Sie der Sammlung nun ein Dokument mit der folgenden Struktur hinzu.</span><span class="sxs-lookup"><span data-stu-id="6dd13-198">Now add a document to the collection with the following structure.</span></span> <span data-ttu-id="6dd13-199">Jedes Dokument ist eine schemalose JSON-Datei.</span><span class="sxs-lookup"><span data-stu-id="6dd13-199">Each document is schema-less JSON file.</span></span>

     ```json
     {
         "id": "docs",
         "URL": "https://docs.microsoft.com/azure"
     }
     ```

3. <span data-ttu-id="6dd13-200">Nachdem Sie die JSON-Datei auf der Registerkarte **Dokumente** hinzugefügt haben, klicken Sie auf **Speichern**.</span><span class="sxs-lookup"><span data-stu-id="6dd13-200">Once you've added the json to the **Documents** tab, click **Save**.</span></span>

<span data-ttu-id="6dd13-201">Wenn das Dokument gespeichert wird, beachten Sie, dass mehr Eigenschaften vorhanden sind als die, die wir hinzugefügt haben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-201">When the document is saved, notice that there are more properties than the ones we added.</span></span> <span data-ttu-id="6dd13-202">Sie beginnen alle mit einem Unterstrich (_rid, _self, _etag, _attachments, _ts).</span><span class="sxs-lookup"><span data-stu-id="6dd13-202">They all begin with an underline (_rid, _self, _etag, _attachments, _ts).</span></span> <span data-ttu-id="6dd13-203">Hierbei handelt es sich um Eigenschaften, die vom System zur Verwaltung des Dokuments generiert werden.</span><span class="sxs-lookup"><span data-stu-id="6dd13-203">These are properties generated by the system to help manage the document.</span></span> <span data-ttu-id="6dd13-204">In der folgenden Tabelle wird kurz erläutert, worum es sich dabei handelt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-204">The following table explains briefly what they are.</span></span>


|<span data-ttu-id="6dd13-205">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="6dd13-205">Property</span></span>  |<span data-ttu-id="6dd13-206">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6dd13-206">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="6dd13-207">_rid</span><span class="sxs-lookup"><span data-stu-id="6dd13-207">_rid</span></span>     |     <span data-ttu-id="6dd13-208">Die Ressourcen-ID (_rid) ist ein eindeutiger Bezeichner, der auch gemäß dem Ressourcenstapel für das Ressourcenmodell hierarchisch ist.</span><span class="sxs-lookup"><span data-stu-id="6dd13-208">The resource ID (_rid) is a unique identifier that is also hierarchical per the resource stack on the resource model.</span></span> <span data-ttu-id="6dd13-209">Sie wird intern für die Platzierung und Navigation der Dokumentressource verwendet.</span><span class="sxs-lookup"><span data-stu-id="6dd13-209">It is used internally for placement and navigation of the document resource.</span></span>    |
|<span data-ttu-id="6dd13-210">_self</span><span class="sxs-lookup"><span data-stu-id="6dd13-210">_self</span></span>     |   <span data-ttu-id="6dd13-211">Der eindeutig adressierbare URI für die Ressource.</span><span class="sxs-lookup"><span data-stu-id="6dd13-211">The unique addressable URI for the resource.</span></span>      |
|<span data-ttu-id="6dd13-212">_etag</span><span class="sxs-lookup"><span data-stu-id="6dd13-212">_etag</span></span>     |   <span data-ttu-id="6dd13-213">Für die Steuerung der optimistischen Parallelität erforderlich.</span><span class="sxs-lookup"><span data-stu-id="6dd13-213">Required for optimistic concurrency control.</span></span>     |
|<span data-ttu-id="6dd13-214">_attachments</span><span class="sxs-lookup"><span data-stu-id="6dd13-214">_attachments</span></span>     |  <span data-ttu-id="6dd13-215">Der adressierbaren Pfad für die Anlagenressource.</span><span class="sxs-lookup"><span data-stu-id="6dd13-215">The addressable path for the attachments resource.</span></span>       |
|<span data-ttu-id="6dd13-216">_ts</span><span class="sxs-lookup"><span data-stu-id="6dd13-216">_ts</span></span>     |    <span data-ttu-id="6dd13-217">Der Zeitstempel der letzten Aktualisierung dieser Ressource.</span><span class="sxs-lookup"><span data-stu-id="6dd13-217">The timestamp of the last update of this resource.</span></span>    |
 

4. <span data-ttu-id="6dd13-218">Fügen Sie der Sammlung weitere Dokumente hinzu.</span><span class="sxs-lookup"><span data-stu-id="6dd13-218">Let's add a few more documents into our collection.</span></span> <span data-ttu-id="6dd13-219">Verwenden Sie für jedes der folgenden Elemente den Befehl **Neues Dokument**, um die jeweiligen Einträge zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-219">For each of the following, use the **New Document** command again to create an entry for each.</span></span> <span data-ttu-id="6dd13-220">Vergessen Sie nicht, auf ##Speichern\*\* zu klicken, um die Hinzufügungen zu erfassen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-220">Don't forget to click ##Save\*\* to capture your additions.</span></span>

|<span data-ttu-id="6dd13-221">id</span><span class="sxs-lookup"><span data-stu-id="6dd13-221">id</span></span>  |<span data-ttu-id="6dd13-222">value</span><span class="sxs-lookup"><span data-stu-id="6dd13-222">value</span></span>  |
|---------|---------|
|<span data-ttu-id="6dd13-223">Portal</span><span class="sxs-lookup"><span data-stu-id="6dd13-223">portal</span></span>     |  https://portal.azure.com       |
|<span data-ttu-id="6dd13-224">learn</span><span class="sxs-lookup"><span data-stu-id="6dd13-224">learn</span></span>     |   https://docs.microsoft.com/learn |
|<span data-ttu-id="6dd13-225">marketplace</span><span class="sxs-lookup"><span data-stu-id="6dd13-225">marketplace</span></span>     |    https://azuremarketplace.microsoft.com/marketplace/apps  |
|<span data-ttu-id="6dd13-226">blog</span><span class="sxs-lookup"><span data-stu-id="6dd13-226">blog</span></span> | https://azure.microsoft.com/blog |

<span data-ttu-id="6dd13-227">Wenn Sie fertig sind, sollte Ihre Sammlung wie im folgenden Screenshot dargestellt aussehen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-227">When you've finished, your collection should look like the following screenshot.</span></span>

![Screenshot der SQL-API-Benutzeroberfläche im Portal mit der Liste der Einträge, die der Lesezeichenauflistung hinzugefügt wurden.](../media-draft/db-bookmark-coll.PNG)

<span data-ttu-id="6dd13-229">Wir verfügen nun über einige Einträge in der Lesezeichensammlung.</span><span class="sxs-lookup"><span data-stu-id="6dd13-229">We now have a few entries in our bookmark collection.</span></span> <span data-ttu-id="6dd13-230">Das Szenario funktioniert wie folgt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-230">Our scenario will work as follows.</span></span> <span data-ttu-id="6dd13-231">Wenn z.B. eine Anforderung mit „Id=docs“ eingeht, suchen wir in der Lesezeichensammlung nach dieser ID und geben die URL https://docs.microsoft.com/azure zurück.</span><span class="sxs-lookup"><span data-stu-id="6dd13-231">If a request arrives with, for example, "id=docs", we'll look up that ID in our bookmarks collection and return the URL https://docs.microsoft.com/azure.</span></span> <span data-ttu-id="6dd13-232">Erstellen Sie nun eine Azure-Funktion, die nach Werten in dieser Sammlung sucht.</span><span class="sxs-lookup"><span data-stu-id="6dd13-232">Let's make an Azure function that looks up values in this collection.</span></span>

## <a name="create-our-function"></a><span data-ttu-id="6dd13-233">Erstellen der Funktion</span><span class="sxs-lookup"><span data-stu-id="6dd13-233">Create our function</span></span>

1. <span data-ttu-id="6dd13-234">Navigieren Sie zu der Funktions-App, die Sie in der vorherigen Einheit erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-234">Navigate to the function app you created in the preceding unit.</span></span>

2. <span data-ttu-id="6dd13-235">Erweitern Sie die Funktions-App, zeigen Sie auf die Funktionssammlung, und wählen Sie dann die Schaltfläche „Hinzufügen“ (**+**) neben **Funktionen** aus.</span><span class="sxs-lookup"><span data-stu-id="6dd13-235">Expand your function app, then hover over the functions collection and select the Add (**+**) button next to **Functions**.</span></span> <span data-ttu-id="6dd13-236">Durch diese Aktion wird der Vorgang der Funktionserstellung gestartet.</span><span class="sxs-lookup"><span data-stu-id="6dd13-236">This action starts the function creation process.</span></span> <span data-ttu-id="6dd13-237">Die folgende Animation veranschaulicht diese Aktion.</span><span class="sxs-lookup"><span data-stu-id="6dd13-237">The following animation illustrates this action.</span></span>

![Animation des Pluszeichens, das angezeigt wird, wenn der Benutzer mit der Maus auf das Menüelement Funktionen zeigt.](../media-draft/func-app-plus-hover-small.gif)

3. <span data-ttu-id="6dd13-239">Die Seite zeigt den vollständigen Satz von unterstützten Triggern an.</span><span class="sxs-lookup"><span data-stu-id="6dd13-239">The page shows us the complete set of supported triggers.</span></span> <span data-ttu-id="6dd13-240">Wählen Sie **HTTP-Trigger** aus. Dies ist der erste Eintrag im folgenden Screenshot.</span><span class="sxs-lookup"><span data-stu-id="6dd13-240">Select **HTTP trigger**, which is the first entry in the following screenshot.</span></span>

![Screenshot eines Teils der Benutzeroberfläche zur Auswahl der Triggervorlage, wobei der HTTP-Trigger zuerst angezeigt wird (oben links in der Abbildung).](../media-draft/trigger-templates-small.PNG)

4. <span data-ttu-id="6dd13-242">Füllen Sie das auf der rechten Seite angezeigte Dialogfeld **Neue Funktion** mit den folgenden Werten aus.</span><span class="sxs-lookup"><span data-stu-id="6dd13-242">Fill out the **New Function** dialog that appears to the right  using the following values.</span></span>

|<span data-ttu-id="6dd13-243">Feld</span><span class="sxs-lookup"><span data-stu-id="6dd13-243">Field</span></span>  |<span data-ttu-id="6dd13-244">Wert</span><span class="sxs-lookup"><span data-stu-id="6dd13-244">Value</span></span>  |
|---------|---------|
|<span data-ttu-id="6dd13-245">Sprache</span><span class="sxs-lookup"><span data-stu-id="6dd13-245">Language</span></span>     | <span data-ttu-id="6dd13-246">**JavaScript**</span><span class="sxs-lookup"><span data-stu-id="6dd13-246">**JavaScript**</span></span>        |
|<span data-ttu-id="6dd13-247">Name</span><span class="sxs-lookup"><span data-stu-id="6dd13-247">Name</span></span>     |   [!INCLUDE [func-name-find](./func-name-find.md)]     |
| <span data-ttu-id="6dd13-248">Autorisierungsstufe</span><span class="sxs-lookup"><span data-stu-id="6dd13-248">Authorization level</span></span> | <span data-ttu-id="6dd13-249">**Funktion**</span><span class="sxs-lookup"><span data-stu-id="6dd13-249">**Function**</span></span> |

5. <span data-ttu-id="6dd13-250">Wählen Sie **Erstellen** aus, um unsere Funktion zu erstellen. Die Datei „index.js“ wird im Code-Editor geöffnet und zeigt eine Standardimplementierung der durch HTTP ausgelösten Funktion an.</span><span class="sxs-lookup"><span data-stu-id="6dd13-250">Select **Create** to create our function, which opens the index.js file in the code editor and displays a default implementation of the HTTP-triggered function.</span></span>

<span data-ttu-id="6dd13-251">Sie können überprüfen, was wir bisher erreicht haben, indem Sie unsere neue Funktion wie folgt testen:</span><span class="sxs-lookup"><span data-stu-id="6dd13-251">You can verify what we have done so far by testing our new function as follows:</span></span>

1. <span data-ttu-id="6dd13-252">Klicken Sie in der neuen Funktion rechts oben auf **</> Funktions-URL abrufen**, wählen Sie **Standard (Funktionsschlüssel)** aus, und klicken Sie dann auf **Kopieren**.</span><span class="sxs-lookup"><span data-stu-id="6dd13-252">In your new function, click **</> Get function URL** at the top right, select **default (Function key)**, and then click **Copy**.</span></span>

2. <span data-ttu-id="6dd13-253">Fügen Sie die Funktions-URL, die Sie kopiert haben, in die Adressleiste Ihres Browsers ein.</span><span class="sxs-lookup"><span data-stu-id="6dd13-253">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="6dd13-254">Fügen Sie den Wert der Abfragezeichenfolge `&name=<yourname>` am Ende der URL hinzu, und drücken Sie die Taste `Enter` auf Ihrer Tastatur, um die Anforderung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-254">Add the query string value `&name=<yourname>` to the end of this URL and press the `Enter` key on your keyboard to execute the request.</span></span> <span data-ttu-id="6dd13-255">Sie sollten eine Antwort ähnlich der folgenden Antwort sehen, die von der Funktion zurückgegeben und in Ihrem Browser angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6dd13-255">You should see a response similar to the following response returned by the function displayed in your browser.</span></span>  

<span data-ttu-id="6dd13-256">Nachdem unsere Basisfunktion nun funktioniert, sollten wir unsere Aufmerksamkeit auf das Lesen von Daten aus unserer Azure Cosmos DB oder (in unserem Szenario) der Sammlung [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] richten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-256">Now that we have our bare-bones function working, let's turn our attention to reading data from our Azure Cosmos DB, or in our scenario, our [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection.</span></span>

## <a name="add-a-cosmos-db-input-binding"></a><span data-ttu-id="6dd13-257">Hinzufügen einer Cosmos DB-Eingabebindung</span><span class="sxs-lookup"><span data-stu-id="6dd13-257">Add a Cosmos DB input binding</span></span>

<span data-ttu-id="6dd13-258">Wir möchten Daten aus der Datenbank lesen, die wir erstellt haben. Geben Sie also Eingabebindungen ein.</span><span class="sxs-lookup"><span data-stu-id="6dd13-258">We want to read data from the database we created, so enter input bindings.</span></span> <span data-ttu-id="6dd13-259">Wie Sie sehen werden, können wir in wenigen Schritten eine Bindung konfigurieren, die mit unserer Datenbank kommunizieren kann.</span><span class="sxs-lookup"><span data-stu-id="6dd13-259">As you'll see, we can configure a binding that can talk to our database in just a few steps.</span></span>

1. <span data-ttu-id="6dd13-260">Wählen Sie **Integrieren** im Funktionsmenü auf der linken Seite aus, um die Registerkarte „Integration“ zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-260">Select **Integrate** in the function menu on the left to open the integration tab.</span></span>

<span data-ttu-id="6dd13-261">Die verwendete Vorlage hat einen HTTP-Trigger und eine HTTP-Ausgabebindung für uns erstellt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-261">The template we used created an HTTP trigger and an HTTP output binding for us.</span></span> <span data-ttu-id="6dd13-262">Fügen Sie die neue Azure Cosmos DB-Eingabebindung hinzu.</span><span class="sxs-lookup"><span data-stu-id="6dd13-262">Let's add our new Azure Cosmos DB input binding.</span></span> 

2. <span data-ttu-id="6dd13-263">Wählen Sie **+ neue Eingabe** unter der Spalte **Eingaben** aus.</span><span class="sxs-lookup"><span data-stu-id="6dd13-263">Select **+ New Input** under the **Inputs** column.</span></span> <span data-ttu-id="6dd13-264">Eine Liste aller möglichen Eingabebindungstypen wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-264">A list of all possible input binding types is displayed.</span></span>

3. <span data-ttu-id="6dd13-265">Klicken Sie in der Liste auf **Azure Cosmos DB**, und klicken Sie dann die Schaltfläche **Auswählen**.</span><span class="sxs-lookup"><span data-stu-id="6dd13-265">Click on **Azure Cosmos DB** from the list and then the **Select** button.</span></span> <span data-ttu-id="6dd13-266">Durch diese Aktion wird die Azure Cosmos DB-Eingabekonfigurationsseite geöffnet.</span><span class="sxs-lookup"><span data-stu-id="6dd13-266">This action opens the Azure Cosmos DB input configuration page.</span></span>

<span data-ttu-id="6dd13-267">Im nächsten Schritt müssen Sie eine Verbindung mit unserer Datenbank einrichten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-267">Next, we'll set up a connection to our database.</span></span>

4. <span data-ttu-id="6dd13-268">Klicken Sie im Feld mit dem Namen **Azure Cosmos DB-Kontoverbindung** auf dieser Seite rechts neben dem leeren Feld auf *Neu*.</span><span class="sxs-lookup"><span data-stu-id="6dd13-268">In the field named **Azure Cosmos DB account connection** on this page, click on *new* to the right of the empty field.</span></span> <span data-ttu-id="6dd13-269">Durch diese Aktion wird das Dialogfeld **Verbindung** geöffnet, in dem bereits **Azure Cosmos DB-Konto** und Ihr Azure-Abonnement ausgewählt sind.</span><span class="sxs-lookup"><span data-stu-id="6dd13-269">This action opens the **Connection** dialog, which already has **Azure Cosmos DB account** and your Azure subscription selected.</span></span> <span data-ttu-id="6dd13-270">Sie müssen nur noch eine Datenbankkonto-ID auswählen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-270">The only thing left to do is to select a database account id.</span></span>

5. <span data-ttu-id="6dd13-271">Im Abschnitt **Datenbankkonto erstellen** mussten Sie einen ID-Wert angeben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-271">In the section, **Create a database account**, you had to supply an ID value.</span></span> <span data-ttu-id="6dd13-272">Suchen Sie nun in der Dropdownliste *Datenbankkonto* nach diesem Wert, und klicken Sie dann auf **Auswählen**.</span><span class="sxs-lookup"><span data-stu-id="6dd13-272">Now find that value in the  *Database Account* dropdown and then click **Select**.</span></span>

<span data-ttu-id="6dd13-273">Eine neue Verbindung mit der Datenbank wird konfiguriert und im Feld **Azure Cosmos DB-Kontoverbindung** angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-273">A new connection to the database is configured and is shown in the **Azure Cosmos DB account connection** field.</span></span> <span data-ttu-id="6dd13-274">Wenn Sie neugierig sind, was sich tatsächlich hinter diesem abstrakten Name verbirgt, klicken Sie einfach auf *Wert anzeigen*, um die Verbindungszeichenfolge anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-274">If you're curious about what is actually behind this abstract name, just click *show value* to reveal the connection string.</span></span>

<span data-ttu-id="6dd13-275">Wir möchten nach einem Lesezeichen mit einer bestimmten ID suchen. Verknüpfen Sie die erhaltene ID also mit der Bindung.</span><span class="sxs-lookup"><span data-stu-id="6dd13-275">We want to look up a bookmark with a specific ID, so let's tie the ID we receive to the binding.</span></span>

7. <span data-ttu-id="6dd13-276">Geben Sie im Feld **Dokument-ID (optional)** die Angabe `{id}` ein.</span><span class="sxs-lookup"><span data-stu-id="6dd13-276">In the **Document ID (optional)** field, enter `{id}`.</span></span> <span data-ttu-id="6dd13-277">Dies wird als ein *Bindungsausdruck* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6dd13-277">This is known as a *binding expression*.</span></span> <span data-ttu-id="6dd13-278">Die Funktion wird durch eine HTTP-Anforderung ausgelöst, die eine Abfragezeichenfolge verwendet, um die zu suchende ID anzugeben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-278">The function is triggered by an HTTP request that uses a query string to specify the ID to look up.</span></span> <span data-ttu-id="6dd13-279">Da IDs in der Sammlung eindeutig sind, gibt die Bindung 0 (nicht gefunden) oder 1 (gefunden) Dokument(e) zurück.</span><span class="sxs-lookup"><span data-stu-id="6dd13-279">Since IDs are unique in our collection, the binding will return either 0 (not found) or 1 (found) documents.</span></span>

8. <span data-ttu-id="6dd13-280">Füllen Sie die verbleibenden Felder auf dieser Seite sorgfältig mit den Werten in der folgenden Tabelle aus.</span><span class="sxs-lookup"><span data-stu-id="6dd13-280">Carefully fill out the remaining fields on this page using the values in the following table.</span></span> <span data-ttu-id="6dd13-281">Sie können jederzeit auf das Informationssymbol rechts neben dem jeweiligen Feldnamen klicken, um weitere Informationen zum Zweck der einzelnen Felder zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-281">At any time, you can click on the information icon to the right of each field name to learn more about the purpose of each field.</span></span>


|<span data-ttu-id="6dd13-282">Einstellung</span><span class="sxs-lookup"><span data-stu-id="6dd13-282">Setting</span></span>  |<span data-ttu-id="6dd13-283">Wert</span><span class="sxs-lookup"><span data-stu-id="6dd13-283">Value</span></span>  |<span data-ttu-id="6dd13-284">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6dd13-284">Description</span></span>  |
|---------|---------|---------|
|<span data-ttu-id="6dd13-285">Dokumentparametername</span><span class="sxs-lookup"><span data-stu-id="6dd13-285">Document parameter name</span></span>     |  <span data-ttu-id="6dd13-286">**bookmark**</span><span class="sxs-lookup"><span data-stu-id="6dd13-286">**bookmark**</span></span>       |  <span data-ttu-id="6dd13-287">Der Name, der zum Identifizieren dieser Bindung in Ihrem Code verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6dd13-287">The name used to identify this binding in your code.</span></span>      |
|<span data-ttu-id="6dd13-288">Datenbankname</span><span class="sxs-lookup"><span data-stu-id="6dd13-288">Database name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]       | <span data-ttu-id="6dd13-289">Die Datenbank, aus der die Daten gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="6dd13-289">The database where data will be read.</span></span> <span data-ttu-id="6dd13-290">Dies ist der Datenbankname, den wir zuvor in dieser Lektion festgelegt haben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-290">This is the database name we set earlier in this lesson.</span></span>        |
|<span data-ttu-id="6dd13-291">Sammlungsname</span><span class="sxs-lookup"><span data-stu-id="6dd13-291">Collection Name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-coll-name.md)]        | <span data-ttu-id="6dd13-292">Die Sammlung, aus der Daten gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="6dd13-292">The collection from which we'll read data.</span></span> <span data-ttu-id="6dd13-293">Diese Einstellung wurde zuvor in dieser Lektion definiert.</span><span class="sxs-lookup"><span data-stu-id="6dd13-293">This setting was defined earlier in the lesson.</span></span> |
|<span data-ttu-id="6dd13-294">SQL-Abfrage (optional)</span><span class="sxs-lookup"><span data-stu-id="6dd13-294">SQL Query (optional)</span></span>    |   <span data-ttu-id="6dd13-295">Leer lassen</span><span class="sxs-lookup"><span data-stu-id="6dd13-295">leave blank</span></span>       |   <span data-ttu-id="6dd13-296">Wir rufen jeweils nur ein Dokument basierend auf der ID ab.</span><span class="sxs-lookup"><span data-stu-id="6dd13-296">We are only retrieving one document at a time based on the ID.</span></span> <span data-ttu-id="6dd13-297">Daher ist die Filterung anhand des Dokument-ID-Felds in diesem Fall besser als die Verwendung einer SQL-Abfrage.</span><span class="sxs-lookup"><span data-stu-id="6dd13-297">So, filtering with the Document ID field is a better than using a SQL Query in this instance.</span></span> <span data-ttu-id="6dd13-298">Wir könnten eine SQL-Abfrage für die Rückgabe eines Eintrags (`SELECT * from b where b.ID = {id}`) erstellen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-298">We could craft a SQL Query to return one entry (`SELECT * from b where b.ID = {id}`).</span></span> <span data-ttu-id="6dd13-299">Diese Abfrage würde tatsächlich ein Dokument zurückgeben, aber es würde in einer Dokumentsammlung zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-299">That query would indeed return a document, but it would return it in a document collection.</span></span> <span data-ttu-id="6dd13-300">Unser Code müsste eine Sammlung unnötigerweise bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="6dd13-300">Our code would have to manipulate a collection unnecessarily.</span></span> <span data-ttu-id="6dd13-301">Verwenden Sie den SQL-Abfrageansatz, wenn mehrere Dokumente abgerufen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-301">Use the SQL Query approach when you want to get multiple documents.</span></span>   |
|<span data-ttu-id="6dd13-302">Partitionsschlüssel (optional)</span><span class="sxs-lookup"><span data-stu-id="6dd13-302">Partition key (optional)</span></span>     |   <span data-ttu-id="6dd13-303">Leer lassen</span><span class="sxs-lookup"><span data-stu-id="6dd13-303">leave blank</span></span>      |  <span data-ttu-id="6dd13-304">Sie können die Standardwerte hier übernehmen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-304">We can accept the default here.</span></span>       |

9. <span data-ttu-id="6dd13-305">Klicken Sie auf **Speichern**, um alle Änderungen an dieser Bindungskonfiguration zu speichern.</span><span class="sxs-lookup"><span data-stu-id="6dd13-305">Click **Save** to save all changes to this binding configuration.</span></span> <span data-ttu-id="6dd13-306">Da wir jetzt unsere Bindung definiert haben, ist es an der Zeit, sie in unserer Funktion zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="6dd13-306">Now that we have our binding defined, it's time to use it in our function.</span></span>

## <a name="update-function-implementation"></a><span data-ttu-id="6dd13-307">Aktualisieren der Funktionsimplementierung</span><span class="sxs-lookup"><span data-stu-id="6dd13-307">Update function implementation</span></span>

1. <span data-ttu-id="6dd13-308">Klicken Sie auf unsere Funktion ([!INCLUDE [func-name-find](./func-name-find.md)]), um *index.js* im Code-Editor zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-308">Click on our function, [!INCLUDE [func-name-find](./func-name-find.md)], to open up *index.js* in the code editor.</span></span> <span data-ttu-id="6dd13-309">Wir haben eine Eingabebindung hinzugefügt, um aus unserer Datenbank zu lesen. Lassen Sie uns also die Logik so aktualisieren, dass diese Bindung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6dd13-309">We've added an input binding to read from our database, so let's update the logic to use this binding.</span></span>

2. <span data-ttu-id="6dd13-310">Ersetzen Sie den gesamten Code in „index.js“ durch den Code im folgenden Codeausschnitt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-310">Replace all code in index.js with the code from the following snippet.</span></span>

[!code-javascript[](../code/find-bookmark-single.js)]

<span data-ttu-id="6dd13-311">Wenn eine HTTP-Anforderung bewirkt, dass unsere Funktion ausgelöst wird, wird der `id`-Abfrageparameter an unsere Cosmos DB Eingabebindung übergeben.</span><span class="sxs-lookup"><span data-stu-id="6dd13-311">When an HTTP request causes our function to trigger, the `id` query parameter is passed to our Cosmos DB input binding.</span></span> <span data-ttu-id="6dd13-312">Wenn ein Dokument gefunden wird, das dieser ID entspricht, wird der `bookmark`-Parameter auf dieses festgelegt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-312">If it found a document that matches this ID, then the `bookmark` parameter will be set to it.</span></span> <span data-ttu-id="6dd13-313">In diesem Fall erstellen wir eine Antwort mit dem URL-Wert, der im Lesezeichendokument gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="6dd13-313">In that case, we construct a response that contains the URL value found in the bookmark document.</span></span> <span data-ttu-id="6dd13-314">Wenn kein Dokument gefunden wurde, das mit diesem Schlüssel übereinstimmt, reagieren wir mit einer Nutzlast und einen Statuscode, der dem Benutzer die schlechte Nachricht mitteilt.</span><span class="sxs-lookup"><span data-stu-id="6dd13-314">If no document was found matching this key, we respond with a payload and status code that tells the user the bad news.</span></span>

## <a name="try-it-out"></a><span data-ttu-id="6dd13-315">Testen</span><span class="sxs-lookup"><span data-stu-id="6dd13-315">Try it out</span></span>

1. <span data-ttu-id="6dd13-316">Klicken Sie wie üblich rechts oben auf **</> Funktions-URL abrufen**, wählen Sie **Standard (Funktionsschlüssel)** aus, und klicken Sie dann auf **Kopieren**., um die URL der Funktion zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="6dd13-316">As usual, click **</> Get function URL** at the top right, select **default (Function key)**, and then click **Copy** to copy the function's URL.</span></span>

2. <span data-ttu-id="6dd13-317">Fügen Sie die Funktions-URL, die Sie kopiert haben, in die Adressleiste Ihres Browsers ein.</span><span class="sxs-lookup"><span data-stu-id="6dd13-317">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="6dd13-318">Fügen Sie den Wert der Abfragezeichenfolge `&id=docs` am Ende der URL hinzu, und drücken Sie die Taste `Enter` auf Ihrer Tastatur, um die Anforderung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-318">Add the query string value `&id=docs` to the end of this URL and press the `Enter` key on your keyboard to execute the request.</span></span> <span data-ttu-id="6dd13-319">Wenn alles ordnungsgemäß ist, sollte eine Antwort angezeigt werden, die eine URL zu dieser Ressource enthält.</span><span class="sxs-lookup"><span data-stu-id="6dd13-319">All going well, you should see a response that includes a URL to that resource.</span></span>

3. <span data-ttu-id="6dd13-320">Ersetzen Sie `&id=docs` durch `&id=missing`, und beobachten Sie die Antwort.</span><span class="sxs-lookup"><span data-stu-id="6dd13-320">Replace `&id=docs` with `&id=missing` and observe the response.</span></span>

4. <span data-ttu-id="6dd13-321">Ersetzen Sie die vorherige Abfragezeichenfolge durch `&id=`, und beobachten Sie die Antwort.</span><span class="sxs-lookup"><span data-stu-id="6dd13-321">Replace the previous query string with `&id=` and observe the response.</span></span>

>[!TIP]
><span data-ttu-id="6dd13-322">Sie können die Funktion auch mithilfe der Registerkarte **Test** in der Benutzeroberfläche des Funktionsportals testen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-322">You can also test the function using the **Test** tab in the function portal UI.</span></span> <span data-ttu-id="6dd13-323">Sie können einen Abfrageparameter hinzufügen oder einfach Anforderungstext angeben, um die gleichen Ergebnisse zu erhalten, die in den vorangegangenen Schritten beschrieben wurden.</span><span class="sxs-lookup"><span data-stu-id="6dd13-323">You can add a query parameter or just supply a request body to get the same results as described in te preceding steps.</span></span>

<span data-ttu-id="6dd13-324">In dieser Einheit haben wir unsere erste Eingabebindung manuell erstellt, um aus einer Azure Cosmos DB-Datenbank zu lesen.</span><span class="sxs-lookup"><span data-stu-id="6dd13-324">In this unit, we created our first input binding  manually to read from an Azure Cosmos DB database.</span></span> <span data-ttu-id="6dd13-325">Die Menge an Code, die wir geschrieben haben, um unsere Datenbank zu durchsuchen und Daten zu lesen, war dank Bindungen nur minimal.</span><span class="sxs-lookup"><span data-stu-id="6dd13-325">The amount of code we wrote to search our database and read data was minimal, thanks to bindings.</span></span> <span data-ttu-id="6dd13-326">Der größte Teil unserer Arbeit bestand im deklarativen Konfigurieren der Bindung, und die Plattform hat sich um den Rest gekümmert.</span><span class="sxs-lookup"><span data-stu-id="6dd13-326">We did most of our work configuring the binding declaratively and the platform took care of the rest.</span></span>  

<span data-ttu-id="6dd13-327">In der nächsten Einheit fügen wir unserer Lesezeichensammlung durch eine Azure Cosmos DB-Ausgabebindung weitere Daten hinzu.</span><span class="sxs-lookup"><span data-stu-id="6dd13-327">In the next unit, we'll add more data to our bookmark collection through an Azure Cosmos DB output binding.</span></span>

> [!TIP]
> <span data-ttu-id="6dd13-328">Diese Einheit ist nicht als Tutorial zu Azure Cosmos DB gedacht.</span><span class="sxs-lookup"><span data-stu-id="6dd13-328">This unit is not intended to be a tutorial on Azure Cosmos DB.</span></span> <span data-ttu-id="6dd13-329">Wenn Sie tiefere Einblicke wünschen, finden Sie hier einige Ressourcen, die Ihnen den Einstieg erleichtern:</span><span class="sxs-lookup"><span data-stu-id="6dd13-329">If you would like to dive deeper, here are a few resources to get you started:</span></span>
>
>* [<span data-ttu-id="6dd13-330">Einführung in Azure Cosmos DB: SQL-API</span><span class="sxs-lookup"><span data-stu-id="6dd13-330">Introduction to Azure Cosmos DB: SQL API</span></span>](https://docs.microsoft.com/azure/cosmos-db/sql-api-introduction)
>
>* [<span data-ttu-id="6dd13-331">Technische Übersicht über Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="6dd13-331">A technical overview of Azure Cosmos DB</span></span>](https://azure.microsoft.com/blog/a-technical-overview-of-azure-cosmos-db/)
>
>* [<span data-ttu-id="6dd13-332">Dokumentation für Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="6dd13-332">Azure Cosmos DB documentation</span></span>](https://docs.microsoft.com/azure/cosmos-db/)