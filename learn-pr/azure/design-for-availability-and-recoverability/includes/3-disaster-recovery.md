<span data-ttu-id="130d3-101">Wenn beim Entwerfen die Hochverfügbarkeit berücksichtigt wird, kann eine Anwendung oder ein Prozess auch dann weiter ausgeführt werden, wenn negative Ereignisse eintreten oder widrige Bedingungen herrschen.</span><span class="sxs-lookup"><span data-stu-id="130d3-101">Designing for high availability helps keep an application or process running despite unfavorable events and adverse conditions.</span></span> <span data-ttu-id="130d3-102">Aber was können Sie tun, wenn das Ereignis so schwerwiegend ist, dass Daten verloren gehen, und Sie nicht verhindern können, dass Ihre Apps und Prozesse ausfallen?</span><span class="sxs-lookup"><span data-stu-id="130d3-102">But what do you do when something so significant happens that you've lost data and it's impossible to keep your apps and processes from going down?</span></span> <span data-ttu-id="130d3-103">Sie müssen über einen Plan für Notfälle verfügen.</span><span class="sxs-lookup"><span data-stu-id="130d3-103">When disaster strikes, you need to have a plan.</span></span> <span data-ttu-id="130d3-104">Ihnen sollte bewusst sein, welche Ziele und Erwartungen für die Wiederherstellung gelten, welche Kosten und Einschränkungen mit Ihrem Plan verbunden sind und wie Sie vorgehen müssen.</span><span class="sxs-lookup"><span data-stu-id="130d3-104">You should know what your goals and expectations are for recovering, what the costs and limitations of your plan are, and how to execute on it.</span></span>

## <a name="what-is-disaster-recovery"></a><span data-ttu-id="130d3-105">Was ist die Notfallwiederherstellung?</span><span class="sxs-lookup"><span data-stu-id="130d3-105">What is disaster recovery?</span></span>

<span data-ttu-id="130d3-106">Bei der Notfallwiederherstellung geht es um *die Wiederherstellung nach schwerwiegenden Ereignissen*, die zu Ausfallzeiten und Datenverlust führen.</span><span class="sxs-lookup"><span data-stu-id="130d3-106">Disaster recovery is about *recovering from high-impact events* that result in downtime and loss of data.</span></span> <span data-ttu-id="130d3-107">Ein Notfall ist ein einzelnes größeres Ereignis mit sehr starken und länger andauernden Auswirkungen, denen über die Hochverfügbarkeitsfunktionen der Anwendung nicht begegnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="130d3-107">A disaster is a single, major event with an impact much larger and long-lasting than the application can mitigate through the high-availability portion of its design.</span></span>

<span data-ttu-id="130d3-108">Beim Begriff „Notfall“ (bzw. „Katastrophe“) wird häufig an *Naturkatastrophen* (Erdbeben, Überschwemmungen, Tropenstürme usw.) gedacht, aber es gibt noch viele andere Arten von Notfällen.</span><span class="sxs-lookup"><span data-stu-id="130d3-108">The word "disaster" often evokes thoughts of *natural* disasters and external events (earthquakes, floods, tropical storms, etc) but many other kinds of disaster exist as well.</span></span> <span data-ttu-id="130d3-109">Eine Bereitstellung oder ein Upgrade, bei der bzw. dem schwere Fehler auftreten, kann dazu führen, dass sich eine App in einem nicht erkennbaren Zustand befindet.</span><span class="sxs-lookup"><span data-stu-id="130d3-109">A deployment or upgrade that goes horribly wrong can leave an app in an unrecognizable state.</span></span> <span data-ttu-id="130d3-110">Leichte Fehler bei der Implementierung oder Konfiguration können das Schreiben von fehlerhaften Daten oder das Löschen von Daten, die als beständig angesehen werden, nach sich ziehen.</span><span class="sxs-lookup"><span data-stu-id="130d3-110">Subtle implementation or configuration errors can write bad data or delete data assumed to be permanent.</span></span> <span data-ttu-id="130d3-111">Böswillige Hacker können Daten beschädigen oder löschen und andere Arten von Schäden verursachen, sodass eine App in den Offlinezustand versetzt wird oder einen Teil ihrer Funktionalität verliert.</span><span class="sxs-lookup"><span data-stu-id="130d3-111">Malicious hackers can corrupt or delete data and inflict other kinds of damage that take an app offline or eliminate some of its functionality.</span></span>

<span data-ttu-id="130d3-112">Unabhängig von der Ursache sind die einzigen Gegenmittel nach einem Notfall ein gut definierter, getesteter Plan für die Notfallwiederherstellung und eine Anwendung, die so entworfen wurde, dass Maßnahmen für die Notfallwiederherstellung aktiv unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-112">Regardless of its cause, the only remedy for a disaster once it has occurred is a well-defined, tested disaster recovery plan and an application that actively supports disaster recovery efforts through its design.</span></span>

## <a name="how-to-create-a-disaster-recovery-plan"></a><span data-ttu-id="130d3-113">Erstellen eines Plans für die Notfallwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="130d3-113">How to create a disaster recovery plan</span></span>

<span data-ttu-id="130d3-114">Ein Plan für die Notfallwiederherstellung ist ein einzelnes Dokument mit den Details zu den Verfahren, die für die Wiederherstellung nach einem Datenverlust und Ausfallzeiten aufgrund eines Notfalls erforderlich sind. Außerdem ist darin angegeben, wer die Leitung bei der Durchführung dieser Maßnahmen innehat.</span><span class="sxs-lookup"><span data-stu-id="130d3-114">A disaster recovery plan is a single document that details the procedures required to recover from data loss and downtime caused by a disaster, and identifies who is in charge of directing those procedures.</span></span> <span data-ttu-id="130d3-115">Bediener sollten den Plan als Anleitung zum Wiederherstellen der Anwendungskonnektivität und der Daten nach einem Notfall verwenden können.</span><span class="sxs-lookup"><span data-stu-id="130d3-115">Operators should be able to use the plan as a manual to restore application connectivity and recover data after a disaster occurs.</span></span> <span data-ttu-id="130d3-116">Ein ausführlicher Plan für die Notfallwiederherstellung in Schriftform ist von entscheidender Bedeutung, um sicherzustellen, dass ein akzeptables Ergebnis erzielt wird: Der Prozess zum Erstellen des Plans trägt zur Erstellung eines vollständigen Bilds der Anwendung bei, und die sich ergebenden niedergeschriebenen Schritte fördern das Treffen von guten Entscheidungen und sind die Grundlage für die weitere Bearbeitung in der von Panik erfüllten und chaotischen Zeit nach einem Notfallereignis.</span><span class="sxs-lookup"><span data-stu-id="130d3-116">A detailed, written plan dedicated to disaster recovery is critical to ensuring a favorable outcome: the process of creating the plan will help to assemble a complete picture of the application, and the resulting written steps will promote good decision-making and follow-through in the panicked, chaotic aftermath of a disaster event.</span></span>

<span data-ttu-id="130d3-117">Zum Erstellen eines Plans für die Notfallwiederherstellung ist Expertenwissen in Bezug auf die Workflows, Daten, Infrastruktur und Abhängigkeiten einer Anwendung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="130d3-117">Creating a disaster recovery plan requires expert knowledge of the application's workflows, data, infrastructure, and dependencies.</span></span>

### <a name="risk-assessment-and-process-inventory"></a><span data-ttu-id="130d3-118">Risikobewertung und Prozessbestandsdaten</span><span class="sxs-lookup"><span data-stu-id="130d3-118">Risk assessment and process inventory</span></span>

<span data-ttu-id="130d3-119">Der erste Schritt beim Erstellen eines Plans für die Notfallwiederherstellung ist die Durchführung einer Risikoanalyse, mit der die Auswirkungen unterschiedlicher Arten von Notfällen auf die Anwendung untersucht werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-119">The first step in creating a disaster recovery plan is performing a risk analysis that examines the impact of different kinds of disasters on the application.</span></span> <span data-ttu-id="130d3-120">Die genaue Art eines Notfalls ist für die Risikoanalyse nicht so wichtig wie die potenziellen Auswirkungen aufgrund von Datenverlust und Ausfallzeiten der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="130d3-120">The exact nature of a disaster isn't as important to the risk analysis as its potential impact through data loss and application downtime.</span></span> <span data-ttu-id="130d3-121">Untersuchen Sie verschiedene Arten von hypothetischen Notfällen, und versuchen Sie, sich die spezifischen Auswirkungen vorzustellen: Bei einem zielgerichteten schädlichen Angriff können beispielsweise Code oder Daten verändert werden, woraus sich andere Auswirkungen als bei einem Erdbeben ergeben, bei dem die Netzwerkkonnektivität und die Datacenterverfügbarkeit gestört werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-121">Explore various kinds of hypothetical disasters and try to be specific when thinking about their effects: for example, a targeted malicious attack may modify code or data that results in a different kind of impact than an earthquake that disrupts network connectivity and datacenter availability.</span></span>

<span data-ttu-id="130d3-122">Bei der Risikobewertung müssen *alle* Prozesse berücksichtigt werden, für die es nicht zu unbegrenzten Ausfallzeiten kommen kann, sowie alle Datenkategorien, für die keine unbegrenzten Datenverluste auftreten können.</span><span class="sxs-lookup"><span data-stu-id="130d3-122">The risk assessment needs to consider *every* process that can't afford unlimited downtime, and every category of data that can't afford unlimited loss.</span></span> <span data-ttu-id="130d3-123">Wenn ein Notfall eintritt, der sich auf mehrere Anwendungskomponenten bezieht, ist es wichtig, dass die Besitzer des Plans diesen für folgende Zwecke verwenden können: Erstellung eines vollständigen Bestands der Punkte, die behandelt werden müssen, und die Priorisierung der einzelnen Elemente.</span><span class="sxs-lookup"><span data-stu-id="130d3-123">When a disaster that affects multiple application components occurs, it's critical that the plan owners can use the plan to take a complete inventory of what needs attention and how to prioritize each item.</span></span>

<span data-ttu-id="130d3-124">Einige Apps können unter Umständen nur einen einzelnen Prozess oder eine Klassifizierung von Daten darstellen.</span><span class="sxs-lookup"><span data-stu-id="130d3-124">Some apps may only constitute a single process or classification of data.</span></span> <span data-ttu-id="130d3-125">Dies sollte trotzdem beachtet werden, da die Anwendung wahrscheinlich eine Komponente eines größeren Plans für die Notfallwiederherstellung ist, der mehrere Anwendungen innerhalb der Organisation umfasst.</span><span class="sxs-lookup"><span data-stu-id="130d3-125">This is still important to note, as the application will likely be one component of a larger disaster recovery plan that includes multiple applications with the organization.</span></span>

### <a name="recovery-objectives"></a><span data-ttu-id="130d3-126">Ziele der Wiederherstellung</span><span class="sxs-lookup"><span data-stu-id="130d3-126">Recovery objectives</span></span>

<span data-ttu-id="130d3-127">Für einen vollständigen Plan müssen für jeden Prozess, der von der Anwendung implementiert wird, zwei wichtige Geschäftsanforderungen angegeben werden:</span><span class="sxs-lookup"><span data-stu-id="130d3-127">A complete plan needs to specify two critical business requirements for each process implemented by the application:</span></span>

* <span data-ttu-id="130d3-128">**Recovery Point Objective (RPO)**: Die maximale Dauer des akzeptablen Datenverlusts.</span><span class="sxs-lookup"><span data-stu-id="130d3-128">**Recovery Point Objective (RPO)**: The maximum duration of acceptable data loss.</span></span> <span data-ttu-id="130d3-129">Der RPO-Wert wird in Zeiteinheiten gemessen, nicht anhand des Umfangs: „30 Minuten an Daten“, „vier Stunden an Daten“ usw. Beim RPO-Wert geht es um das Einschränken und Wiederherstellen des *Verlusts* von Daten, nicht um den *Diebstahl* von Daten.</span><span class="sxs-lookup"><span data-stu-id="130d3-129">RPO is measured in units of time, not volume: "30 minutes of data", "four hours of data", etc. RPO is about limiting and recovering from data *loss*, not data *theft*.</span></span>
* <span data-ttu-id="130d3-130">**Recovery Time Objective (RTO)**: Die maximale Dauer der akzeptablen Ausfallzeit, wobei „Ausfallzeit“ gemäß Ihrer Spezifikation definiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="130d3-130">**Recovery Time Objective (RTO)**: The maximum duration of acceptable downtime, where "downtime" needs to be defined by your specification.</span></span>

![RTO und RPO](../media-draft/rto-rpo.png)

<span data-ttu-id="130d3-132">Jeder größere Prozess bzw. jede Workload, der bzw. die von einer App implementiert wird, sollte über separate RPO- und RTO-Werte verfügen.</span><span class="sxs-lookup"><span data-stu-id="130d3-132">Each major process or workload implemented by an app should have separate RPO and RTO values.</span></span> <span data-ttu-id="130d3-133">Auch wenn Sie für unterschiedliche Prozesse zu den gleichen Werten gelangen, sollten diese jeweils anhand einer separaten Analyse generiert werden, mit der Risiken von Notfallszenarien und potenzielle Wiederherstellungsstrategien für jeden Prozess untersucht werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-133">Even if you arrive at the same values for different processes, each one should be generated through a separate analysis that examines disaster scenario risks and potential recovery strategies for each respective process.</span></span>

<span data-ttu-id="130d3-134">Das Angeben eines RPO- und RTO-Werts entspricht praktisch der Erstellung der Anforderungen an die Notfallwiederherstellung für Ihre Anwendung.</span><span class="sxs-lookup"><span data-stu-id="130d3-134">The process of specifying an RPO and RTO is effectively the creation of disaster recovery requirements for your application.</span></span> <span data-ttu-id="130d3-135">Es müssen die Priorität jeder Workload und die Datenkategorie angegeben werden. Darüber hinaus muss eine Kosten-Nutzen-Analyse durchgeführt werden, mit der Bereiche wie Implementierungs- und Wartungskosten, Betriebskosten, Verarbeitungsaufwand, Auswirkungen auf die Leistung und die Auswirkungen von Ausfallzeiten und Datenverlust abgedeckt werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-135">It requires establishing the priority of each workload and category of data and performing a cost-benefit analysis that includes concerns such as implementation and maintenance cost, operational expense, process overhead, performance impact, and the impact of downtime and lost data.</span></span> <span data-ttu-id="130d3-136">Sie müssen genau definieren, was „Ausfallzeit“ für Ihre Anwendung bedeutet, und in einigen Fällen müssen Sie unter Umständen separate RPO- und RTO-Werte für unterschiedliche Funktionalitätsebenen angeben.</span><span class="sxs-lookup"><span data-stu-id="130d3-136">You will need to define exactly what "downtime" means for your application, and in some cases, you may establish separate RPO and RTO values for different levels of functionality.</span></span> <span data-ttu-id="130d3-137">Das Angeben der RPO- und RTO-Werte sollte mehr als das einfache Auswählen von willkürlichen Werten sein.</span><span class="sxs-lookup"><span data-stu-id="130d3-137">Specifying RPO and RTO should be more than simply choosing arbitrary values.</span></span> <span data-ttu-id="130d3-138">Ein Großteil des Nutzens eines Plans für die Notfallwiederherstellung ergibt sich aus den Recherche- und Analyseschritten, die beim Ermitteln der potenziellen Auswirkungen eines Notfalls und der Kosten für die Risikoeindämmung ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-138">Much of the value of a disaster recovery plan comes from the research and analysis that goes into discovering the potential impact of a disaster and the cost of mitigating the risks.</span></span>

<span data-ttu-id="130d3-139">Bei RPO und RTO handelt es sich um *Ziele* (Objectives).</span><span class="sxs-lookup"><span data-stu-id="130d3-139">RPO and RTO are *objectives*.</span></span> <span data-ttu-id="130d3-140">Notfälle und Katastrophen sind unvorhersehbar, und es kann sein, dass Sie für ein bestimmtes Ereignis Ihre vorgegebenen RPO- und RTO-Werte nicht erreichen können.</span><span class="sxs-lookup"><span data-stu-id="130d3-140">Disasters are unpredictable, and you may not be able to meet your established RPO and RTO for a given event.</span></span> <span data-ttu-id="130d3-141">Wenn sich ein Unternehmen bereiterklärt, die Kosten für die Erreichung der vereinbarten RPO- und RTO-Werte zu übernehmen, sollten als Gegenleistung diese Ziele für ein Notfallwiederherstellungsszenario im Allgemeinen erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-141">The business has agreed to take on the costs required to maintain the agreed-upon RPO and RTO values, and in return those targets should generally be achieved in a disaster recovery scenario.</span></span> <span data-ttu-id="130d3-142">Alle Notfallereignisse sollten nach der Wiederherstellung eine Prüfung umfassen, bei der die Stärken und Schwächen untersucht werden. Aber Notfälle, die dazu führen, dass der RPO- oder RTO-Wert nicht erreicht wird, bedürfen besonderer Aufmerksamkeit.</span><span class="sxs-lookup"><span data-stu-id="130d3-142">All disaster events should include a post-recovery retrospective that examines strengths and weaknesses, but disasters that result in a failure to meet RPO or RTO merit special attention.</span></span>

### <a name="detailing-recovery-steps"></a><span data-ttu-id="130d3-143">Detailliertes Angeben von Schritten zur Wiederherstellung</span><span class="sxs-lookup"><span data-stu-id="130d3-143">Detailing recovery steps</span></span>

<span data-ttu-id="130d3-144">Im endgültigen Plan sollte ausführlich angegeben sein, welche Schritte ausgeführt werden sollten, um verloren gegangene Daten und die Anwendungskonnektivität wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="130d3-144">The final plan should go into detail about exactly what steps should be taken to restore lost data and application connectivity.</span></span> <span data-ttu-id="130d3-145">Schritte enthalten häufig Informationen zu folgenden Punkten:</span><span class="sxs-lookup"><span data-stu-id="130d3-145">Steps often include information about:</span></span>

* <span data-ttu-id="130d3-146">**Sicherungen**: Häufigkeit der Erstellung, Ort der Sicherungen und Vorgehensweise bei der Wiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="130d3-146">**Backups**: how often they are created; where they are located; how to restore data from them.</span></span>
* <span data-ttu-id="130d3-147">**Datenreplikate**: Anzahl und Ort der Replikate, Art und Konsistenzmerkmale der replizierten Daten und Wechsel zu einem anderen Replikat.</span><span class="sxs-lookup"><span data-stu-id="130d3-147">**Data replicas**: number and locations of replicas; the nature and consistency characteristics of the replicated data; how to switch over to a different replica.</span></span>
* <span data-ttu-id="130d3-148">**Bereitstellungen**: Durchführung von Bereitstellungen und Rollbacks und Fehlerszenarien für Bereitstellungen.</span><span class="sxs-lookup"><span data-stu-id="130d3-148">**Deployments**: How deployments are executed; how rollbacks occur; failure scenarios for deployments.</span></span>
* <span data-ttu-id="130d3-149">**Infrastruktur**: Lokale Ressourcen und Cloudressourcen, Netzwerkinfrastruktur und Hardwarebestand.</span><span class="sxs-lookup"><span data-stu-id="130d3-149">**Infrastructure**: On-premises and cloud resources; network infrastructure; hardware inventory.</span></span>
* <span data-ttu-id="130d3-150">**Abhängigkeiten**: Externe Dienste, die von der Anwendung verwendet werden, z.B. SLAs und Kontaktinformationen.</span><span class="sxs-lookup"><span data-stu-id="130d3-150">**Dependencies**: External services used by the application, including SLAs and contact information.</span></span>
* <span data-ttu-id="130d3-151">**Konfiguration und Benachrichtigung**: Flags oder Optionen, die festgelegt werden können, um die Anwendung korrekt herabzustufen, und Dienste, die zum Benachrichtigen von Benutzern über die Auswirkungen der Anwendung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-151">**Configuration and notification**: Flags or options that can be set to gracefully degrade the application; services used to notify users of application impact.</span></span>

<span data-ttu-id="130d3-152">Da die genauen erforderlichen Schritte stark von den Implementierungsdetails der App abhängen, ist es wichtig, den Plan immer auf dem aktuellen Stand zu halten.</span><span class="sxs-lookup"><span data-stu-id="130d3-152">The exact steps required will depend heavily on implementation details of the app, making it important to keep the plan updated.</span></span> <span data-ttu-id="130d3-153">Bei routinemäßigen Tests des Plans können Lücken und veraltete Abschnitte identifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-153">Routinely testing the plan will help identify gaps and outdated sections.</span></span>

## <a name="designing-for-disaster-recovery"></a><span data-ttu-id="130d3-154">Entwerfen für die Notfallwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="130d3-154">Designing for disaster recovery</span></span>

<span data-ttu-id="130d3-155">Die Notfallwiederherstellung ist kein automatisches Feature.</span><span class="sxs-lookup"><span data-stu-id="130d3-155">Disaster recovery is not an automatic feature.</span></span> <span data-ttu-id="130d3-156">Sie muss entworfen, erstellt und getestet werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-156">It must be designed, built, and tested.</span></span> <span data-ttu-id="130d3-157">Eine App, für die eine robuste Strategie für die Notfallwiederherstellung unterstützt werden soll, muss im Hinblick auf die Notfallwiederherstellung von Grund auf neu erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-157">An app that needs to support a solid disaster recovery strategy must be built from the ground up with disaster recovery in mind.</span></span> <span data-ttu-id="130d3-158">Azure verfügt über Dienste, Features und Anleitungen, damit Sie Apps erstellen können, die die Notfallwiederherstellung unterstützen. Es liegt aber an Ihnen, diese in Ihren Entwurf einzubauen.</span><span class="sxs-lookup"><span data-stu-id="130d3-158">Azure offers services, features, and guidance to help you create apps that support disaster recovery, but it's up to you to include them in your design.</span></span>

<span data-ttu-id="130d3-159">Beim Entwerfen für die Notfallwiederherstellung geht es um diese beiden Hauptaspekte:</span><span class="sxs-lookup"><span data-stu-id="130d3-159">Designing for disaster recovery has two main concerns:</span></span>

* <span data-ttu-id="130d3-160">**Datenwiederherstellung**: Sicherungen und die Replikation werden verwendet, um verlorene Daten wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="130d3-160">**Data recovery**: Using backups and replication to restore lost data.</span></span>
* <span data-ttu-id="130d3-161">**Prozesswiederherstellung**: Die Wiederherstellung von Diensten und Bereitstellung von Code für die Wiederherstellung nach Ausfällen.</span><span class="sxs-lookup"><span data-stu-id="130d3-161">**Process recovery**: Recovering services and deploying code to recover from outages.</span></span>

### <a name="data-recovery-and-replication"></a><span data-ttu-id="130d3-162">Datenwiederherstellung und -replikation</span><span class="sxs-lookup"><span data-stu-id="130d3-162">Data recovery and replication</span></span>

<span data-ttu-id="130d3-163">Bei der Replikation werden gespeicherte Daten in mehreren Datenspeicherreplikaten dupliziert.</span><span class="sxs-lookup"><span data-stu-id="130d3-163">Replication duplicates stored data between multiple data store replicas.</span></span> <span data-ttu-id="130d3-164">Im Gegensatz zu *Sicherungen*, bei denen langlebige, schreibgeschützte Momentaufnahmen von Daten zur Verwendung bei der Wiederherstellung erstellt werden, werden bei der Replikation Echtzeitkopien (bzw. nahezu in Echtzeit) von Livedaten erstellt.</span><span class="sxs-lookup"><span data-stu-id="130d3-164">Unlike *backup*, which creates long-lived, read-only snapshots of data for use in recovery, replication creates real-time or near-real-time copies of live data.</span></span> <span data-ttu-id="130d3-165">Das Ziel der Replikation besteht darin, Replikate mit möglichst geringer Latenz synchron zu halten, während gleichzeitig die Reaktionsfähigkeit der Anwendung aufrechterhalten wird.</span><span class="sxs-lookup"><span data-stu-id="130d3-165">The goal of replication is to keep replicas synchronized with as little latency as possible while maintaining application responsiveness.</span></span> <span data-ttu-id="130d3-166">Die Replikation ist eine wichtige Komponente des Entwurfs im Hinblick auf Hochverfügbarkeit und Notfallwiederherstellung und ein häufiges Feature von Anwendungen für die Produktion.</span><span class="sxs-lookup"><span data-stu-id="130d3-166">Replication is a key component of designing for high availability and disaster recovery, and is a common feature of production-grade applications.</span></span>

<span data-ttu-id="130d3-167">Die Replikation wird genutzt, um eine Lösung für einen ausgefallenen oder nicht erreichbaren Datenspeicher zu erzielen, indem ein *Failover* ausgeführt wird: Die Anwendungskonfiguration wird geändert, um Datenanforderungen an ein funktionierendes Replikat zu leiten.</span><span class="sxs-lookup"><span data-stu-id="130d3-167">Replication is used to mitigate a failed or unreachable data store by executing a *failover*: changing application configuration to route data requests to a working replica.</span></span> <span data-ttu-id="130d3-168">Das Failover ist häufig automatisiert und wird durch eine Fehlererkennung ausgelöst, die in ein Datenspeicherprodukt integriert ist, oder durch eine Erkennung, die Sie über Ihre Überwachungslösung implementieren.</span><span class="sxs-lookup"><span data-stu-id="130d3-168">Failover is often automated, triggered by error detection built into a data storage product, or detection that you implement through your monitoring solution.</span></span> <span data-ttu-id="130d3-169">Je nach Implementierung und Szenario muss das Failover ggf. von Systembedienern manuell ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-169">Depending on the implementation and the scenario, failover may need to be manually executed by system operators.</span></span>

<span data-ttu-id="130d3-170">Die Replikation ist kein Vorgang, den Sie von Grund auf neu implementieren.</span><span class="sxs-lookup"><span data-stu-id="130d3-170">Replication is not something you implement from scratch.</span></span> <span data-ttu-id="130d3-171">Die meisten Datenbanksysteme mit vollem Funktionsumfang und andere Datenspeicherprodukte und -dienste enthalten im Rahmen der Funktions- und Leistungsanforderungen eine Art der Replikation als fest integriertes Feature.</span><span class="sxs-lookup"><span data-stu-id="130d3-171">Most fully featured database systems and other data storage products and services include some kind of replication as a tightly integrated feature due to its functional and performance requirements.</span></span> <span data-ttu-id="130d3-172">Es liegt aber an Ihnen, diese Features in Ihren Anwendungsentwurf zu integrieren und entsprechend einzusetzen.</span><span class="sxs-lookup"><span data-stu-id="130d3-172">However, it's up to you to include these features in your application design and make appropriate use of them.</span></span>

<span data-ttu-id="130d3-173">Unterschiedliche Azure-Dienste unterstützen verschiedene Ebenen und Konzepte der Replikation.</span><span class="sxs-lookup"><span data-stu-id="130d3-173">Different Azure services support various levels and concepts of replication.</span></span> <span data-ttu-id="130d3-174">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="130d3-174">For example:</span></span>

* <span data-ttu-id="130d3-175">Die **Azure Storage**-Replikation erfolgt praktisch automatisch.</span><span class="sxs-lookup"><span data-stu-id="130d3-175">**Azure Storage** replication is effectively automatic.</span></span> <span data-ttu-id="130d3-176">Weder Ihre Anwendung noch Ihre Bediener interagieren direkt damit.</span><span class="sxs-lookup"><span data-stu-id="130d3-176">Neither your application nor your operators interact with it directly.</span></span> <span data-ttu-id="130d3-177">Failover sind automatisch und transparent, und Sie müssen lediglich eine Replikationsebene auswählen, mit der die gewünschte Balance zwischen Kosten und Risiko erzielt wird.</span><span class="sxs-lookup"><span data-stu-id="130d3-177">Failovers are automatic and transparent, and you simply need to select a replication level that balances cost and risk.</span></span>
* <span data-ttu-id="130d3-178">Die Replikation per **Azure SQL-Datenbank** erfolgt in geringerem Umfang automatisch, aber für die Wiederherstellung nach einem vollständigen Ausfall eines Azure-Datencenters oder einer Azure-Region ist die Georeplikation erforderlich.</span><span class="sxs-lookup"><span data-stu-id="130d3-178">**Azure SQL Database** replication is automatic at a small scale, but recovery from a full Azure datacenter or regional outage requires geo-replication.</span></span> <span data-ttu-id="130d3-179">Die Einrichtung der Georeplikation erfolgt manuell, aber es handelt sich um ein hervorragendes Feature des Diensts, das über eine gute Unterstützung durch Dokumentation verfügt.</span><span class="sxs-lookup"><span data-stu-id="130d3-179">Setting up geo-replication is manual but is a first-class feature of the service and is well supported by documentation.</span></span>
* <span data-ttu-id="130d3-180">**Cosmos DB** ist ein global verteiltes Datenbanksystem, und die Replikation ist ein zentraler Punkt der Implementierung.</span><span class="sxs-lookup"><span data-stu-id="130d3-180">**Cosmos DB** is a globally distributed database system, and replication is central to its implementation.</span></span> <span data-ttu-id="130d3-181">Bei Cosmos DB konfigurieren Sie die Replikation nicht direkt, sondern Sie konfigurieren Optionen in Bezug auf die Partitionierung und Datenkonsistenz.</span><span class="sxs-lookup"><span data-stu-id="130d3-181">With Cosmos DB, instead of configuring replication directly, you configure options related to partitioning and data consistency.</span></span>

<span data-ttu-id="130d3-182">Es gibt viele verschiedene Replikationsentwürfe, bei denen die Datenkonsistenz, Leistung und Kosten unterschiedliche Prioritäten aufweisen.</span><span class="sxs-lookup"><span data-stu-id="130d3-182">Many different replication designs exist that place different priorities on data consistency, performance, and cost.</span></span> <span data-ttu-id="130d3-183">Für die Replikation vom Typ *Aktiv* müssen Updates gleichzeitig auf mehreren Replikaten durchgeführt werden, um die Konsistenz auf Kosten des Durchsatzes zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="130d3-183">*Active* replication requires updates to take place on multiple replicas simultaneously, guaranteeing consistency at the cost of throughput.</span></span> <span data-ttu-id="130d3-184">Im Gegensatz hierzu wird die Synchronisierung bei der *passiven* Replikation im Hintergrund durchgeführt, sodass die Replikation als Einschränkung der Anwendungsleistung wegfällt. Es ergibt sich aber ein höherer RPO-Wert.</span><span class="sxs-lookup"><span data-stu-id="130d3-184">In contrast, *passive* replication performs synchronization in the background, removing replication as a constraint on application performance but increasing RPO.</span></span> <span data-ttu-id="130d3-185">Bei der Replikation vom Typ *Aktiv/Aktiv* oder *Multimaster* können mehrere Replikate gleichzeitig genutzt werden, sodass ein Lastenausgleich auf Kosten einer komplizierteren Datenkonsistenz durchgeführt werden kann. Bei der Replikation vom Typ *Aktiv/Passiv* werden Replikate für die Livenutzung nur während des Failovers reserviert.</span><span class="sxs-lookup"><span data-stu-id="130d3-185">*Active-active* or *multi-master* replication enables multiple replicas to be used simultaneously, enabling load balancing at the cost of complicating data consistency, while *active-passive* replication reserves replicas for live use only during failover.</span></span>

![Azure SQL-Datenbank-Georeplikation](../media-draft/geo-replication.png)

> [!IMPORTANT]
> <span data-ttu-id="130d3-187">**Weder bei der Replikation noch bei Sicherungen handelt es sich um vollständige eigenständige Lösungen für die Notfallwiederherstellung**.</span><span class="sxs-lookup"><span data-stu-id="130d3-187">**Neither replication nor backup are complete disaster recovery solutions on their own**.</span></span> <span data-ttu-id="130d3-188">Die Datenwiederherstellung ist nur eine Komponente der Notfallwiederherstellung, und mit der Replikation können nicht für viele Arten von Notfallwiederherstellungsszenarien alle Anforderungen erfüllt werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-188">Data recovery is only one component of disaster recovery, and replication will not fully satisfy many kinds of disaster recovery scenarios.</span></span> <span data-ttu-id="130d3-189">Bei einem Szenario mit Datenbeschädigung kann es aufgrund der Art der Beschädigung beispielsweise dazu kommen, dass sich der Fehler vom primären Datenspeicher auf die Replikate verteilt, sodass alle Replikate nutzlos werden und eine Sicherung für die Wiederherstellung verwendet werden muss.</span><span class="sxs-lookup"><span data-stu-id="130d3-189">For example, in a data corruption scenario, the nature of the corruption may allow it to spread from the primary data store to the replicas, rendering all the replicas useless and requiring a backup for recovery.</span></span>

### <a name="process-recovery"></a><span data-ttu-id="130d3-190">Prozesswiederherstellung</span><span class="sxs-lookup"><span data-stu-id="130d3-190">Process recovery</span></span>

<span data-ttu-id="130d3-191">Nach einer Notfallsituation müssen nicht nur die Geschäftsdaten wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-191">After a disaster, business data isn't the only asset that needs recovering.</span></span> <span data-ttu-id="130d3-192">Häufig führen Notfallszenarien auch zu Ausfallzeiten, z.B. aufgrund von Problemen mit der Netzwerkverbindung, Datencenterausfällen oder beschädigten VM-Instanzen oder Softwarebereitstellungen.</span><span class="sxs-lookup"><span data-stu-id="130d3-192">Disaster scenarios will also commonly result in downtime, whether it's due to network connectivity problems, datacenter outages, or damaged VM instances or software deployments.</span></span> <span data-ttu-id="130d3-193">Ihre Anwendung muss so entworfen worden sein, dass Sie dafür die Funktionsfähigkeit wiederherstellen können.</span><span class="sxs-lookup"><span data-stu-id="130d3-193">The design of your application needs to enable you to restore it to a working state.</span></span>

<span data-ttu-id="130d3-194">In den meisten Fällen umfasst die Prozesswiederherstellung auch ein Failover auf eine separate funktionierende Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="130d3-194">In most cases, process restoration involves failover to a separate, working deployment.</span></span> <span data-ttu-id="130d3-195">Je nach Szenario kann der geografische Standort ein kritischer Aspekt sein: Bei einer größeren Naturkatastrophe, bei der eine gesamte Azure-Region ausfällt und in den Offlinezustand versetzt wird, muss der Dienst beispielsweise in einer anderen Region wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="130d3-195">Depending on the scenario, geographic location may be a critical aspect: for example, a large-scale natural disaster that brings an entire Azure region offline will necessitate restoring service in another region.</span></span> <span data-ttu-id="130d3-196">Die Anforderungen an die Notfallwiederherstellung für Ihre Anwendung, vor allem der RTO-Wert, sollten die Grundlage für Ihren Entwurf sein und Ihnen bei den folgenden Entscheidungen behilflich sein: wie viele replizierte Umgebungen vorhanden sein sollten, wo sich diese befinden sollten und ob sie sich in einem ausführungsbereiten Zustand befinden oder bei einem Notfall eine Bereitstellung akzeptieren sollten.</span><span class="sxs-lookup"><span data-stu-id="130d3-196">Your application's disaster recovery requirements, especially RTO, should drive your design and help you to decide how many replicated environments you should have, where they should be located, and whether they should be maintained in a ready-to-run state or should be ready to accept a deployment in the event of disaster.</span></span>

<span data-ttu-id="130d3-197">Je nach Entwurf Ihrer Anwendung gibt es einige unterschiedliche Strategien und Azure-Dienste und -Features, die Sie nutzen können, um die Unterstützung der Prozesswiederherstellung nach einem Notfall für Ihre App zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="130d3-197">Depending on the design of your application, there are a few different strategies and Azure services and features you can take advantage of to improve your app's support for process recovery after a disaster.</span></span>

#### <a name="azure-site-recovery"></a><span data-ttu-id="130d3-198">Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="130d3-198">Azure Site Recovery</span></span>

<span data-ttu-id="130d3-199">Azure Site Recovery ist ein dedizierter Dienst zum Verwalten der Prozesswiederherstellung für Workloads auf in Azure bereitgestellten VMs oder VMs auf physischen Servern und für direkt auf physischen Servern ausgeführte Workloads.</span><span class="sxs-lookup"><span data-stu-id="130d3-199">Azure Site Recovery is a service dedicated to managing process recovery for workloads running on VMs deployed to Azure, VMs running on physical servers, and workloads running directly on physical servers.</span></span> <span data-ttu-id="130d3-200">Site Recovery repliziert Workloads an anderen Orten und unterstützt Sie bei der Ausführung des Failovers, wenn ein Ausfall eintritt, und beim Testen eines Plans für die Notfallwiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="130d3-200">Site Recovery replicates workloads to alternate locations and helps you to fail over when an outage occurs and supports testing of a disaster recovery plan.</span></span>

![Azure Site Recovery](../media-draft/asr.png)

<span data-ttu-id="130d3-202">Site Recovery unterstützt das Replizieren von gesamten VMs und Images physischer Server sowie einzelner *Workloads*. Hierbei kann eine Workload eine einzelne Anwendung oder ein vollständiger virtueller Computer oder ein Betriebssystem mit den entsprechenden Anwendungen sein.</span><span class="sxs-lookup"><span data-stu-id="130d3-202">Site Recovery supports replicating whole VMs and physical server images as well as individual *workloads*, where a workload may be an individual application or an entire VM or operating system with its applications.</span></span> <span data-ttu-id="130d3-203">Jede Anwendungsworkload kann repliziert werden, aber Site Recovery verfügt über erstklassige integrierte Unterstützung für viele Microsoft-Serveranwendungen, z.B. SQL Server und SharePoint, sowie für einige Drittanbieteranwendungen, z.B. von SAP.</span><span class="sxs-lookup"><span data-stu-id="130d3-203">Any application workload can be replicated, but Site Recovery has first-class integrated support for many Microsoft server applications, such as SQL Server and SharePoint, as well as a handful of third-party applications like SAP.</span></span>

<span data-ttu-id="130d3-204">Für jede App, die auf virtuellen Computern oder physischen Servern ausgeführt wird, sollte zumindest die Nutzung von Azure Site Recovery geprüft werden. Dies ist eine gute Möglichkeit, um Szenarien und Möglichkeiten für die Prozesswiederherstellung zu ermitteln und zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="130d3-204">Any app that runs on VMs or physical servers should at least investigate the use of Azure Site Recovery, as it's a great way to discover and explore scenarios and possibilities for process recovery.</span></span>

#### <a name="service-specific-features"></a><span data-ttu-id="130d3-205">Dienstspezifische Features</span><span class="sxs-lookup"><span data-stu-id="130d3-205">Service-specific features</span></span>

<span data-ttu-id="130d3-206">Für Apps, die auf Azure PaaS-Angeboten wie App Service ausgeführt werden, verfügen die meisten dieser Dienste über Features und eine Anleitung zur Unterstützung der Notfallwiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="130d3-206">For apps that run on Azure PaaS offerings like App Service, most such services offer features and guidance for supporting disaster recovery.</span></span> <span data-ttu-id="130d3-207">In vielen Fällen erfolgt die Notfallwiederherstellung automatisch und wird von Azure transparent durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="130d3-207">In many cases, disaster recovery is automatic and performed transparently by Azure.</span></span> <span data-ttu-id="130d3-208">Für bestimmte Szenarien können Sie dienstspezifische Features nutzen, um eine schnelle Wiederherstellung zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="130d3-208">For certain scenarios, you can use service-specific features to support fast recovery.</span></span> <span data-ttu-id="130d3-209">Beispielsweise wird für Azure SQL Server die Georeplikation unterstützt, um einen Dienst schnell in einer anderen Region wiederherstellen zu können.</span><span class="sxs-lookup"><span data-stu-id="130d3-209">For example, Azure SQL Server supports geo-replication for quickly restoring service in another region.</span></span> <span data-ttu-id="130d3-210">Azure App Service verfügt über ein Feature für die Sicherung und Wiederherstellung, und die Dokumentation enthält eine Anleitung zur Verwendung von Azure Traffic Manager, um das Leiten von Datenverkehr in eine sekundäre Region zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="130d3-210">Azure App Service has a Backup and Restore feature, and the documentation includes guidance for using Azure Traffic Manager to support routing traffic to a secondary region.</span></span>

![Regionspaare](../media-draft/AzRegionPairs.png)

## <a name="testing-a-disaster-recovery-plan"></a><span data-ttu-id="130d3-212">Testen eines Plans für die Notfallwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="130d3-212">Testing a disaster recovery plan</span></span>

<span data-ttu-id="130d3-213">Die Planung der Notfallwiederherstellung endet nicht damit, dass Sie einen abgeschlossenen Plan in der Hand halten.</span><span class="sxs-lookup"><span data-stu-id="130d3-213">Disaster recovery planning doesn't end once you have a completed plan in hand.</span></span> <span data-ttu-id="130d3-214">Das Testen des Plans ist ein entscheidender Aspekt der Notfallwiederherstellung, um sicherzustellen, dass die Anleitungen und Erläuterungen klar verständlich und aktuell sind.</span><span class="sxs-lookup"><span data-stu-id="130d3-214">Testing the plan is a crucial aspect of disaster recovery, to ensure that the directions and explanations are clear and up-to-date.</span></span>

<span data-ttu-id="130d3-215">Wählen Sie Intervalle für die Durchführung unterschiedlicher Testtypen und -bereiche, z.B. monatliches Testen von Sicherungen und Failovermechanismen, und einer umfassenden Simulation der Notfallwiederherstellung alle sechs Monate.</span><span class="sxs-lookup"><span data-stu-id="130d3-215">Choose intervals to perform different types and scopes of tests, such as testing backups and failover mechanisms every month, and performing a full-scale disaster recovery simulation every six months.</span></span> <span data-ttu-id="130d3-216">Halten Sie sich immer genau an die Schritte und Details, die im Plan dokumentiert sind. Sie können auch erwägen, eine Person, die nicht mit dem Plan vertraut ist, Hinweise zu den Punkten geben zu lassen, die verständlicher formuliert werden können.</span><span class="sxs-lookup"><span data-stu-id="130d3-216">Always follow the steps and details exactly as they are documented in the plan, and consider having someone unfamiliar with the plan give perspective on anything that could be made clearer.</span></span>

<span data-ttu-id="130d3-217">Stellen Sie sicher, dass Sie auch Ihr Überwachungssystem in die Tests einbeziehen.</span><span class="sxs-lookup"><span data-stu-id="130d3-217">Make sure to including your monitoring system in your testing as well.</span></span> <span data-ttu-id="130d3-218">Wenn Ihre Anwendung beispielsweise automatische Failover unterstützt, können Fehler in eine Abhängigkeit oder eine andere kritische Komponente eingebaut werden. So können Sie sich vergewissern, dass sich die Anwendung während des gesamten Prozesses richtig verhält, z.B. bei der Erkennung des Fehlers und beim Auslösen des automatisierten Failovers.</span><span class="sxs-lookup"><span data-stu-id="130d3-218">For example, if your application supports automated failover, introduce failures in a dependency or other critical component to ensure that the application behaves correctly end-to-end, including detection of the failure and triggering of the automated failover.</span></span>

 <span data-ttu-id="130d3-219">Indem Ihre Anforderungen sorgfältig identifiziert werden und ein Plan aufgestellt wird, können Sie ermitteln, welche Arten von Diensten Sie verwenden müssen, um Ihre Wiederherstellungsziele zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="130d3-219">By carefully identifying your requirements and laying out a plan, you'll be able to determine what types of services you'll need to use to meet your recovery objectives.</span></span> <span data-ttu-id="130d3-220">In Azure werden mehrere Dienste und Features für die Erreichung dieser Ziele bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="130d3-220">Azure provides several services and features to help you meet these objectives.</span></span>
