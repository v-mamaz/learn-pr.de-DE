<span data-ttu-id="243cd-101">Stellen Sie sich vor, es wurde gerade ein Bericht über die bahnbrechende neue Krebstherapie Ihres Unternehmens veröffentlicht.</span><span class="sxs-lookup"><span data-stu-id="243cd-101">Imagine a news story has just been published covering your organization's breakthrough cancer treatment.</span></span> <span data-ttu-id="243cd-102">Dies ist ein großartiger Meilenstein, der zweifellos einen großen Zustrom von Besuchern auf Ihre Website bringen wird.</span><span class="sxs-lookup"><span data-stu-id="243cd-102">This is a terrific milestone, and will undoubtedly bring a large influx of traffic to your website.</span></span> <span data-ttu-id="243cd-103">Wird die Website diesen Anstieg des Datenverkehrs bewältigen, oder wird die Last dazu führen, dass die Website langsam wird oder gar nicht mehr reagiert?</span><span class="sxs-lookup"><span data-stu-id="243cd-103">Will the website handle this traffic increase, or will the load cause the site to be slow or unresponsive?</span></span>

<span data-ttu-id="243cd-104">Hier betrachten wir einige der Grundprinzipien, um eine hervorragende Anwendungsleistung durch Skalierungs- und Optimierungsprinzipien zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="243cd-104">Here, we'll look at some of the basic principles of ensuring outstanding application performance using scaling and optimization principles.</span></span>

## <a name="what-is-scaling-and-performance-optimization"></a><span data-ttu-id="243cd-105">Was versteht man unter Skalierung und Leistungsoptimierung?</span><span class="sxs-lookup"><span data-stu-id="243cd-105">What is scaling and performance optimization?</span></span>

<span data-ttu-id="243cd-106">Bei der Skalierung und Leistungsoptimierung geht es darum, die für eine Anwendung verfügbaren Ressourcen mit dem Bedarf abzugleichen, den sie empfängt.</span><span class="sxs-lookup"><span data-stu-id="243cd-106">Scaling and performance optimization are about matching the resources available to an application with the demand it is receiving.</span></span> <span data-ttu-id="243cd-107">Die Leistungsoptimierung umfasst die Skalierung von Ressourcen, das Identifizieren und Optimieren potenzieller Engpässe sowie die Optimierung Ihres Anwendungscodes für Spitzenleistung.</span><span class="sxs-lookup"><span data-stu-id="243cd-107">Performance optimization includes scaling resources, identifying and optimizing potential bottlenecks, and optimizing your application code for peak performance.</span></span>

### <a name="scaling"></a><span data-ttu-id="243cd-108">Skalierung</span><span class="sxs-lookup"><span data-stu-id="243cd-108">Scaling</span></span>

<span data-ttu-id="243cd-109">Computeressourcen können in zwei verschiedenen Richtungen skaliert werden:</span><span class="sxs-lookup"><span data-stu-id="243cd-109">Compute resources can be scaled in two different directions:</span></span>

* <span data-ttu-id="243cd-110">Zentrales *Hochskalieren* ist die Aktion, bei der einer einzelnen Instanz weitere Ressourcen hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="243cd-110">Scaling *up* is the action of adding more resources to a single instance.</span></span>
* <span data-ttu-id="243cd-111">Horizontales *Hochskalieren* bedeutet das Hinzufügen von Instanzen.</span><span class="sxs-lookup"><span data-stu-id="243cd-111">Scaling *out* is the addition of instances.</span></span>

![Abbildung, in der das zentrale Hoch- und Herunterskalieren einer VM zum Steigern der Leistungsfähigkeit veranschaulicht wird.](../media/scale-up-scale-out.png)

<span data-ttu-id="243cd-113">Beim zentralen Hochskalieren geht es darum, einer einzelnen Instanz mehr Ressourcen (etwa CPU oder Arbeitsspeicher) hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="243cd-113">Scaling up is concerned with adding more resources, such as CPU or memory, to a single instance.</span></span> <span data-ttu-id="243cd-114">Bei dieser Instanz kann es sich um einen virtuellen Computer oder einen PaaS-Dienst handeln.</span><span class="sxs-lookup"><span data-stu-id="243cd-114">This instance could be a virtual machine or a PaaS service.</span></span> <span data-ttu-id="243cd-115">Durch das Hinzufügen von mehr Kapazität zur Instanz werden die für Ihre Anwendung verfügbaren Ressourcen erhöht, aber es gibt eine Einschränkung.</span><span class="sxs-lookup"><span data-stu-id="243cd-115">The act of adding more capacity to the instance increases the resources available to your application, but it does come with a limit.</span></span> <span data-ttu-id="243cd-116">Virtuelle Computer sind auf die Kapazität des Hosts eingeschränkt, auf dem sie ausgeführt werden, und die Hosts selbst weisen physische Einschränkungen auf.</span><span class="sxs-lookup"><span data-stu-id="243cd-116">Virtual machines are limited to the capacity of the host they run on, and hosts themselves have physical limitations.</span></span> <span data-ttu-id="243cd-117">Wenn Sie eine Instanz zentral hochskalieren, können Sie gelegentlich an diese Grenzen stoßen, was Ihre Möglichkeit einschränkt, der Instanz weitere Ressourcen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="243cd-117">Eventually, when you scale up an instance, you can run into these limits, restricting your ability to add further resources to the instance.</span></span>

<span data-ttu-id="243cd-118">Beim horizontalen Hochskalieren geht es darum, einem Dienst zusätzliche Instanzen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="243cd-118">Scaling out is concerned with adding additional instances to a service.</span></span> <span data-ttu-id="243cd-119">Dies können virtuelle Computer oder PaaS-Dienste sein, aber anstatt mehr Kapazität hinzuzufügen, indem eine einzelne Instanz leistungsfähiger wird, fügen wir Kapazität hinzu, indem wir die Gesamtzahl der Instanzen erhöhen.</span><span class="sxs-lookup"><span data-stu-id="243cd-119">These can be virtual machines or PaaS services, but instead of adding more capacity by making a single instance more powerful, we add capacity by increasing the overall total number of instances.</span></span> <span data-ttu-id="243cd-120">Der Vorteil der horizontalen Hochskalierung besteht darin, dass Sie unbegrenzt horizontal hochskalieren können, wenn Sie der Architektur weitere Computer hinzufügen müssen.</span><span class="sxs-lookup"><span data-stu-id="243cd-120">The advantage of scaling out is that you can conceivably scale out forever if you have more machines to add to the architecture.</span></span> <span data-ttu-id="243cd-121">Horizontales Hochskalieren erfordert eine Art der Lastverteilung.</span><span class="sxs-lookup"><span data-stu-id="243cd-121">Scaling out requires some type of load distribution.</span></span> <span data-ttu-id="243cd-122">Dies könnte ein Load Balancer sein, der Anforderungen auf die verfügbaren Server verteilt, oder ein Dienstermittlungsmechanismus zum Identifizieren der aktiven Server, an die Anforderungen gesendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="243cd-122">This could be in the form of a load balancer distributing requests across available servers, or a service discovery mechanism for identifying active servers to send requests to.</span></span>

<span data-ttu-id="243cd-123">In beiden Fällen können Ressourcen verringert und somit Kosten optimiert werden.</span><span class="sxs-lookup"><span data-stu-id="243cd-123">In both cases, resources can be reduced, bringing cost optimization into the picture.</span></span>

### <a name="performance-optimization"></a><span data-ttu-id="243cd-124">Leistungsoptimierung</span><span class="sxs-lookup"><span data-stu-id="243cd-124">Performance optimization</span></span>

<span data-ttu-id="243cd-125">Bei der Optimierung der Leistung werden Sie sich mit Netzwerk und Speicher befassen, um sicherzustellen, dass die Leistung akzeptabel ist.</span><span class="sxs-lookup"><span data-stu-id="243cd-125">When optimizing for performance, you'll look at network and storage to ensure performance is acceptable.</span></span> <span data-ttu-id="243cd-126">Beides kann sich negativ auf die Reaktionszeit der Anwendung auswirken.</span><span class="sxs-lookup"><span data-stu-id="243cd-126">Both can impact the response time of your application.</span></span> <span data-ttu-id="243cd-127">Die Auswahl der richtigen Netzwerk- und Speichertechnologien für Ihre Architektur wird Ihnen helfen, sicherzustellen, dass Sie Ihren Kunden das beste Erlebnis bieten.</span><span class="sxs-lookup"><span data-stu-id="243cd-127">Selecting the right networking and storage technologies for your architecture will help you ensure you're providing the best experience for your consumers.</span></span>

<span data-ttu-id="243cd-128">Für die Leistungsoptimierung müssen Sie auch verstehen, wie die Anwendungen selbst ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="243cd-128">Performance optimization will also include understanding how the applications themselves are performing.</span></span> <span data-ttu-id="243cd-129">Fehler, schlechter Code und Engpässe in abhängigen Systemen können durch ein Tool zur Steuerung der Anwendungsleistung aufgedeckt werden.</span><span class="sxs-lookup"><span data-stu-id="243cd-129">Errors, poorly performing code, and bottlenecks in dependent systems can all be uncovered through an application performance management tool.</span></span> <span data-ttu-id="243cd-130">Diese Probleme bleiben den Endbenutzern, Entwicklern und Administratoren häufig verborgen, können sich aber nachteilig auf die Gesamtleistung Ihrer Anwendung auswirken.</span><span class="sxs-lookup"><span data-stu-id="243cd-130">Often, these issues may be hidden or obfuscated for end users, developers, and administrators, but can have adverse impact on the overall performance of your application.</span></span>

## <a name="scalability-and-performance-patterns-and-practices"></a><span data-ttu-id="243cd-131">Muster und Verfahren für Skalierbarkeit und Leistung</span><span class="sxs-lookup"><span data-stu-id="243cd-131">Scalability and performance patterns and practices</span></span>

<span data-ttu-id="243cd-132">Sehen wir uns einige Muster und Verfahren an, mit denen Sie die Skalierbarkeit und Leistung Ihrer Anwendung verbessern können.</span><span class="sxs-lookup"><span data-stu-id="243cd-132">Let's take a look at some patterns and practices that can be leveraged to enhance the scalability and performance of your application.</span></span>

### <a name="data-partitioning"></a><span data-ttu-id="243cd-133">Datenpartitionierung</span><span class="sxs-lookup"><span data-stu-id="243cd-133">Data partitioning</span></span>

<span data-ttu-id="243cd-134">In vielen umfangreichen Lösungen werden Daten in separate Partitionen aufgeteilt, die getrennt verwaltet werden können und auf die separat zugegriffen werden kann.</span><span class="sxs-lookup"><span data-stu-id="243cd-134">In many large-scale solutions, data is divided into separate partitions that can be managed and accessed separately.</span></span> <span data-ttu-id="243cd-135">Die Partitionierungsstrategie muss sorgfältig ausgewählt werden, um die Vorteile zu maximieren und gleichzeitig nachteilige Auswirkungen zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="243cd-135">The partitioning strategy must be chosen carefully to maximize the benefits while minimizing adverse effects.</span></span> <span data-ttu-id="243cd-136">Partitionierung kann die Skalierbarkeit verbessern, Konflikte reduzieren und die Leistung optimieren.</span><span class="sxs-lookup"><span data-stu-id="243cd-136">Partitioning can help improve scalability, reduce contention, and optimize performance.</span></span>

### <a name="caching"></a><span data-ttu-id="243cd-137">Caching</span><span class="sxs-lookup"><span data-stu-id="243cd-137">Caching</span></span>

<span data-ttu-id="243cd-138">Die Verwendung von Caching in Ihrer Architektur kann die Leistung verbessern.</span><span class="sxs-lookup"><span data-stu-id="243cd-138">Use caching in your architecture can help improve performance.</span></span> <span data-ttu-id="243cd-139">Caching ist ein Mechanismus zum Speichern von häufig verwendeten Daten oder Objekten (Webseiten, Bilder), um diese schneller abrufen zu können.</span><span class="sxs-lookup"><span data-stu-id="243cd-139">Caching is a mechanism to store frequently used data or assets (web pages, images) for faster retrieval.</span></span> <span data-ttu-id="243cd-140">Caching kann auf verschiedenen Ebenen Ihrer Anwendung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="243cd-140">Caching can be used at different layers of your application.</span></span> <span data-ttu-id="243cd-141">Sie können Caching zwischen Ihren Anwendungsservern und einer Datenbank verwenden, um die für den Datenabruf benötigte Zeit zu verringern.</span><span class="sxs-lookup"><span data-stu-id="243cd-141">You can use caching between your application servers and a database, to decrease data retrieval times.</span></span> <span data-ttu-id="243cd-142">Sie können auch Caching zwischen Ihren Endbenutzern und Ihren Webservern verwenden, indem Sie statische Inhalte näher am Benutzer platzieren und die Zeit verkürzen, die benötigt wird, um Webseiten an den Endbenutzer zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="243cd-142">You could also use caching between your end users and your web servers, placing static content closer to the user and decreasing the time it takes to return web pages to the end user.</span></span> <span data-ttu-id="243cd-143">Darüber hinaus werden dadurch Anforderungen von Ihrer Datenbank oder Ihren Webservern ausgelagert, sodass sich die Leistung für andere Anforderungen erhöht.</span><span class="sxs-lookup"><span data-stu-id="243cd-143">This also has a secondary effect of offloading requests from your database or web servers, increasing the performance for other requests.</span></span>

### <a name="autoscaling"></a><span data-ttu-id="243cd-144">Automatische Skalierung</span><span class="sxs-lookup"><span data-stu-id="243cd-144">Autoscaling</span></span>

<span data-ttu-id="243cd-145">Die automatische Skalierung ist der Prozess zum dynamischen Zuweisen von Ressourcen gemäß den jeweiligen Leistungsanforderungen.</span><span class="sxs-lookup"><span data-stu-id="243cd-145">Autoscaling is the process of dynamically allocating resources to match performance requirements.</span></span> <span data-ttu-id="243cd-146">Wenn das Arbeitsvolumen zunimmt, sind für eine Anwendung ggf. zusätzliche Ressourcen erforderlich, um die gewünschten Leistungsebenen aufrechtzuerhalten und die Vereinbarungen zum Servicelevel (SLAs) einzuhalten.</span><span class="sxs-lookup"><span data-stu-id="243cd-146">As the volume of work grows, an application may need additional resources to maintain the desired performance levels and satisfy service-level agreements (SLAs).</span></span> <span data-ttu-id="243cd-147">Wenn die Nachfrage abnimmt und die zusätzlichen Ressourcen nicht mehr benötigt werden, kann die Zuordnung aufgehoben werden, um Kosten zu sparen.</span><span class="sxs-lookup"><span data-stu-id="243cd-147">As demand slackens and the additional resources are no longer needed, they can be de-allocated to minimize costs.</span></span>

<span data-ttu-id="243cd-148">Die automatische Skalierung nutzt die Elastizität von Umgebungen, die in der Cloud gehostet werden, und reduziert gleichzeitig den Verwaltungsaufwand.</span><span class="sxs-lookup"><span data-stu-id="243cd-148">Autoscaling takes advantage of the elasticity of cloud-hosted environments while easing management overhead.</span></span> <span data-ttu-id="243cd-149">Die Leistung des Systems muss nicht ständig von einem Bediener überwacht werden, um zu entscheiden, ob Ressourcen hinzugefügt oder entfernt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="243cd-149">It reduces the need for an operator to continually monitor the performance of a system and make decisions about adding or removing resources.</span></span>

### <a name="decouple-resource-intensive-tasks-as-background-jobs"></a><span data-ttu-id="243cd-150">Entkoppeln ressourcenintensiver Aufgaben als Hintergrundaufträge</span><span class="sxs-lookup"><span data-stu-id="243cd-150">Decouple resource-intensive tasks as background jobs</span></span>

<span data-ttu-id="243cd-151">Viele Arten von Anwendungen benötigen Hintergrundaufgaben, die unabhängig von der Benutzeroberfläche (UI) ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="243cd-151">Many types of applications require background tasks that run independently of the user interface (UI).</span></span> <span data-ttu-id="243cd-152">Beispiele hierfür sind Batchaufträge, rechenintensive Aufgaben und langwierige Prozesse wie Workflows.</span><span class="sxs-lookup"><span data-stu-id="243cd-152">Examples include batch jobs, intensive processing tasks, and long-running processes such as workflows.</span></span> <span data-ttu-id="243cd-153">Hintergrundaufträge können ohne Benutzerinteraktion ausgeführt werden. Die Anwendung kann den Auftrag starten und dann mit der Verarbeitung interaktiver Benutzeranforderungen fortfahren.</span><span class="sxs-lookup"><span data-stu-id="243cd-153">Background jobs can be executed without requiring user interaction--the application can start the job and then continue to process interactive requests from users.</span></span> <span data-ttu-id="243cd-154">Damit kann die Arbeitsauslastung der Anwendungsbenutzeroberfläche minimiert werden, was zu einer höheren Verfügbarkeit und zu kürzeren interaktiven Antwortzeiten beitragen kann.</span><span class="sxs-lookup"><span data-stu-id="243cd-154">This can help to minimize the load on the application UI, which can improve availability and reduce interactive response times.</span></span>

### <a name="use-a-messaging-layer-between-services"></a><span data-ttu-id="243cd-155">Verwenden einer Messagingebene zwischen Diensten</span><span class="sxs-lookup"><span data-stu-id="243cd-155">Use a messaging layer between services</span></span>

<span data-ttu-id="243cd-156">Das Hinzufügen einer Messagingebene zwischen Diensten kann sich positiv auf die Leistung und Skalierbarkeit auswirken.</span><span class="sxs-lookup"><span data-stu-id="243cd-156">Adding a messaging layer in between services can have a benefit to performance and scalability.</span></span> <span data-ttu-id="243cd-157">Beim Hinzufügen einer Messagingebene wird ein Puffer für Anforderungen zwischen den Diensten erstellt, damit Anforderungen weiterhin ohne Fehler eingehen können, auch wenn die Anwendung überlastet ist.</span><span class="sxs-lookup"><span data-stu-id="243cd-157">Adding a messaging layer creates a buffer for requests between the services so that requests can continue to flow in without error if the application can’t keep up.</span></span> <span data-ttu-id="243cd-158">Die Anforderungen werden von der Anwendung in der Reihenfolge beantwortet, in der sie empfangen wurden.</span><span class="sxs-lookup"><span data-stu-id="243cd-158">As the application works through the requests, they will be answered in the order in which they were received.</span></span>

### <a name="implement-scale-units"></a><span data-ttu-id="243cd-159">Implementieren von Skalierungseinheiten</span><span class="sxs-lookup"><span data-stu-id="243cd-159">Implement scale units</span></span>

<span data-ttu-id="243cd-160">Skalieren Sie ganze Einheiten.</span><span class="sxs-lookup"><span data-stu-id="243cd-160">Scale as a unit.</span></span> <span data-ttu-id="243cd-161">Bestimmen Sie für jede Ressource die Auswirkungen, die eine Skalierungsaktivität auf abhängige Systeme haben kann.</span><span class="sxs-lookup"><span data-stu-id="243cd-161">For each resource, determine the impact that a scaling activity may have on dependent systems.</span></span> <span data-ttu-id="243cd-162">Dies erleichtert die Anwendung horizontaler Skalierungsvorgänge und ist weniger anfällig für negative Auswirkungen auf die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="243cd-162">This makes applying scale-out operations easier, and less prone to negative impact on the application.</span></span> <span data-ttu-id="243cd-163">Zum Beispiel kann das Hinzufügen von x Web- und Workerrollen möglicherweise y zusätzliche Warteschlangen und z Speicherkonten erforderlich machen, um die durch die Rollen generierte Workload zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="243cd-163">For example, adding x number of web and worker roles might require y number of additional queues and z number of storage accounts to handle the additional workload generated by the roles.</span></span> <span data-ttu-id="243cd-164">Eine Skalierungseinheit kann aus x Web- und Workerrollen, y Warteschlangen und z Speicherkonten bestehen.</span><span class="sxs-lookup"><span data-stu-id="243cd-164">A scale unit could consist of x web and worker roles, y queues, and z storage accounts.</span></span> <span data-ttu-id="243cd-165">Fügen Sie Skalierungseinheiten hinzu, um eine problemlose Skalierung der Anwendung zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="243cd-165">Design the application so that it's easily scaled by adding one or more scale units.</span></span>

### <a name="performance-monitoring"></a><span data-ttu-id="243cd-166">Leistungsüberwachung</span><span class="sxs-lookup"><span data-stu-id="243cd-166">Performance monitoring</span></span>

<span data-ttu-id="243cd-167">Verteilte Anwendungen und Dienste in der Cloud sind naturgemäß komplexe Softwarekomponenten mit zahlreichen Variablen.</span><span class="sxs-lookup"><span data-stu-id="243cd-167">Distributed applications and services running in the cloud are, by their nature, complex pieces of software that comprise many moving parts.</span></span> <span data-ttu-id="243cd-168">In einer Produktionsumgebung sollten Sie unbedingt nachvollziehen können, auf welche Weise Benutzer Ihr System verwenden. Ferner müssen Sie in der Lage sein, die Ressourcennutzung nachzuverfolgen und allgemein die Integrität und Leistung des Systems zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="243cd-168">In a production environment, it's important to be able to track the way in which users utilize your system, trace resource utilization, and generally monitor the health and performance of your system.</span></span> <span data-ttu-id="243cd-169">Diese Informationen dienen als Diagnosehilfe, um vorhandene Probleme zu erkennen und zu korrigieren und potenziellen Problemen vorzubeugen.</span><span class="sxs-lookup"><span data-stu-id="243cd-169">You can use this information as a diagnostic aid to detect and correct issues, and also to help spot potential problems and prevent them from occurring.</span></span>

<span data-ttu-id="243cd-170">Überprüfen Sie alle Ebenen Ihrer Anwendung, und identifizieren und beheben Sie Leistungsengpässe in Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="243cd-170">Look across all layers of your application and identify and remediate performance bottlenecks in your application.</span></span> <span data-ttu-id="243cd-171">Bei diesen Engpässen kann es sich beispielsweise um eine mangelhafte Arbeitsspeicherverwaltung in Ihrer Anwendung oder sogar um den Prozess zum Hinzufügen von Indizes zu Ihrer Datenbank handeln.</span><span class="sxs-lookup"><span data-stu-id="243cd-171">These bottlenecks could be poor memory handling in your application, or even the process of adding indexes into your database.</span></span> <span data-ttu-id="243cd-172">Dabei kann es durchaus vorkommen, dass Sie nach der Beseitigung eines Engpasses einen weiteren entdecken, von dem Sie bislang gar nichts wussten.</span><span class="sxs-lookup"><span data-stu-id="243cd-172">It may be an iterative process as you relieve one bottleneck and then uncover another that you were unaware of.</span></span>

<span data-ttu-id="243cd-173">Mit einem sorgfältig ausgearbeiteten Leistungsüberwachungskonzept können Sie ermitteln, welche Muster und Verfahren für Ihre Architektur von Vorteil sind.</span><span class="sxs-lookup"><span data-stu-id="243cd-173">With a thorough approach to performance monitoring, you'll be able to determine what types of patterns and practices your architecture will benefit from.</span></span>