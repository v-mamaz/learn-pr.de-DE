Wenn es auf Sie gewissermaßen zutrifft, dass Ihre Tätigkeit sich in Ihrer Persönlichkeit widerspiegelt, haben wir den Kern dieses Moduls erreicht. In dieser Einheit werden zwei Methoden näher erläutert, die zu den wichtigsten für SRE zählen. Beiden liegt das Prinzip zugrunde, dass es wichtig ist, „positive Kreisläufe“ zu erstellen. Mit positiven Kreisläufen sind in diesem Kontext Methoden gemeint, die Feedbackschleifen in einer Organisation ermöglichen, durch die eine kontinuierliche Verbesserung erzielt wird. Zu diesen beiden Methoden folgen weitere Module, deshalb werden sie in dieser Einheit nur oberflächlich behandelt.

### <a name="virtuous-cycle-1-slis-and-slos"></a>Positiver Kreislauf, Teil 1: SLIs und SLOs

Zuvor haben wir in diesem Modul ausführlich die Aussage „angemessener Grad an Zuverlässigkeit“ behandelt. Nun sind wir an der Stelle angelangt, an der dieses Konzept zum Einsatz kommt.

Nehmen wir an, dass Sie einen neuen Dienst (der schon erstellt wurde oder noch geplant wird) entwickeln, der an die Produktion übergeben werden soll. Im Rahmen dieses Vorgangs ist es wichtig, Entscheidungen bezüglich der angestrebten Zuverlässigkeit zu treffen. Wenn Sie den Code nicht selbst schreiben, müssen diese Entscheidungen unbedingt mit den Entwicklern zusammen getroffen werden, die an Ihrem Dienst arbeiten.

Die erste Entscheidung, die getroffen werden muss, betrifft die Indikatoren für die Integrität des Diensts (auch als Service Level Indicator oder SLI bezeichnet). Dafür können Sie sich auch folgende Frage stellen: „Woher weiß ich, dass der Dienst betriebsbereit ist und gut funktioniert?“ Es gibt viele Wege, die Integrität nachzuverfolgen, die später näher erläutert werden. Im Prinzip geht es jedoch in der Regel um den Gegensatz zwischen Erfolg und Fehlermessungen (schließt der Dienst Vorgänge zu x Prozent der Zeit erfolgreich ab), Erfolg und Zeitmessungen (wurde eine Antwort innerhalb eines gewissen Zeitschwellenwerts zurückgegeben), Erfolg und Durchsatzmessung (wurde eine bestimmte Menge von Daten verarbeitet) oder um eine Kombination daraus. Nehmen wir als einfaches Beispiel an, dass der SLI für unseren Dienst darin besteht, wie oft ein Erfolg zurückgegeben wurde (gemessen am HTTP-Code „200“ im Vergleich zu „500“ oder einem anderen Code).

Da nun ein eindeutiger Indikator für den Zustand unseres Diensts vorhanden ist, müssen wir entscheiden, welchen Grad an Zuverlässigkeit wir von diesem erwarten bzw. erhoffen. Erwarten wir beispielsweise einen bestimmten Zeitraum pro Tag, in dem der Dienst eine Fehlerquote von 20 % aufweist? Wir verwenden runde und große Zahlen, weil diese für einen verständlichen Einstieg am geeignetsten sind. In späteren Modulen werden die Komplexität und die Genauigkeit von solchen Aussagen (z.B. „Welche Benutzer sehen diese Fehlerquote? Einige? Die meisten?“) erhöht. Diese Erwartung, die in Zusammenarbeit mit den Entwicklern des Diensts ausgearbeitet wird, wird als „Service Level Objective“ (SLO) bezeichnet.

Das SLO muss genau gemessen und im Überwachungssystem dargestellt werden können. Es muss ein objektives, durchdachtes Ziel für die Zuverlässigkeit des Diensts darstellen – welche Zahl ist dafür gut genug? Eine Aussage wie die folgende reicht dafür nicht aus: „Ich denke, dass der Dienst in der letzten Woche gut funktioniert hat, kann es aber nicht genau sagen.“ Der Dienst erfüllt das SLO oder nicht – die Daten müssen eindeutig sein. Wenn das SLO nicht erreicht wird (vor allem, wenn dies wiederholt auftritt), funktioniert etwas nicht richtig, und der Fehler muss behoben werden.

### <a name="error-budgets"></a>Fehlerbudgets

Es ist leicht nachzuvollziehen, dass eine Organisation handelt, wenn ein Dienst das SLO nicht erfüllt. SRE führt dieses Konzept jedoch für Fälle, in denen das SLO erfüllt oder überschritten wird, einen Schritt weiter. Einige Organisationen verwenden SLOs, um sogenannte „Fehlerbudgets“ zu erstellen.

Zur Veranschaulichung dieses Konzepts verwenden wir den Beispieldienst, der bereits erläutert wurde, und dessen SLO von 80 % Erfolg (stellen Sie sich das wie „muss 80 % der Zeit funktionieren“ vor). Mit dem SLO von 80 % Betriebszeit haben wir festgelegt, dass unser Dienst 80 % der Zeit in Betrieb sein muss. Doch was ist mit den verbleibenden 20 %? Wenn es weniger als 20 % sind, ist das für uns nicht weiter erheblich, da wir uns dafür entschieden haben, dass die zusätzlichen 20 % Betriebszeit für unseren Dienst kein wichtiges Ziel darstellen.

Wenn es also nicht wichtig ist, was während dieser Zeit geschieht, wie können wir dann in Bezug auf den Dienst handeln? Es ist natürlich möglich, den ausgeführten Dienst zu unterbrechen, indem wir ein Upgrade für diesen durchführen, z.B. durch ein Release mit neuen Features. Wenn das neue Release funktioniert und nicht zu erhöhter Ausfallzeit führt, ist das hervorragend. Wenn das neue Release dazu führt, dass der Dienst weniger stabil ist und 10 % der Zeit während des Debuggens Fehler zurückgibt, ist das immer noch in Ordnung. Damit liegen wir immer noch im Rahmen der zulässigen Unzuverlässigkeit.

Ein Fehlerbudget stellt die Differenz zwischen der potenziell perfekten Zuverlässigkeit des Diensts und der angestrebten Zuverlässigkeit dar (z.B. 100 % – 80 % = 20 %). In diesem Fall gestattet das Fehlerbudget eine Unzuverlässigkeit von 20 %. Das sind 20 % Zeit, in denen es nicht wichtig ist, ob der Dienst funktioniert oder nicht, weil die Zuverlässigkeit trotzdem im Rahmen ist.  Wir können diese 20 % auf jede erdenkliche Weise verwenden (z.B. für weitere Releases), bis sie – wie bei anderen Budgets – erschöpft sind.

Fehlerbudgets werden in einigen Organisationen auch für den ungünstigeren Fall verwendet, dass das SLO nicht selbst gesetzt wird. In diesem Fall sollten Sie bestimmter vorgehen als wie oben erwähnt nur „eine Maßnahme zu ergreifen“. Nehmen wir an, unser Dienst hatte Probleme und war dadurch nur 60 % der Zeit verfügbar, was sich aus dem zuvor ausgewählten SLI ergeben hat. Wir haben unser Ziel, das SLO, nicht selbst gesetzt. Unser Dienst hat sein Fehlerbudget verbraucht. Die Organisation kann nun ein geplantes Release zurückhalten, da die Zuverlässigkeit durch weitere Störungen des Systems nur verschlechtert wird. Fehlerbudgets werden in der Regel für einen festgelegten Zeitraum, z.B. für einen Monat oder ein Quartal, oder auf fortlaufender Basis berechnet. Wenn die Zuverlässigkeit des Diensts also wiederhergestellt wird, ist auch das Budget wieder verfügbar.

Während des Zeitraums der abgegrenzten Releases kann die Organisation z.B. einige technische Mitarbeiter von der Entwicklung von Features abziehen und diese für die Arbeit an der Zuverlässigkeit einsetzen, um die Quelle der Probleme zu finden, die dazu geführt hat, dass der Dienst das SLO nicht erfüllt, und diese zu beheben.

Wir sprechen in Bezug auf Fehlerbudgets von „einigen Organisationen“, da deren Implementierung ein bestimmtes Maß an Kompromissbereitschaft durch das Unternehmen erfordert, insbesondere dann, wenn das Budget für Releases eingesetzt wird. Die Organisation muss dazu bereit sein, ein geplantes Release zurückzuhalten, wenn die Zuverlässigkeit des Diensts bis dahin nicht erfüllt wurde. Nicht alle Organisationen sind dazu bereit, eine solche Entscheidung zu treffen. Es gibt also auch noch andere mögliche Antworten auf ein erschöpftes Fehlerbudget, diese hier wird jedoch am meisten diskutiert.

In einem separaten Modul werden SLIs, SLOs und Fehlerbudgets näher erläutert, es lohnt sich jedoch, die Aspekte dieser Methoden hervorzuheben, die sich auf den positiven Kreislauf beziehen. In der Theorie wird einer Organisation dadurch eine Möglichkeit bereitgestellt, die Zuverlässigkeit eines Dienst auf eine Art zu beschreiben, zu kommunizieren und auf diese zu reagieren, die es allen Beteiligten ermöglicht, auf eine verbesserte Zuverlässigkeit hinzuarbeiten. Diese Feedbackschleife kann sich als äußerst wichtig erweisen.

## <a name="virtuous-cycle-2-blameless-postmortems"></a>Positiver Kreislauf, Teil 2: Post-mortem-Analysen ohne Schuldzuweisungen

Das Konzept einer Post-mortem-Analyse, bei der ein wichtiges, in der Regel unerwünschtes Ereignis im Nachhinein analysiert wird, stammt nicht aus dem SRE-Bereich. Es ist im Bereich der IT-Vorgänge jedoch nicht ungewöhnlich. Bei SRE muss jedoch erfüllt sein, dass Post-mortem-Analysen ohne Schuldzuweisungen stattfinden. Der Fokus muss auf dem Fehler des Prozesses oder der Technologie liegen, durch den der Vorfall verursacht wurde, nicht auf den Handlungen bestimmter Personen. „Durch welchen Faktor des Prozesses konnte X die Aktion durchführen, die zum Fehler geführt hat? Welche Informationen standen dieser Person nicht zur Verfügung oder wurden in dem Moment nicht angezeigt, als eine falsche Entscheidung getroffen wurde? Welche Sicherungen hätten vorhanden sein müssen, um zu verhindern, dass ein so schwerwiegender Fehler überhaupt eintreten kann?“ Diese Art von Fragen wird in einer Post-mortem-Analyse ohne Schuldzuweisungen gestellt.

Der Inhalt und die Richtung dieser Fragen sind entscheidend. Es soll schließlich nach Möglichkeiten gesucht werden, um die Systeme zu verbessern, nicht um die Personen zu bestrafen, die durch die Verwendung dieser Systeme zum Ausfall beigetragen haben. Denken Sie daran: „Es ist nicht möglich, die gewünschte Zuverlässigkeit durch Entlassungen zu erreichen.“ Meiner Erfahrung nach lernt eine Organisation, die bei jedem Fehler (mit wenigen Ausnahmen) in der Produktion einen Mitarbeiter feuert, nicht aus diesen Vorfällen. Stattdessen bleibt eine Person zurück, die sich nicht mehr zutraut, eigenständig Änderungen vorzunehmen.

Durch einen gut funktionierenden Post-mortem-Analysevorgang wird jedoch ein positiver in einer Organisation eingeleitet. Die Organisation kann aus Ausfällen lernen und ihre Systeme kontinuierlich verbessern, sofern die Analyse sowie sich daraus ergebende Maßnahmen ordnungsgemäß durchgeführt wurden.

Diese Beziehung zwischen Ausfällen und Fehlern ist ein Kernprinzip von SRE, wenn die Organisation diese als Chance sieht, um daraus zu lernen und sich zu verbessern. Die Einleitung von positiven Kreisläufen, um diese Chancen zu nutzen und der Organisation zu einer verbesserten Zuverlässigkeit zu verhelfen, ist ein weiteres wichtiges Kernprinzip.

Weitere Prinzipien und Methoden, die sich auf die Menschen beziehen, die in SRE involviert sind, werden in der nächsten Einheit erläutert.
