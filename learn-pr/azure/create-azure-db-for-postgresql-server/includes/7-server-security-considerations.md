<span data-ttu-id="5ae54-101">Angenommen, Sie arbeiten mit einer lokalen PostgreSQL-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="5ae54-101">Lets' assume you're using an on-premises PostgreSQL database.</span></span> <span data-ttu-id="5ae54-102">Sie verwalten sämtliche Sicherheitsaspekte und haben alle Zugriffe auf Ihre Server mit den Standardfirewallregeln auf PostgreSQL-Serverebene gesperrt.</span><span class="sxs-lookup"><span data-stu-id="5ae54-102">You're managing all security aspects and locked down all access to your servers using the standard PostgreSQL server level firewall rules.</span></span> <span data-ttu-id="5ae54-103">Sie möchten nun sicherstellen, dass Sie die gleichen Firewallregeln auf Serverebene in Azure konfigurieren können.</span><span class="sxs-lookup"><span data-stu-id="5ae54-103">You now want to make sure that you can configure the same server level firewall rules in Azure.</span></span>

## <a name="server-security-considerations-and-connection-methods"></a><span data-ttu-id="5ae54-104">Überlegungen zur Sicherheit von Servern und Verbindungsmethoden</span><span class="sxs-lookup"><span data-stu-id="5ae54-104">Server Security Considerations and Connection Methods</span></span>

<span data-ttu-id="5ae54-105">Sie haben verschiedene Möglichkeiten, den Zugriff auf Ihren Azure Database for PostgreSQL-Server und Ihre Datenbanken einzuschränken.</span><span class="sxs-lookup"><span data-stu-id="5ae54-105">You have a number of options to restrict access to your Azure Database for PostgreSQL server and databases.</span></span> <span data-ttu-id="5ae54-106">Der Netzwerkzugriff kann auf Netzwerk-, Server- oder Datenbankebene eingeschränkt werden.</span><span class="sxs-lookup"><span data-stu-id="5ae54-106">Network access can be restricted at a network, server, or database level.</span></span> <span data-ttu-id="5ae54-107">Sie können auch eine der folgenden Optionen verwenden:</span><span class="sxs-lookup"><span data-stu-id="5ae54-107">You can use any of the following options:</span></span>

- <span data-ttu-id="5ae54-108">Benutzerkonten zum Einschränken des Datenbankzugriffs</span><span class="sxs-lookup"><span data-stu-id="5ae54-108">User accounts to restrict database access</span></span>
- <span data-ttu-id="5ae54-109">Virtuelle Netzwerke zum Einschränken des Netzwerkzugriffs</span><span class="sxs-lookup"><span data-stu-id="5ae54-109">Virtual networks to restrict network access</span></span>
- <span data-ttu-id="5ae54-110">Firewallregeln zum Einschränken des Serverzugriffs</span><span class="sxs-lookup"><span data-stu-id="5ae54-110">Firewall rules to restrict server access</span></span>

### <a name="authentication-and-authorization"></a><span data-ttu-id="5ae54-111">Authentifizierung und Autorisierung</span><span class="sxs-lookup"><span data-stu-id="5ae54-111">Authentication and authorization</span></span>

<span data-ttu-id="5ae54-112">Der Azure Database for PostgreSQL-Server unterstützt die native PostgreSQL-Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="5ae54-112">Azure Database for PostgreSQL server supports native PostgreSQL authentication.</span></span> <span data-ttu-id="5ae54-113">Mit den Anmeldeinformationen des Serveradministrators können Sie eine Verbindung mit dem Server herstellen und diesen authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="5ae54-113">You can connect and authenticate to server with the server's admin login.</span></span> <span data-ttu-id="5ae54-114">Sie erstellen auch Benutzerkonten zum Herstellen einer Verbindung mit bestimmten Datenbanken, um den Zugriff einzuschränken.</span><span class="sxs-lookup"><span data-stu-id="5ae54-114">You'll also create users to connect to specific databases to limit access.</span></span>

### <a name="what-is-a-virtual-network"></a><span data-ttu-id="5ae54-115">Was ist ein virtuelles Netzwerk?</span><span class="sxs-lookup"><span data-stu-id="5ae54-115">What is a Virtual Network?</span></span>

<span data-ttu-id="5ae54-116">Ein virtuelles Netzwerk ist ein logisch isoliertes Netzwerk in Azure, das im Azure-Netzwerk erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="5ae54-116">A virtual network is a logically isolated network created within the Azure network.</span></span> <span data-ttu-id="5ae54-117">Sie können mithilfe eines virtuellen Netzwerks steuern, welche Azure-Ressourcen mit anderen Ressourcen verbunden werden können.</span><span class="sxs-lookup"><span data-stu-id="5ae54-117">You can use a virtual network to control what Azure resources can connect to other resources.</span></span>

<span data-ttu-id="5ae54-118">Stellen Sie sich vor, Sie betreiben eine Webanwendung, die sich mit einer Datenbank verbindet.</span><span class="sxs-lookup"><span data-stu-id="5ae54-118">Imagine you're running a web application that connects to a database.</span></span> <span data-ttu-id="5ae54-119">Sie verwenden Subnetze, um verschiedene Teile des Netzwerks zu isolieren.</span><span class="sxs-lookup"><span data-stu-id="5ae54-119">You'll use subnets to isolate different parts of the network.</span></span> <span data-ttu-id="5ae54-120">Ein Subnetz ist ein Teil eines Netzwerks, der auf einem IP-Adressbereich basiert.</span><span class="sxs-lookup"><span data-stu-id="5ae54-120">A subnet is a part of a network based upon a range of IP addresses.</span></span>

<span data-ttu-id="5ae54-121">Um diese Subnetze zu konfigurieren, erstellen Sie ein virtuelles Netzwerk, das Sie anschließend in Subnetze unterteilen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-121">To configure these subnets, you'll create a virtual network and then subdivide the network into subnets.</span></span> <span data-ttu-id="5ae54-122">Die Webanwendung wird in einem Subnetz, die Datenbank in einem anderen betrieben.</span><span class="sxs-lookup"><span data-stu-id="5ae54-122">The web application will operate on one subnet and the database on another subnet.</span></span> <span data-ttu-id="5ae54-123">Jedes Subnetz verfügt über eigene Regeln für die Kommunikation mit dem jeweils anderen Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="5ae54-123">Each subnet would have its own rules for communicating to and from the other network.</span></span> <span data-ttu-id="5ae54-124">Diese Regeln bieten Ihnen die Möglichkeit, den Zugriff der Datenbank auf die Webanwendung zu beschränken.</span><span class="sxs-lookup"><span data-stu-id="5ae54-124">These rules give you the ability to restrict access from the database to the web application.</span></span>

<span data-ttu-id="5ae54-125">Das Erstellen eines virtuellen Netzwerks würde den Rahmen dieses Moduls sprengen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-125">Creating a virtual network is beyond the scope of this module.</span></span> <span data-ttu-id="5ae54-126">Wenn Sie weitere Informationen benötigen, informieren Sie sich über andere Lernmodule zum Thema virtuelle Netzwerke.</span><span class="sxs-lookup"><span data-stu-id="5ae54-126">If you need more information, please explore other learning modules related to virtual networks.</span></span>

### <a name="what-is-a-firewall"></a><span data-ttu-id="5ae54-127">Was ist eine Firewall?</span><span class="sxs-lookup"><span data-stu-id="5ae54-127">What is a firewall?</span></span>

<span data-ttu-id="5ae54-128">Die Firewall ist ein Dienst, der den Zugriff auf einen Server basierend auf der Ursprungs-IP-Adresse der jeweiligen Anforderung gewährt.</span><span class="sxs-lookup"><span data-stu-id="5ae54-128">A firewall is a service that grants server access based on the originating IP address of each request.</span></span> <span data-ttu-id="5ae54-129">Sie erstellen Firewallregeln, die IP-Adressbereiche festlegen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-129">You create firewall rules that specify ranges of IP addresses.</span></span> <span data-ttu-id="5ae54-130">Nur Clients mit diesen zugewiesenen IP-Adressen dürfen auf den Server zugreifen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-130">Only clients from these granted IP addresses, will be allowed to access the server.</span></span> <span data-ttu-id="5ae54-131">Firewallregeln weisen im Allgemeinen auch spezifische Informationen zu Netzwerkprotokollen und Ports auf.</span><span class="sxs-lookup"><span data-stu-id="5ae54-131">Firewall rules generally speaking also includes specific network protocol and port information.</span></span> <span data-ttu-id="5ae54-132">Beispielsweise lauscht ein PostgreSQL-Server standardmäßig an Port 5432 auf TCP-Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-132">For example, a PostgreSQL server by default listens to TCP requests on port 5432.</span></span>

### <a name="azure-database-for-postgresql-server-firewall"></a><span data-ttu-id="5ae54-133">Azure Database for PostgreSQL-Serverfirewall</span><span class="sxs-lookup"><span data-stu-id="5ae54-133">Azure Database for PostgreSQL server firewall</span></span>

<span data-ttu-id="5ae54-134">Die Azure Database for PostgreSQL-Serverfirewall verhindert jeglichen Zugriff auf Ihren Datenbankserver, bis Sie angeben, welche Computer zugriffsberechtigt sind.</span><span class="sxs-lookup"><span data-stu-id="5ae54-134">The Azure Database for PostgreSQL server firewall prevents all access to your database server until you specify which computers have permission.</span></span> <span data-ttu-id="5ae54-135">Die Firewallkonfiguration ermöglicht die Angabe eines Bereichs von IP-Adressen, die eine Verbindung mit dem Server herstellen dürfen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-135">The firewall configuration allows you to specify a range of IP addresses that are allowed to connect to the server.</span></span> <span data-ttu-id="5ae54-136">Der Server verwendet stets die standardmäßigen PostgreSQL-Verbindungsinformationen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-136">The server always uses the default PostgreSQL connection information.</span></span>

![Funktionsdiagramm für Azure-Firewall](../media-draft/7-firewall-diagram.png)

### <a name="azure-database-for-postgresql-server-ssl-connections"></a><span data-ttu-id="5ae54-138">SSL-Verbindungen für Azure Database for PostgreSQL-Server</span><span class="sxs-lookup"><span data-stu-id="5ae54-138">Azure Database for PostgreSQL server SSL connections</span></span>

<span data-ttu-id="5ae54-139">Azure Database for PostgreSQL stellt Verbindungen zwischen Clientanwendungen und dem PostgreSQL-Dienst vorzugsweise über Secure Sockets Layer (SSL) her.</span><span class="sxs-lookup"><span data-stu-id="5ae54-139">Azure Database for PostgreSQL prefers your client applications connects to the PostgreSQL service using Secure Sockets Layer (SSL).</span></span> <span data-ttu-id="5ae54-140">Das Erzwingen von SSL-Verbindungen zwischen dem Datenbankserver und Ihren Clientanwendungen trägt zum Schutz vor Man-in-the-Middle- und ähnlichen Angriffen bei, indem die Daten zwischen Server und Client verschlüsselt wird.</span><span class="sxs-lookup"><span data-stu-id="5ae54-140">Enforcing SSL connections between your database server and your client applications helps protect against "man in the middle" and similar attacks by encrypting the data between the server and client.</span></span> <span data-ttu-id="5ae54-141">Die Aktivierung von SSL erfordert den Austausch von Schlüsseln und eine strenge Authentifizierung zwischen Client und Server, damit die Verbindung funktioniert.</span><span class="sxs-lookup"><span data-stu-id="5ae54-141">Enabling SSL requires the exchange of keys and strict authentication between client and server for the connection to work.</span></span> <span data-ttu-id="5ae54-142">Details zur Verwendung von SSL werden in dieses Lernmodul nicht behandelt.</span><span class="sxs-lookup"><span data-stu-id="5ae54-142">Details about using SSL are beyond the scope of this learning module.</span></span> <span data-ttu-id="5ae54-143">Wenn Sie weitere Informationen benötigen, informieren Sie sich über andere Lernmodule zum Thema SSL.</span><span class="sxs-lookup"><span data-stu-id="5ae54-143">If you need more information, please explore other learning modules related to SSL.</span></span>

## <a name="configure-connection-security"></a><span data-ttu-id="5ae54-144">Konfigurieren der Verbindungssicherheit</span><span class="sxs-lookup"><span data-stu-id="5ae54-144">Configure Connection Security</span></span>

<span data-ttu-id="5ae54-145">Werfen wir einen Blick auf die Entscheidungen und Schritte bei der Konfiguration einer Firewall für den Azure Database for PostgreSQL-Server.</span><span class="sxs-lookup"><span data-stu-id="5ae54-145">Let's look at the decisions and steps you make to configure an Azure Database for PostgreSQL server firewall.</span></span> <span data-ttu-id="5ae54-146">Sie erfahren auch, wie Sie eine Verbindung mit dem Server herstellen, den Sie zuvor erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="5ae54-146">You'll also see how to connect to the server you've created earlier.</span></span>

<span data-ttu-id="5ae54-147">Öffnen Sie zunächst das [Azure-Portal](https://portal.azure.com?azure-portal=true), und navigieren Sie zur Serverressource, für die Sie eine Firewallregel erstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="5ae54-147">First, you'll open the [Azure portal](https://portal.azure.com?azure-portal=true) and navigate to the server resource for which you would like to create a firewall rule.</span></span>

<span data-ttu-id="5ae54-148">Wählen Sie anschließend die Option **Verbindungssicherheit** aus, um rechts das Blatt „Verbindungssicherheit“ zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-148">Then you'll select the **Connection Security** option to open the connection security blade to the right.</span></span>

![Sicherheitseinstellungen für die PostgreSQL-Datenbank](../media-draft/7-db-security-settings.png)

<span data-ttu-id="5ae54-150">Auf diesem Bildschirm haben Sie mehrere Möglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="5ae54-150">On this screen, you have several options.</span></span> <span data-ttu-id="5ae54-151">Sie können:</span><span class="sxs-lookup"><span data-stu-id="5ae54-151">You can:</span></span>

- <span data-ttu-id="5ae54-152">De IP-Adresse, die Sie für den Zugriff auf das Portal verwenden, als Firewalleintrag hinzufügen, indem Sie auf die Schaltfläche **+ Client-IP-Adresse hinzufügen** klicken</span><span class="sxs-lookup"><span data-stu-id="5ae54-152">Add the IP address you use to access the portal as a firewall entry by clicking on the **+ Add client IP** button</span></span>
- <span data-ttu-id="5ae54-153">Zugriff auf Azure-Dienste erlauben.</span><span class="sxs-lookup"><span data-stu-id="5ae54-153">Allow access to Azure services.</span></span> <span data-ttu-id="5ae54-154">Standardmäßig haben Azure-Dienste **keinen** Zugriff auf den PostgreSQL-Server</span><span class="sxs-lookup"><span data-stu-id="5ae54-154">By default all Azure services **don't** have access to the PostgreSQL server</span></span>
- <span data-ttu-id="5ae54-155">Firewallregeln hinzufügen, indem Sie IP-Adressbereiche eingeben</span><span class="sxs-lookup"><span data-stu-id="5ae54-155">Add firewall rules by entering ranges of IP addresses</span></span>
- <span data-ttu-id="5ae54-156">SSL-Verbindungen erzwingen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-156">Enforce SSL connections.</span></span> <span data-ttu-id="5ae54-157">Diese Option zwingt den Client, eine Verbindung mit dem Server mit einem SSL-Zertifikat herzustellen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-157">This option forces you client to connect to the server using an SSL certificate.</span></span>

<span data-ttu-id="5ae54-158">Denken Sie immer daran, auf das Symbol **Speichern** über den Eingabefeldern zu klicken, um die aktualisierte Konfiguration zu speichern, nachdem Sie Änderungen vorgenommen haben.</span><span class="sxs-lookup"><span data-stu-id="5ae54-158">Always remember to click on the **Save** icon above the entry fields to save the updated configuration once you've made changes.</span></span>

### <a name="allow-access-to-azure-services"></a><span data-ttu-id="5ae54-159">Zugriff auf Azure-Dienste erlauben</span><span class="sxs-lookup"><span data-stu-id="5ae54-159">Allow access to Azure services</span></span>

<span data-ttu-id="5ae54-160">Um Azure Cloud Shell für den Zugriff oder die Konfiguration Ihres Servers zu verwenden, aktivieren Sie **Zugriff auf Azure-Dienste erlauben**.</span><span class="sxs-lookup"><span data-stu-id="5ae54-160">To use Azure Cloud Shell to access or configure your server, make sure to enable **Allow Access to Azure Services**.</span></span> <span data-ttu-id="5ae54-161">Mithilfe dieses Schritts wird der Serverkonfiguration eine Firewallregel hinzugefügt, um den Zugriff aus Cloud Shell zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-161">This step is going to add a firewall rule to the server configuration to allow access from Cloud Shell.</span></span> <span data-ttu-id="5ae54-162">Diese Regel wird jedoch nicht als eine der benutzerdefinierten Regeln angezeigt, die Sie hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-162">This rule will not show as one of the custom rules you add though.</span></span>

<span data-ttu-id="5ae54-163">Sie müssen auch **SSL-Verbindung erzwingen** deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="5ae54-163">You also need to disable **Enforce SSL connection**.</span></span> <span data-ttu-id="5ae54-164">PowerShell kann sich nicht mit dem Server verbinden, wenn SSL für Clientverbindungen erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="5ae54-164">PowerShell cann't connect to the server if SSL is required for client connections.</span></span>

<span data-ttu-id="5ae54-165">Beide Optionen führen zu einer Fehlermeldung in der Befehlszeile, wenn sie nicht ordnungsgemäß konfiguriert sind.</span><span class="sxs-lookup"><span data-stu-id="5ae54-165">Both of these options will result in an error message displayed on the command line if not configured correctly.</span></span>

<span data-ttu-id="5ae54-166">Wenn beispielsweise der Zugriff auf Azure-Dienste nicht erlaubt und die Erzwingung von SSL-Verbindungen aktiviert ist, werden Sie eine ähnliche Meldung wie diese sehen, wenn die Firewall den Zugriff blockiert.</span><span class="sxs-lookup"><span data-stu-id="5ae54-166">For example, if access is not allowed to Azure services and enforce SSL connections is enabled then you'll see something similar to this error when the firewall is blocking access.</span></span>

> <span data-ttu-id="5ae54-167">psql: FATAL: no pg_hba.conf entry for host "123.45.67.89", user "adminuser", database "postgres", SSL on FATAL:  SSL connection is required.</span><span class="sxs-lookup"><span data-stu-id="5ae54-167">psql: FATAL: no pg_hba.conf entry for host "123.45.67.89", user "adminuser", database "postgres", SSL on FATAL:  SSL connection is required.</span></span> <span data-ttu-id="5ae54-168">Geben Sie SSL-Optionen an, und wiederholen Sie den Vorgang.</span><span class="sxs-lookup"><span data-stu-id="5ae54-168">Please specify SSL options and retry.</span></span>

### <a name="create-a-firewall-rule-using-the-portal"></a><span data-ttu-id="5ae54-169">Erstellen einer Firewallregel im Portal</span><span class="sxs-lookup"><span data-stu-id="5ae54-169">Create a firewall rule using the portal</span></span>

<span data-ttu-id="5ae54-170">Angenommen, Sie möchten eine Firewallregel erstellen, die den Zugriff von jeder IP-Adresse aus ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="5ae54-170">Let's say, you want to create a firewall rule that provides access from any IP address.</span></span>

> [!WARNING]
> <span data-ttu-id="5ae54-171">Wenn Sie diese Firewallregel erstellen, kann jede IP-Adresse im Internet versuchen, eine Verbindung mit Ihrem Server herzustellen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-171">Creating this firewall rule will allow any IP address on the Internet to attempt to connect to your server.</span></span> <span data-ttu-id="5ae54-172">Auch wenn Clients ohne Benutzernamen und Kennwort nicht auf den Server zugreifen können, aktivieren Sie diese Regel mit Bedacht, und stellen Sie sicher, dass Sie die Auswirkungen auf die Sicherheit verstehen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-172">Eventhough clients will not be able access the server without the username and password, enable this rule with caution and make sure you understand the security implications.</span></span>

<span data-ttu-id="5ae54-173">Sie erstellen eine neue Firewallregel, indem Sie die folgenden Daten in die markierten Felder eingeben:</span><span class="sxs-lookup"><span data-stu-id="5ae54-173">You create a new firewall rule by entering the following data in the labeled fields:</span></span>

- <span data-ttu-id="5ae54-174">Regelname: `AllowAll`</span><span class="sxs-lookup"><span data-stu-id="5ae54-174">Rule Name: `AllowAll`</span></span>
- <span data-ttu-id="5ae54-175">Start-IP: `0.0.0.0`</span><span class="sxs-lookup"><span data-stu-id="5ae54-175">Start IP: `0.0.0.0`</span></span>
- <span data-ttu-id="5ae54-176">End-IP: `255.255.255.255`</span><span class="sxs-lookup"><span data-stu-id="5ae54-176">End IP: `255.255.255.255`</span></span>

<span data-ttu-id="5ae54-177">Um eine Firewallregel zu entfernen, müssen Sie auf die Auslassungspunkte am Ende der Regel klicken, die Sie löschen möchten.</span><span class="sxs-lookup"><span data-stu-id="5ae54-177">To remove a firewall rule, you'll click the ellipsis at the end of the rule you want to delete.</span></span> <span data-ttu-id="5ae54-178">Klicken Sie auf die Schaltfläche „Löschen“, um die Regel zu löschen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-178">Click the Delete button to delete the rule.</span></span>

<span data-ttu-id="5ae54-179">Klicken Sie über den Eingabefeldern auf das Symbol **Speichern**, um das Löschen der Regel zu bestätigen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-179">Click on the **Save** icon above the entry fields to commit the deletion of the rule.</span></span>

### <a name="create-a-firewall-rule-using-the-azure-cli"></a><span data-ttu-id="5ae54-180">Erstellen einer Firewallregel über die Azure CLI</span><span class="sxs-lookup"><span data-stu-id="5ae54-180">Create a firewall rule using the Azure CLI</span></span>

<span data-ttu-id="5ae54-181">Sie verwenden die Azure CLI, um Ihrem Server mithilfe von Cloud Shell und des Befehls `az postgres server firewall-rule create` Firewallregeln hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-181">You use the Azure CLI to add firewall rules to your server with the `az postgres server firewall-rule create` command using Azure CloudShell.</span></span>

<span data-ttu-id="5ae54-182">Wenn Sie die gleichen Regeln wie oben erstellen möchten, verwenden Sie den folgenden Befehl:</span><span class="sxs-lookup"><span data-stu-id="5ae54-182">Let's say you want to create the same rules as above You'' use the following command:</span></span>

  ```bash
  az postgres server firewall-rule create --resource-group <resource_group_name> --server <server-name> --name AllowAll --start-ip-address 0.0.0.0 --end-ip-address 255.255.255.255
  ```

<span data-ttu-id="5ae54-183">Mit dem Befehl `az postgres server firewall-rule delete` heben Sie Firewallregeln für Ihren Server auf.</span><span class="sxs-lookup"><span data-stu-id="5ae54-183">You remove firewall rules from your server with the command `az postgres server firewall-rule delete`.</span></span>

<span data-ttu-id="5ae54-184">Angenommen, Sie möchten die von Ihnen erstellte Firewall löschen. Geben Sie den folgenden Befehl ein:</span><span class="sxs-lookup"><span data-stu-id="5ae54-184">Let's say you want to delete the firewall you created then use the following command:</span></span>

  ```bash
  az postgres server firewall-rule delete --name AllowAll --resource-group <resource_group_name> --server-name <server-name>
  ```

## <a name="connecting-to-your-server"></a><span data-ttu-id="5ae54-185">Herstellen einer Verbindung mit Ihrem Server</span><span class="sxs-lookup"><span data-stu-id="5ae54-185">Connecting to your server</span></span>

<span data-ttu-id="5ae54-186">Wie jede moderne Datenbank erfordert auch PostgreSQL eine regelmäßige Serververwaltung, um die bestmögliche Leistung zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-186">Like any modern database, PostgreSQL requires regularly server administration to achieve best performance.</span></span> <span data-ttu-id="5ae54-187">Sie haben eine Reihe von Optionen, mit Ihrem Azure Database for PostgreSQL-Server eine Verbindung herzustellen und ihn zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="5ae54-187">You have a number of options to connect and manage your Azure Database for PostgreSQL server.</span></span> <span data-ttu-id="5ae54-188">Zum Herstellen einer Verbindung mit dem Server verwenden Sie `psql`.</span><span class="sxs-lookup"><span data-stu-id="5ae54-188">We'll use `psql` to connect to the server.</span></span>

### <a name="what-is-psql"></a><span data-ttu-id="5ae54-189">Was ist psql?</span><span class="sxs-lookup"><span data-stu-id="5ae54-189">What is psql?</span></span>

<span data-ttu-id="5ae54-190">Das Befehlszeilentool `psql` ist das von PostgreSQL bereitgestellte interaktive Terminal für das Arbeiten mit PostgreSQL-Servern und -Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="5ae54-190">The command-line tool called `psql` is the PostgreSQL distributed interactive terminal for working with PostgreSQL server and databases.</span></span> <span data-ttu-id="5ae54-191">`psql` funktioniert mit Azure Database for PostgreSQL wie mit jeder anderen PostgreSQL-Implementierung und ist in Azure Cloud Shell enthalten.</span><span class="sxs-lookup"><span data-stu-id="5ae54-191">`psql` works with Azure Database for PostgreSQL the same as with any other PostgreSQL implementation and is included with the Azure Cloud Shell.</span></span> <span data-ttu-id="5ae54-192">Das Tool `psql` dient zum Verwalten von Datenbanken sowie zum Anwenden von Strukturabfragen auf diese Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="5ae54-192">The `psql` tool allows you to manage databases as well as execute structure queries against these databases.</span></span>

<span data-ttu-id="5ae54-193">`psql` erfordert eine aktive Verbindung mit einem PostgreSQL-Server.</span><span class="sxs-lookup"><span data-stu-id="5ae54-193">Using `psql` requires a successful connection to a PostgreSQL server.</span></span> <span data-ttu-id="5ae54-194">Es stehen zahlreiche Befehlszeilenparameter für die Verwendung von `psql` zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="5ae54-194">There are a number of command-line parameters available for use when working with `psql`.</span></span>

- <span data-ttu-id="5ae54-195">`--host`: Der Host, mit dem Sie eine Verbindung herstellen möchten</span><span class="sxs-lookup"><span data-stu-id="5ae54-195">`--host` - the host to which you'd like to connect</span></span>
- <span data-ttu-id="5ae54-196">`--username`: Der Benutzername/die ID</span><span class="sxs-lookup"><span data-stu-id="5ae54-196">`--username` - the user name/i.d.</span></span> <span data-ttu-id="5ae54-197">für die Herstellung der Verbindung</span><span class="sxs-lookup"><span data-stu-id="5ae54-197">with which to connect</span></span>
- <span data-ttu-id="5ae54-198">`--dbname`: Der Name der Datenbank, mit der eine Verbindung hergestellt werden soll</span><span class="sxs-lookup"><span data-stu-id="5ae54-198">`--dbname` - the name of the database to connect to.</span></span>

> [!Note]
> <span data-ttu-id="5ae54-199">Sie verbinden sich normalerweise mit der `postgres`-Verwaltungsdatenbank, wenn Sie Serverzugriff und Datenbankkonfiguration verwalten.</span><span class="sxs-lookup"><span data-stu-id="5ae54-199">You'll typically connect to the `postgres` management database when managing your server access and databases configuration.</span></span>

<span data-ttu-id="5ae54-200">Hier der vollständige Befehl:</span><span class="sxs-lookup"><span data-stu-id="5ae54-200">Here is the complete command:</span></span>

  ```bash
  psql --host=<server-name>.postgres.database.azure.com --username=<admin-user>@<server-name> --dbname=<database>
  ```

<span data-ttu-id="5ae54-201">Nach dem Herstellen der Verbindung wird Ihnen eine Eingabeaufforderung angezeigt, mit der Sie Befehle auf Ihren Server und Ihre Datenbanken anwenden können.</span><span class="sxs-lookup"><span data-stu-id="5ae54-201">Once connected, you'll be presented with a command prompt and can execute commands to your server and databases.</span></span>

<span data-ttu-id="5ae54-202">Sie haben nun die Schritte kennengelernt, die Sie zum Konfigurieren von Sicherheitseinstellungen für Azure Database for PostgreSQL ausführen.</span><span class="sxs-lookup"><span data-stu-id="5ae54-202">You've now seen the steps you take to configure an Azure Database for PostgreSQL security settings.</span></span> <span data-ttu-id="5ae54-203">In der nächsten Einheit konfigurieren Sie Sicherheitseinstellungen für Azure Database for PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="5ae54-203">In the next unit, you'll configure an  Azure Database for PostgreSQL security settings.</span></span> <span data-ttu-id="5ae54-204">Auch die Verbindung mit dem Server stellen Sie über Cloud Shell her.</span><span class="sxs-lookup"><span data-stu-id="5ae54-204">You'll also connect to the server using Cloud Shell.</span></span>