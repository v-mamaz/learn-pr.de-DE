<span data-ttu-id="8d1da-101">Sie erhalten die benötigten Ressourcen mit einem großen virtuellen Computer oder mit mehreren kleinen virtuellen Computern mit einem Lastenausgleich, der die Anforderungen zwischen den VMs verteilt.</span><span class="sxs-lookup"><span data-stu-id="8d1da-101">You can get the resources you need using either one large virtual machine or several small VMs with a load balancer to distribute requests among the VMs.</span></span>

<span data-ttu-id="8d1da-102">Der VM-Pool hat den Vorteil, dass Sie VMs schnell hinzufügen oder entfernen können, wenn sich der Bedarf ändert.</span><span class="sxs-lookup"><span data-stu-id="8d1da-102">The VM pool has the nice advantage that you can add or remove VMs quickly when demand changes.</span></span> <span data-ttu-id="8d1da-103">Im Szenario mit dem Spielzeugunternehmen wäre diese Strategie nützlich, um unerwartete Spitzen bei der Nachfrage zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-103">In the toy company scenario, this strategy would be useful to handle unexpected spikes in demand.</span></span> <span data-ttu-id="8d1da-104">Sie könnten VMs zum Pool hinzufügen, wenn der Bedarf steigt, und sie entfernen, wenn der Bedarf wieder den Normalzustand erreicht.</span><span class="sxs-lookup"><span data-stu-id="8d1da-104">You could add VMs to the pool when demand increased and remove them when demand returned to normal.</span></span> <span data-ttu-id="8d1da-105">Der Pool bietet auch Redundanz: Wenn eine VM ausfällt, können die anderen weiterhin ohne Unterbrechung des Diensts Anforderungen verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="8d1da-105">The pool also gives you redundancy; if one VM fails, the others can continue to handle requests with no interruption in service.</span></span>

<span data-ttu-id="8d1da-106">In diesem Abschnitt sehen Sie, wie mehrere VMs mithilfe von Skalierungsgruppen bereitgestellt werden und wie automatisch Instanzen als Reaktion auf Bedarfsänderungen hinzugefügt und entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="8d1da-106">In this section, you will see how to provision multiple VMs using scale sets and how to automatically add and remove instances in response to changing demand.</span></span> 

## <a name="what-is-horizontal-scaling"></a><span data-ttu-id="8d1da-107">Was ist horizontale Skalierung?</span><span class="sxs-lookup"><span data-stu-id="8d1da-107">What is horizontal scaling?</span></span>

<span data-ttu-id="8d1da-108">*Horizontale Skalierung* ist der Prozess des Hinzufügens und Entfernens von virtuellen Computern in einem Pool, um die Anzahl der verfügbaren Ressourcen anzupassen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-108">*Horizontal scaling* is the process of adding or removing virtual machines from a pool to adjust the amount of available resources.</span></span> <span data-ttu-id="8d1da-109">Das Hinzufügen von Computern wird _horizontales Hochskalieren_ genannt, und das Entfernen von Computern heißt _horizontales Herunterskalieren_.</span><span class="sxs-lookup"><span data-stu-id="8d1da-109">Adding machines is called _scaling out_ and removing machines is called _scaling in_.</span></span> <span data-ttu-id="8d1da-110">Lösungen, die die horizontale Skalierung verwenden, enthalten einen Lastenausgleich oder ein Gateway, um Anforderungen zwischen den VMs im Pool zu verteilen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-110">Solutions that use horizontal scaling include a load balancer or gateway to distribute requests among the VMs in the pool.</span></span> <span data-ttu-id="8d1da-111">Die folgende Abbildung zeigt ein Beispiel für das Ändern der Anzahl von VM-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-111">The following illustration shows an example of changing the number of virtual machine instances.</span></span>

![Eine Abbildung, die horizontales Hochskalieren von Ressourcen zur Deckung des Bedarfs und horizontales Herunterskalieren der Ressourcen zur Senkung der Kosten zeigt.](../media/4-ScaleInOut.png)

<span data-ttu-id="8d1da-113">Dieses Verfahren funktioniert am besten für Anwendungen, die auf mehreren identischen Servern ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="8d1da-113">This technique works best for applications that can be run across multiple, identical servers.</span></span> <span data-ttu-id="8d1da-114">Beispielsweise können Sie Ihren Webserver und die Webseiten auf mehreren VMs duplizieren, und alle geben die gleiche Antwort, unabhängig davon, welcher Server die Anforderung empfängt.</span><span class="sxs-lookup"><span data-stu-id="8d1da-114">For example, you can duplicate your web server and web pages on multiple VMs and they will all give the same response no matter which server receives the request.</span></span> <span data-ttu-id="8d1da-115">Auf der anderen Seite ist eine VM, auf der Ihre Back-End-Datenbank ausgeführt wird, kein idealer Kandidat. Durch das Ausführen mehrerer Kopien der Datenbank entsteht ein gewisser Aufwand beim Synchronisieren der Kopien.</span><span class="sxs-lookup"><span data-stu-id="8d1da-115">On the other hand, a VM that runs your backend database is not an ideal candidate because running multiple copies of the database requires some effort to keep the copies in sync.</span></span>

## <a name="what-is-a-scale-set"></a><span data-ttu-id="8d1da-116">Was ist eine Skalierungsgruppe?</span><span class="sxs-lookup"><span data-stu-id="8d1da-116">What is a scale set?</span></span>

<span data-ttu-id="8d1da-117">Eine *Skalierungsgruppe* ist ein Pool mit identischen virtuellen Computern, einem Lastenausgleich oder Gateway zum Verteilen von Anforderungen und einem optionalen Satz von Regeln, die steuern, wann VMs zum Pool hinzugefügt oder daraus entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="8d1da-117">A *scale set* is a pool of identical virtual machines, a load balancer or gateway to distribute requests, and an optional set of rules that control when VMs are added or removed from the pool.</span></span> <span data-ttu-id="8d1da-118">Hier bedeutet „identisch“, dass jede VM in der Gruppe mit dem gleichen Image erstellt wird und die gleiche Größe hat.</span><span class="sxs-lookup"><span data-stu-id="8d1da-118">Here, "identical" means that each VM in the set is created using the same image and has the same size.</span></span>

<span data-ttu-id="8d1da-119">Sie haben eine gewisse Flexibilität hinsichtlich der Konfiguration einer neuen VM mit der Software, die Sie benötigen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-119">You have some flexibility in how a new VM is configured with the software you need.</span></span> <span data-ttu-id="8d1da-120">Sie können mit einem vordefinierten Image für das Basisbetriebssystem beginnen und dann Skripts zum automatischen Installieren oder Kopieren von Dateien nach dem Einrichten des Betriebssystems verwenden.</span><span class="sxs-lookup"><span data-stu-id="8d1da-120">You can start with a predefined image for the base OS and then use scripts to install or copy files automatically after the OS is set up.</span></span> <span data-ttu-id="8d1da-121">Alternativ können Sie ein benutzerdefiniertes VM-Image erstellen, bei dem das Betriebssystem und Ihre Anwendungssoftware bereits installiert sind.</span><span class="sxs-lookup"><span data-stu-id="8d1da-121">Alternately, you can create a custom virtual machine image with the operating system and your application software already installed.</span></span>

## <a name="how-to-distribute-requests"></a><span data-ttu-id="8d1da-122">Verteilen von Anforderungen</span><span class="sxs-lookup"><span data-stu-id="8d1da-122">How to distribute requests</span></span>

<span data-ttu-id="8d1da-123">Sie können entweder einen Lastenausgleich oder ein Anwendungsgateway verwenden, um Anforderungen an die VM-Instanzen in einer Skalierungsgruppe zu verteilen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-123">You can use either a load balancer or an Application Gateway to distribute requests to the VM instances in a scale set.</span></span>

<span data-ttu-id="8d1da-124">Ein Azure-Lastenausgleich wird auf der OSI-Schicht 4 (TCP und UDP) eingesetzt und leitet Datenverkehr basierend auf der IP-Quelladresse und dem dazugehörigen Port kombiniert mit der IP-Zieladresse und dem entsprechenden Port weiter.</span><span class="sxs-lookup"><span data-stu-id="8d1da-124">An Azure load balancer operates at OSI layer 4 (TCP and UDP) and routes traffic based on source IP address and port combined with the destination IP address and port.</span></span> <span data-ttu-id="8d1da-125">Er kann Affinität bereitstellen, sodass Datenverkehr von einer IP-Quelladresse an den gleichen Zielserver weitergeleitet wird, um Konsistenz für eine Clientsitzung zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-125">It can provide affinity, where traffic from the same source IP address is routed to the same destination server to provide consistency across a client session.</span></span> <span data-ttu-id="8d1da-126">Der Lastenausgleich verfügt auch über einen Integritätstestmechanismus, der die Verfügbarkeit von Serverinstanzen bestimmt.</span><span class="sxs-lookup"><span data-stu-id="8d1da-126">The load balancer also has a health probe mechanism that determines the availability of server instances.</span></span> <span data-ttu-id="8d1da-127">Wenn ein virtueller Computer nicht mehr auf den Integritätstest reagiert, vermeidet der Lastenausgleich, neue Verbindungen an diesen Computer weiterzuleiten.</span><span class="sxs-lookup"><span data-stu-id="8d1da-127">If a virtual machine becomes unresponsive to the health probe, the load balancer will avoid routing any new connections to that machine.</span></span>

<span data-ttu-id="8d1da-128">Ein Anwendungsgateway wird auf OSI-Schicht 7 (Anwendungsschicht) eingesetzt.</span><span class="sxs-lookup"><span data-stu-id="8d1da-128">An Application Gateway operates at OSI layer 7 (the application layer).</span></span> <span data-ttu-id="8d1da-129">Wenn Ihre VMs beispielsweise einen Webserver ausführen, kann das Gateway die angeforderte URL für das Routing verwenden.</span><span class="sxs-lookup"><span data-stu-id="8d1da-129">For example, if your VMs are running a web server, then the gateway can use the requested URL to perform routing.</span></span> <span data-ttu-id="8d1da-130">Dies bedeutet, dass Sie Anforderungen mit `*/customers*` in der URL zu einem Pool von Servern und Anforderungen mit `*/partners*` in der URL zu einem anderen Pool weiterleiten können.</span><span class="sxs-lookup"><span data-stu-id="8d1da-130">This means you could forward requests with `*/customers*` in the URL to one pool of servers and requests with `*/partners*` in the URL to a different pool.</span></span> <span data-ttu-id="8d1da-131">Das Anwendungsgateway kann auch Folgendes bereitstellen: HTTP-zu-HTTPS-Umleitung, SSL-Beendigung (Secure Sockets Layer) zum Verringern der Verarbeitungsanforderungen auf den virtuellen Computern für die Verschlüsselung und eine Web Application Firewall (WAF), die Regeln verwendet, um bekannte Web-Exploits zu erkennen und zu verhindern, dass diese Anforderungen die Webserver erreichen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-131">The Application Gateway can also provide HTTP to HTTPS redirection, Secure Sockets Layer (SSL) termination to reduce the processing requirement on the virtual machines for encryption, and a Web application firewall (WAF) that uses rules to detect known web exploits and prevent these requests from reaching the web servers.</span></span>

## <a name="what-is-autoscaling"></a><span data-ttu-id="8d1da-132">Was ist automatische Skalierung?</span><span class="sxs-lookup"><span data-stu-id="8d1da-132">What is autoscaling?</span></span>

<span data-ttu-id="8d1da-133">_Automatische Skalierung_ ist der Prozess, basierend auf einem Satz von Regeln automatisch horizontal hoch- oder herunterzuskalieren.</span><span class="sxs-lookup"><span data-stu-id="8d1da-133">_Autoscaling_ is the process of automatically scaling out or in based on a set of rules.</span></span> <span data-ttu-id="8d1da-134">Die Regeln können durch die Computerlast oder nach einem Zeitplan ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="8d1da-134">The rules can be triggered by machine load or a schedule.</span></span> <span data-ttu-id="8d1da-135">Die folgende Abbildung zeigt, wie die Funktion zur automatischen Skalierung Instanzen verwaltet, um die Last zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-135">The following illustration shows how the autoscale feature manages instances to handle the load.</span></span>

![Eine Abbildung, die zeigt, wie mit der automatischen Skalierung die CPU-Auslastung eines Pools von virtuellen Computern überwacht wird und zusätzliche Instanzen hinzugefügt werden, wenn die CPU-Auslastung über dem Schwellenwert liegt.](../media/4-autoscale.png)

<span data-ttu-id="8d1da-137">Zum Aktivieren der automatischen Skalierung für eine Skalierungsgruppe müssen Sie ein Profil für die automatische Skalierung erstellen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-137">To enable autoscaling for a scale set, you must create an autoscale profile.</span></span> <span data-ttu-id="8d1da-138">Das Profil definiert die minimale und maximale Anzahl von VM-Instanzen für die Gruppe und die Skalierungsregeln.</span><span class="sxs-lookup"><span data-stu-id="8d1da-138">The profile defines the minimum and maximum number of VM instances for the set and the scaling rules.</span></span> <span data-ttu-id="8d1da-139">Regeln zur automatischen Skalierung weisen die folgenden Elemente auf:</span><span class="sxs-lookup"><span data-stu-id="8d1da-139">Autoscale rules have the following elements:</span></span>

* <span data-ttu-id="8d1da-140">Metrikquelle: Die Quelle der Informationen oder Daten, die die Regel für die automatische Skalierung auslösen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-140">Metric source - the source of information or data that triggers the autoscale rule.</span></span> <span data-ttu-id="8d1da-141">Es gibt vier Optionen:</span><span class="sxs-lookup"><span data-stu-id="8d1da-141">There are four options:</span></span>
  * <span data-ttu-id="8d1da-142">*Aktuelle Skalierungsgruppe*: Bietet hostbasierte Metriken, die keine zusätzliche Agents erfordern.</span><span class="sxs-lookup"><span data-stu-id="8d1da-142">*Current scale set* provides host-based metrics that do not require any additional agents.</span></span>
  * <span data-ttu-id="8d1da-143">*Speicherkonto*: Die Azure-Diagnoseerweiterung schreibt Leistungsmetriken in den Azure-Speicher, mit denen Regeln für die automatische Skalierung ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="8d1da-143">*Storage account* the Azure diagnostic extension writes performance metrics to Azure storage that are used to trigger autoscale rules.</span></span>
  * <span data-ttu-id="8d1da-144">*Service Bus-Warteschlange*: Kann anwendungsbasierte oder andere Azure Service Bus-Nachrichten angeben, um die automatische Skalierung auszulösen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-144">*Service Bus Queue* can specify application-based or other Azure Service Bus messages to trigger autoscaling.</span></span>
  * <span data-ttu-id="8d1da-145">*App Insights*: Verwendet ein Instrumentierungspaket, das in der Anwendung installiert werden muss, die in der Skalierungsgruppe ausgeführt wird, um Metrikdaten direkt aus der Anwendung zu streamen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-145">*App Insights* uses an instrumentation package that needs to be installed in the application running on the scale set to stream metric data direct from the application.</span></span>
* <span data-ttu-id="8d1da-146">Regelkriterien: Dies ist die Metrik, die Sie zum Auslösen einer Regel für die automatische Skalierung verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="8d1da-146">Rule criteria - This is the specific metric you want to use to trigger an autoscale rule.</span></span> <span data-ttu-id="8d1da-147">Wenn Sie hostbasierte Metriken verwenden, können Aspekte wie die CPU-Auslastung, der Umfang an Netzwerkdatenverkehr, Datenträgervorgänge oder CPU-Guthaben berücksichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="8d1da-147">If you are using host-based metrics, this can include aspects such as CPU usage, volume of network traffic, disk operations, or CPU credits.</span></span> <span data-ttu-id="8d1da-148">Sie können z.B. eine Regel konfigurieren, um horizontal hochzuskalieren, wenn Datenträger-Schreibvorgänge pro Sekunde einen Schwellenwert überschreiten.</span><span class="sxs-lookup"><span data-stu-id="8d1da-148">For example, you could configure a rule to scale out if disk write operations per second exceed a threshold.</span></span> <span data-ttu-id="8d1da-149">Mit der Azure-Diagnoseerweiterung oder App Insights können Sie beliebige verfügbare Kennzahlen verwenden, um die Regel auszulösen. Dies erfordert jedoch die Konfiguration des entsprechenden Agents.</span><span class="sxs-lookup"><span data-stu-id="8d1da-149">Using the Azure diagnostic extension or App Insights enables you to use any available measure to trigger the rule but requires configuration of the appropriate agent.</span></span>
* <span data-ttu-id="8d1da-150">Aggregationstyp: Damit wird angegeben, wie Sie die Metrikdaten messen möchten. Sie haben folgende Optionen:</span><span class="sxs-lookup"><span data-stu-id="8d1da-150">Aggregation type - This specifies how you want to measure the metric data and will be one of the following options:</span></span>
  * <span data-ttu-id="8d1da-151">Durchschnitt</span><span class="sxs-lookup"><span data-stu-id="8d1da-151">Average</span></span>
  * <span data-ttu-id="8d1da-152">Minimum</span><span class="sxs-lookup"><span data-stu-id="8d1da-152">Minimum</span></span>
  * <span data-ttu-id="8d1da-153">Maximum</span><span class="sxs-lookup"><span data-stu-id="8d1da-153">Maximum</span></span>
  * <span data-ttu-id="8d1da-154">Gesamt</span><span class="sxs-lookup"><span data-stu-id="8d1da-154">Total</span></span>
  * <span data-ttu-id="8d1da-155">Letzte</span><span class="sxs-lookup"><span data-stu-id="8d1da-155">Last</span></span>
  * <span data-ttu-id="8d1da-156">Anzahl</span><span class="sxs-lookup"><span data-stu-id="8d1da-156">Count</span></span>
* <span data-ttu-id="8d1da-157">Operator: Der Operator gibt an, wie eine Metrik von einem festgelegten Schwellenwert abweichen muss, um die Regelaktion auszulösen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-157">Operator - The operator denotes how a metric must be different to a defined threshold to trigger the rules action.</span></span> <span data-ttu-id="8d1da-158">Dies ist besonders wichtig, um festzustellen, ob mit der Regel horizontal hoch- oder herunterskaliert wird.</span><span class="sxs-lookup"><span data-stu-id="8d1da-158">This is particularly important when identifying whether the rule will scale out or in.</span></span> <span data-ttu-id="8d1da-159">Folgende Operatoren sind möglich:</span><span class="sxs-lookup"><span data-stu-id="8d1da-159">Operators can be:</span></span>
  * <span data-ttu-id="8d1da-160">Größer als</span><span class="sxs-lookup"><span data-stu-id="8d1da-160">Greater than</span></span>
  * <span data-ttu-id="8d1da-161">Größer als oder gleich</span><span class="sxs-lookup"><span data-stu-id="8d1da-161">Greater than or equal to</span></span>
  * <span data-ttu-id="8d1da-162">Kleiner als</span><span class="sxs-lookup"><span data-stu-id="8d1da-162">Less than</span></span>
  * <span data-ttu-id="8d1da-163">Kleiner als oder gleich</span><span class="sxs-lookup"><span data-stu-id="8d1da-163">Less than or equal to</span></span>
  * <span data-ttu-id="8d1da-164">Ist gleich</span><span class="sxs-lookup"><span data-stu-id="8d1da-164">Equal to</span></span>
  * <span data-ttu-id="8d1da-165">Ungleich</span><span class="sxs-lookup"><span data-stu-id="8d1da-165">Not equal to</span></span>
* <span data-ttu-id="8d1da-166">Aktion: Damit wird bestimmt, wie sich die Anzahl der Instanzen ändert, wenn die Regel ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="8d1da-166">Action - This determines how the number of instances will change when the rule is triggered.</span></span> <span data-ttu-id="8d1da-167">Die folgenden Aktionen sind verfügbar:</span><span class="sxs-lookup"><span data-stu-id="8d1da-167">The following actions are available:</span></span>
  * <span data-ttu-id="8d1da-168">*Anzahl erhöhen um* eine feste Anzahl von virtuellen Computern.</span><span class="sxs-lookup"><span data-stu-id="8d1da-168">*Increase count by* a fixed number of virtual machines.</span></span>
  * <span data-ttu-id="8d1da-169">*Prozentsatz erhöhen um* einen Prozentsatz von vorhandenen Instanzen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-169">*Increase percent by* a percentage of existing instances.</span></span>
  * <span data-ttu-id="8d1da-170">*Anzahl erhöhen auf* eine bestimmte Anzahl von virtuellen Computern.</span><span class="sxs-lookup"><span data-stu-id="8d1da-170">*Increase count to* a specific number of virtual machines.</span></span>
  * <span data-ttu-id="8d1da-171">*Anzahl verringern um* eine feste Anzahl von virtuellen Computern.</span><span class="sxs-lookup"><span data-stu-id="8d1da-171">*Decrease count by* a fixed number of virtual machines.</span></span>
  * <span data-ttu-id="8d1da-172">*Prozentsatz verringern um* einen Prozentsatz von vorhandenen Instanzen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-172">*Decrease percent by* a percentage of existing instances.</span></span>
  * <span data-ttu-id="8d1da-173">*Anzahl verringern auf* eine bestimmte Anzahl von virtuellen Computern.</span><span class="sxs-lookup"><span data-stu-id="8d1da-173">*Decrease count to* a specific number of virtual machines.</span></span>

<span data-ttu-id="8d1da-174">Sie können auch Regeln für die automatische Skalierung erstellen, die nach Zeitplänen ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="8d1da-174">You can also create autoscale rules that trigger on a schedule.</span></span> <span data-ttu-id="8d1da-175">Sie können z.B. eine Regel definieren, mit der morgens horizontal hochskaliert wird, da dann der Bedarf erfahrungsgemäß hoch ist. Wenn nachmittags der Bedarf wieder sinkt, wird horizontal herunterskaliert.</span><span class="sxs-lookup"><span data-stu-id="8d1da-175">For example, you might define a rule that scales out in the morning when you know demand is high and then scales in after lunch when demand typically decreases.</span></span>

## <a name="how-to-create-a-scale-set"></a><span data-ttu-id="8d1da-176">Erstellen einer Skalierungsgruppe</span><span class="sxs-lookup"><span data-stu-id="8d1da-176">How to create a scale set</span></span>

<span data-ttu-id="8d1da-177">Sie können eine Skalierungsgruppen mit dem Azure-Portal, Azure PowerShell oder der Azure-Befehlszeilenschnittstelle (CLI) erstellen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-177">You can create a scale set using the Azure portal, Azure PowerShell, or the Azure command-line interface (CLI).</span></span>

### <a name="portal"></a><span data-ttu-id="8d1da-178">Portal</span><span class="sxs-lookup"><span data-stu-id="8d1da-178">Portal</span></span>

<span data-ttu-id="8d1da-179">Wenn Sie das Azure-Portal verwenden, um die Skalierungsgruppe zu erstellen, geben Sie das Betriebssystemimage für die virtuellen Computer und die Anzahl von VM-Instanzen an, die beim Start erstellt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-179">If you use the Azure portal to create the scale set, you will specify the operating system image to use for the virtual machines and how many VM instances to create at startup.</span></span> <span data-ttu-id="8d1da-180">Sie geben auch die VM-Größe für jede Instanz an und legen fest, ob der Azure-Lastenausgleich oder das Anwendungsgateway für den Lastenausgleich verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="8d1da-180">You will also specify the size of virtual machine for each instance and whether to use the Azure load balancer or the Application Gateway for load balancing.</span></span> <span data-ttu-id="8d1da-181">Wenn Sie einen Lastenausgleich auswählen, erstellt das Portal dafür einen standardmäßigen Integritätstest an Port 80.</span><span class="sxs-lookup"><span data-stu-id="8d1da-181">If you choose a load balancer, the portal will create a default health probe on port 80 for it.</span></span>

### <a name="powershell"></a><span data-ttu-id="8d1da-182">PowerShell</span><span class="sxs-lookup"><span data-stu-id="8d1da-182">PowerShell</span></span>

<span data-ttu-id="8d1da-183">Sie können mit dem PowerShell-Cmdlet **New-AzureRmVmss** eine VM-Skalierungsgruppe erstellen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-183">You can create a virtual machine scale set with the **New-AzureRmVmss** PowerShell cmdlet.</span></span> <span data-ttu-id="8d1da-184">Dieses Cmdlet kann eine neue Skalierungsgruppe und einen Lastausgleich erstellen und die Zuweisungen von IP-Adressen und virtuellen Netzwerken steuern.</span><span class="sxs-lookup"><span data-stu-id="8d1da-184">This cmdlet can create a new scale set, a load balancer, and control IP address and virtual network assignments.</span></span> <span data-ttu-id="8d1da-185">In der Regel verwendet das Cmdlet **New-AzureRmVmss** die folgenden Standardeinstellungen:</span><span class="sxs-lookup"><span data-stu-id="8d1da-185">Unless specified in the cmdlet, **New-AzureRmVmss** will use the following default settings:</span></span>

* <span data-ttu-id="8d1da-186">Erstellen von zwei VM-Instanzen</span><span class="sxs-lookup"><span data-stu-id="8d1da-186">Create two virtual machine instances</span></span>
* <span data-ttu-id="8d1da-187">Verwenden des Windows Server 2016 Datacenter-Images</span><span class="sxs-lookup"><span data-stu-id="8d1da-187">Use the Windows Server 2016 Datacenter image</span></span>
* <span data-ttu-id="8d1da-188">Verwenden der VM-Größe „Standard DS1_v2“</span><span class="sxs-lookup"><span data-stu-id="8d1da-188">Use the Standard DS1_v2 virtual machine size</span></span>
* <span data-ttu-id="8d1da-189">Einrichten eines Lastenausgleichs</span><span class="sxs-lookup"><span data-stu-id="8d1da-189">Create a load balancer</span></span>
* <span data-ttu-id="8d1da-190">Erstellen von Lastenausgleichsregeln für die Ports 3389 und 5985 für Windows und für Port 22 für Linux</span><span class="sxs-lookup"><span data-stu-id="8d1da-190">Create load balancer rules for ports 3389 and 5985 for Windows, port 22 for Linux</span></span>

<span data-ttu-id="8d1da-191">**New-AzureRmVmss** erstellt keinen Integritätstest für den Lastenausgleich.</span><span class="sxs-lookup"><span data-stu-id="8d1da-191">**New-AzureRmVmss** does not create a health probe for the load balancer.</span></span> <span data-ttu-id="8d1da-192">Es empfiehlt sich, diesen mit **Add-AzureRmLoadBalancerProbeConfig** nach der Erstellung der Skalierungsgruppe zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="8d1da-192">Best practice would be to create this using **Add-AzureRmLoadBalancerProbeConfig** after you have created the scale set.</span></span>

<span data-ttu-id="8d1da-193">Durch horizontale Skalierung mit Skalierungsgruppen verfügen Sie über mehrere Server zum Ausführen der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="8d1da-193">Horizontal scaling with scale sets gives you multiple servers to run your application.</span></span> <span data-ttu-id="8d1da-194">Die Nutzung mehrerer Server ermöglicht es Ihnen, große Lasten zu verarbeiten. Zudem stellen Sie dadurch sicher, dass Ihre Dienste verfügbar bleiben, selbst wenn ein Server abstürzt.</span><span class="sxs-lookup"><span data-stu-id="8d1da-194">Using multiple servers lets you handle high loads and ensures your services remain available even if a server crashes.</span></span> <span data-ttu-id="8d1da-195">Sie können Ihren Skalierungsgruppen eine automatische Skalierung hinzufügen, damit Ihr System automatisch an unerwartete Bedarfsänderungen angepasst wird.</span><span class="sxs-lookup"><span data-stu-id="8d1da-195">You can add autoscale to your scale sets, so your system automatically adjusts to unexpected changes in demand.</span></span>