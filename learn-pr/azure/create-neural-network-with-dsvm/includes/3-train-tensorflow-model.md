### <a name="exercise-3-train-a-tensorflow-model"></a><span data-ttu-id="ea61b-101">Übung 3: Trainieren eines TensorFlow-Modells</span><span class="sxs-lookup"><span data-stu-id="ea61b-101">Exercise 3: Train a TensorFlow model</span></span>

<span data-ttu-id="ea61b-102">In dieser Übung trainieren Sie ein mit [TensorFlow](https://www.tensorflow.org/) erstelltes Bildklassifizierungsmodell zur Erkennung von Bildern, die Hotdogs enthalten.</span><span class="sxs-lookup"><span data-stu-id="ea61b-102">In this exercise, you will train an image-classification model built with [TensorFlow](https://www.tensorflow.org/) to recognize images that contain hot dogs.</span></span> <span data-ttu-id="ea61b-103">Statt ein Modell von Grund auf neu zu erstellen, was eine enorm große Rechenleistung und Unmengen von Bildern erfordern würde, passen Sie ein bereits vorhandenes Modell an. Dies ist ein Verfahren, das als [Transfer Learning](https://en.wikipedia.org/wiki/Transfer_learning) bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="ea61b-103">Rather than create the model from scratch, which would require vast amounts of computing power and tens or hundreds of thousands of images, you will customize a preexisting model, a practice known as [transfer learning](https://en.wikipedia.org/wiki/Transfer_learning).</span></span> <span data-ttu-id="ea61b-104">Mit Transfer Learning erreichen Sie eine hohe Genauigkeit mit nur wenigen Minuten Trainingszeit auf einem typischen Laptop oder PC und nur einigen Dutzend Bildern.</span><span class="sxs-lookup"><span data-stu-id="ea61b-104">Transfer learning allows you to achieve high levels of accuracy with as little as a few minutes of training time on a typical laptop or PC and as few as several dozen images.</span></span>

<span data-ttu-id="ea61b-105">Im Zusammenhang mit Deep Learning wird beim Transfer Learning mit einem tiefgreifenden neuronalen Netzwerk begonnen, das vorab trainiert wurde, Bilder zu erkennen. Diesem wird eine Ebene hinzugefügt, mit der das Netzwerk an Ihren Problembereich angepasst wird, beispielsweise Bilder in zwei Gruppen zu teilen, nämlich in Bilder mit Hotdogs und Bilder ohne Hotdogs.</span><span class="sxs-lookup"><span data-stu-id="ea61b-105">In the context of deep learning, transfer learning involves starting with a deep neural network that is pretrained to perform image classification and adding a layer that customizes the network for your problem domain — for example, to classify images into two groups: those that contain hot dogs, and those that do not.</span></span> <span data-ttu-id="ea61b-106">Unter <https://github.com/tensorflow/models/tree/master/research/slim#pre-trained-models.> sind mehr als 20 vorab trainierte TensorFlow-Bildklassifizierungsmodelle verfügbar. Die Modelle [Inception](https://arxiv.org/abs/1512.00567) und [ResNet](https://towardsdatascience.com/an-overview-of-resnet-and-its-variants-5281e2f56035) zeichnen sich durch eine höhere Genauigkeit und einen entsprechend höheren Ressourcenbedarf aus, während bei MobileNet-Modellen Genauigkeit gegen Kompaktheit und Energieeffizienz eingetauscht wird und diese Modelle für mobile Geräte entwickelt wurden.</span><span class="sxs-lookup"><span data-stu-id="ea61b-106">More than 20 pretrained TensorFlow image-classification models are available at <https://github.com/tensorflow/models/tree/master/research/slim#pre-trained-models.> The [Inception](https://arxiv.org/abs/1512.00567) and [ResNet](https://towardsdatascience.com/an-overview-of-resnet-and-its-variants-5281e2f56035) models are characterized by higher accuracy and commensurately higher resource requirements, while the MobileNet models trade accuracy for compactness and power efficiency and were developed with mobile devices in mind.</span></span> <span data-ttu-id="ea61b-107">Alle diese Modelle sind in der Deep-Learning-Community bekannt und wurden in einer Reihe von Wettbewerben sowie in realen Anwendungen eingesetzt.</span><span class="sxs-lookup"><span data-stu-id="ea61b-107">All of these models are well known in the deep-learning community and have been used in a number of competitions as well as in real-world applications.</span></span> <span data-ttu-id="ea61b-108">Verwenden Sie eines der MobileNet-Modelle als Grundlage für Ihr neuronales Netzwerk, um ein vernünftiges Verhältnis zwischen Genauigkeit und Trainingszeit zu finden.</span><span class="sxs-lookup"><span data-stu-id="ea61b-108">You will use one of the MobileNet models as the basis for your neural network in order to strike a reasonable balance between accuracy and training time.</span></span>

<span data-ttu-id="ea61b-109">Zum Training des Modells gehört etwas mehr als nur die Ausführung eines Python-Skripts, welches das Basismodell herunterlädt und eine Ebene hinzufügt, die mit domänenspezifischen Bildern und Bezeichnungen trainiert wurde.</span><span class="sxs-lookup"><span data-stu-id="ea61b-109">Training the model involves little more than running a Python script that downloads the base model and adds a layer trained with domain-specific images and labels.</span></span> <span data-ttu-id="ea61b-110">Das Skript, das Sie benötigen, erhalten Sie unter GitHub, und die Bilder, die Sie verwenden, wurden aus Tausenden von öffentlich zugänglichen Bildern von Lebensmitteln zusammengestellt, die unter [Kaggle](https://www.kaggle.com) verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="ea61b-110">The script you need is available on GitHub, and the images you will use were assembled from thousands of public-domain food images available from [Kaggle](https://www.kaggle.com).</span></span>

1. <span data-ttu-id="ea61b-111">Klicken Sie auf der Data Science Virtual Machine auf das Symbol „Terminal“ am unteren Bildschirmrand, um ein Terminalfenster zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="ea61b-111">In the Data Science VM, click the Terminal icon at the bottom of the screen to open a terminal window.</span></span>

    ![Aufrufen eines Terminalfensters](../images/launch-terminal.png)

    <span data-ttu-id="ea61b-113">_Aufrufen eines Terminalfensters_</span><span class="sxs-lookup"><span data-stu-id="ea61b-113">_Launching a terminal window_</span></span>

1. <span data-ttu-id="ea61b-114">Führen Sie im Terminalfenster den folgenden Befehl aus, um zum Ordner „notebooks“ zu navigieren:</span><span class="sxs-lookup"><span data-stu-id="ea61b-114">Execute the following command in the terminal window to navigate to the "notebooks" folder:</span></span>

    ```bash
    cd notebooks
    ```
    <span data-ttu-id="ea61b-115">Dieser Ordner enthält bereits Jupyter-Beispielnotebooks, die für DSVM zusammengestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="ea61b-115">This folder is prepopulated with sample Jupyter notebooks curated for the DSVM.</span></span>

1. <span data-ttu-id="ea61b-116">Verwenden Sie als Nächstes den folgenden Befehl, um das Repository „TensorFlow for Poets“ aus GitHub zu klonen:</span><span class="sxs-lookup"><span data-stu-id="ea61b-116">Now use the following command to clone the "TensorFlow for Poets" repository from GitHub:</span></span>

    ```bash
    git clone https://github.com/googlecodelabs/tensorflow-for-poets-2
    ```
    > <span data-ttu-id="ea61b-117">**Tipp**: Sie können diese Zeile in die Zwischenablage kopieren und anschließend mit der Tastenkombination **UMSCHALTTASTE+Einfg** in das Terminalfenster einfügen.</span><span class="sxs-lookup"><span data-stu-id="ea61b-117">**Tip**: You can copy this line to the clipboard, and then use **Shift+Ins** to paste it into the terminal window.</span></span>

    <span data-ttu-id="ea61b-118">Dieses Repository enthält Skripts zum Erstellen von Transfer-Learning-Modellen, zum Aufrufen eines trainierten Modells, um ein Bild zu klassifizieren, und vieles mehr.</span><span class="sxs-lookup"><span data-stu-id="ea61b-118">This repo contains scripts for creating transfer-learning models, invoking a trained model in order to classify an image, and more.</span></span> <span data-ttu-id="ea61b-119">Es ist Teil von [Google Codelabs](https://codelabs.developers.google.com/), eine Plattform, die eine Vielzahl von Ressourcen und praktischen Übungen für Softwareentwickler enthält, die TensorFlow und andere Google-Tools und APIs kennenlernen möchten.</span><span class="sxs-lookup"><span data-stu-id="ea61b-119">It is part of [Google Codelabs](https://codelabs.developers.google.com/), which contains a variety of resources and hands-on labs for software developers interested in learning about TensorFlow and other Google tools and APIs.</span></span>

1. <span data-ttu-id="ea61b-120">Nachdem der Klonvorgang abgeschlossen ist, navigieren Sie zu dem Ordner, der das geklonte Modell enthält:</span><span class="sxs-lookup"><span data-stu-id="ea61b-120">Once cloning is complete, navigate to the folder containing the cloned model:</span></span>

    ```bash
    cd tensorflow-for-poets-2
    ```

1. <span data-ttu-id="ea61b-121">Verwenden Sie den folgenden Befehl, um Bilder herunterzuladen, die zum Trainieren des Modells verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="ea61b-121">Use the following command to download the images that will be used to train the model:</span></span>

    ```bash
    wget https://topcs.blob.core.windows.net/public/tensorflow-resources.zip -O temp.zip; unzip temp.zip -d tf_files; rm temp.zip
    ```

    <span data-ttu-id="ea61b-122">Mit diesem Befehl wird eine ZIP-Datei, die Hunderte von Bildern von Lebensmitteln enthält – die Hälfte davon mit Hotdogs, die andere Hälfte ohne – heruntergeladen und in das Unterverzeichnis „tf_files“ kopiert.</span><span class="sxs-lookup"><span data-stu-id="ea61b-122">This command downloads a zip file containing hundreds of food images — half containing hot dogs, and half that do not — and copies them into the subdirectory named "tf_files."</span></span>

1. <span data-ttu-id="ea61b-123">Klicken Sie auf das Symbol „Datei-Manager“ am unteren Bildschirmrand, um das Fenster „Datei-Manager“ zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="ea61b-123">Click the File Manager icon at the bottom of the screen to open a File Manager window.</span></span>

    ![Aufrufen von Datei-Manager](../images/launch-file-manager.png)

    <span data-ttu-id="ea61b-125">_Aufrufen von Datei-Manager_</span><span class="sxs-lookup"><span data-stu-id="ea61b-125">_Launching File Manager_</span></span>

1. <span data-ttu-id="ea61b-126">Navigieren Sie im Datei-Manager zum Ordner „notebooks/tensorflow-for-poets-2/tf_files“.</span><span class="sxs-lookup"><span data-stu-id="ea61b-126">In File Manager, navigate to the "notebooks/tensorflow-for-poets-2/tf_files" folder.</span></span> <span data-ttu-id="ea61b-127">Überprüfen Sie, ob der Ordner die Unterverzeichnisse „hot_dog“ und „not_hot_dog“ enthält.</span><span class="sxs-lookup"><span data-stu-id="ea61b-127">Confirm that the folder contains a pair of subdirectories named "hot_dog" and "not_hot_dog."</span></span> <span data-ttu-id="ea61b-128">Ersteres enthält mehrere Hundert Bilder mit Hotdogs, während das Letztere dieselbe Anzahl von Bildern **ohne** Hotdogs enthält.</span><span class="sxs-lookup"><span data-stu-id="ea61b-128">The former contains several hundred images containing hot dogs, while the latter contains an equal number of images that do **not** contain hot dogs.</span></span> <span data-ttu-id="ea61b-129">Durchsuchen Sie die Bilder im Ordner „hot_dog“, um ein Gefühl dafür zu bekommen, wie die Bilder aussehen.</span><span class="sxs-lookup"><span data-stu-id="ea61b-129">Browse the images in the "hot_dog" folder to get a feel for what they look like.</span></span> <span data-ttu-id="ea61b-130">Sehen Sie sich auch die Bilder im Ordner „not_hot_dog“ an.</span><span class="sxs-lookup"><span data-stu-id="ea61b-130">Check out the images in the "not_hot_dog" folder as well.</span></span>

    > <span data-ttu-id="ea61b-131">Um ein neuronales Netzwerk so zu trainieren, dass es ermitteln kann, ob ein Bild einen Hotdog enthält, trainieren Sie es mit Bildern, die einen Hotdog enthalten, sowie mit Bildern, die keinen Hotdog enthalten.</span><span class="sxs-lookup"><span data-stu-id="ea61b-131">In order to train a neural network to determine whether an image contains a hot dog, you will train it with images that contain hot dogs as well as images that do not contain hot dogs.</span></span>

    ![Bilder im Ordner „Hot_dog“](../images/hot-dog-images.png)

    <span data-ttu-id="ea61b-133">*Bilder im Ordner „Hot_dog“*</span><span class="sxs-lookup"><span data-stu-id="ea61b-133">*Images in the "hot_dog" folder*</span></span>

    <span data-ttu-id="ea61b-134">Überprüfen Sie außerdem, ob der Ordner eine Textdatei mit dem Namen **retrained_labels_hotdog.txt** enthält.</span><span class="sxs-lookup"><span data-stu-id="ea61b-134">Also confirm that the folder contains a text file named **retrained_labels_hotdog.txt**.</span></span> <span data-ttu-id="ea61b-135">In dieser Datei sind die Unterverzeichnisse angegeben, in denen die Trainingsbilder enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="ea61b-135">This file identifies the subdirectories containing the training images.</span></span> <span data-ttu-id="ea61b-136">Sie wird von dem Python-Skript verwendet, mit dem das Modell trainiert wird.</span><span class="sxs-lookup"><span data-stu-id="ea61b-136">It is used by the Python script that trains the model.</span></span> <span data-ttu-id="ea61b-137">Vom Skript werden die Dateien in den jeweiligen in der Textdatei (der Name der Textdatei ist ein Parameter, der an das Skript übergeben wird) angegebenen Unterverzeichnissen einzeln benannt und zum Trainieren des Netzwerks verwendet.</span><span class="sxs-lookup"><span data-stu-id="ea61b-137">The script enumerates the files in each subdirectory identifed in the text file (the text file's name is a parameter passed to the script) and uses those files to train the network.</span></span>

1. <span data-ttu-id="ea61b-138">Öffnen Sie ein zweites Terminalfenster, und navigieren Sie zum Ordner „notebooks/tensorflow-for-poets-2“. Das ist derselbe Ordner, der bereits im ersten Terminalfenster geöffnet ist.</span><span class="sxs-lookup"><span data-stu-id="ea61b-138">Open a second terminal window and navigate to the "notebooks/tensorflow-for-poets-2" folder — the same one that is open in the first terminal window.</span></span> <span data-ttu-id="ea61b-139">Verwenden Sie anschließend den folgenden Befehl, um [TensorBoard](https://www.tensorflow.org/programmers_guide/summaries_and_tensorboard) aufzurufen – hierbei handelt es sich um eine Reihe von Tools, mit denen Sie TensorFlow-Modelle visualisieren und sich einen Überblick über den Transfer-Learning-Prozess verschaffen können:</span><span class="sxs-lookup"><span data-stu-id="ea61b-139">Then use the following command to launch [TensorBoard](https://www.tensorflow.org/programmers_guide/summaries_and_tensorboard), which is a set of tools used to visualize TensorFlow models and gain insight into the transfer-learning process:</span></span>

     ```bash
     tensorboard --logdir tf_files/training_summaries
     ```

     > <span data-ttu-id="ea61b-140">Dieser Befehl kann nicht ausgeführt werden, wenn bereits eine Instanz von TensorBoard ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ea61b-140">This command will fail if there is already an instance of TensorBoard running.</span></span> <span data-ttu-id="ea61b-141">Wenn Sie benachrichtigt werden, dass Port 6006 bereits verwendet wird, verwenden Sie einen ```pkill -f "tensorboard"```-Befehl, um den vorhandenen Prozess zu beenden.</span><span class="sxs-lookup"><span data-stu-id="ea61b-141">If you are notified that port 6006 is already in use, use a ```pkill -f "tensorboard"``` command to kill the existing process.</span></span> <span data-ttu-id="ea61b-142">Führen Sie anschließend den Befehl ```tensorboard``` erneut aus.</span><span class="sxs-lookup"><span data-stu-id="ea61b-142">Then execute the ```tensorboard``` command again.</span></span>

1. <span data-ttu-id="ea61b-143">Wechseln Sie zurück zum ursprünglichen Terminalfenster, und führen Sie die folgenden Befehle aus:</span><span class="sxs-lookup"><span data-stu-id="ea61b-143">Switch back to the original terminal window and execute the following commands:</span></span>

    ```bash
    IMAGE_SIZE=224;
    ARCHITECTURE="mobilenet_0.50_${IMAGE_SIZE}";
    ```

    <span data-ttu-id="ea61b-144">Mit diesen Befehlen werden Umgebungsvariablen initialisiert, die die Auflösung der Trainingsbilder und das Basismodell angeben, auf dem das neuronale Netzwerk aufgebaut ist.</span><span class="sxs-lookup"><span data-stu-id="ea61b-144">These commands initialize environment variables specifying the resolution of the training images and the base model that your neural network will build upon.</span></span> <span data-ttu-id="ea61b-145">Gültige Werte für IMAGE_SIZE: 128, 160, 192 und 224.</span><span class="sxs-lookup"><span data-stu-id="ea61b-145">Valid values for IMAGE_SIZE are 128, 160, 192, and 224.</span></span> <span data-ttu-id="ea61b-146">Höhere Werte verlängern die Trainingszeit, aber auch die Genauigkeit der Klassifizierung.</span><span class="sxs-lookup"><span data-stu-id="ea61b-146">Higher values increase the training time, but also increase the accuracy of the classifier.</span></span>

1. <span data-ttu-id="ea61b-147">Führen Sie als Nächstes den folgenden Befehl aus, um den Transfer-Learning-Prozess zu starten, d.h. um das Modell mit den heruntergeladenen Bildern zu trainieren:</span><span class="sxs-lookup"><span data-stu-id="ea61b-147">Now execute the following command to start the transfer-learning process — that is, to train the model with the images you downloaded:</span></span>

    ```bash
    python scripts/retrain.py \
    --bottleneck_dir=tf_files/bottlenecks \
    --how_many_training_steps=500 \
    --model_dir=tf_files/models/ \
    --summaries_dir=tf_files/training_summaries/"${ARCHITECTURE}" \
    --output_graph=tf_files/retrained_graph_hotdog.pb \
    --output_labels=tf_files/retrained_labels_hotdog.txt \
    --architecture="${ARCHITECTURE}" \
    --image_dir=tf_files \
    --testing_percentage=15 \
    --validation_percentage=15
    ```

    <span data-ttu-id="ea61b-148">**retrain.py** ist eines der Skripts im Repository, das Sie heruntergeladen haben.</span><span class="sxs-lookup"><span data-stu-id="ea61b-148">**retrain.py** is one of the scripts in the repo that you downloaded.</span></span> <span data-ttu-id="ea61b-149">Es ist ein komplexes Skript und umfasst mehr als 1.000 Codezeilen und Kommentare.</span><span class="sxs-lookup"><span data-stu-id="ea61b-149">It is complex, comprising more than 1,000 lines of code and comments.</span></span> <span data-ttu-id="ea61b-150">Seine Aufgabe besteht darin, das mit dem Schalter ```--architecture``` angegebene Modell herunterzuladen und einer neuen Ebene hinzuzufügen, die mit den Bildern in Unterverzeichnissen des mit dem Schalter ```--image_dir``` angegebenen Verzeichnisses trainiert wurde.</span><span class="sxs-lookup"><span data-stu-id="ea61b-150">Its job is to download the model specified with the ```--architecture``` switch and add to it a new layer trained with the images found in subdirectories of the directory specified with the ```--image_dir``` switch.</span></span> <span data-ttu-id="ea61b-151">Jedes Bild ist mit dem Namen des Unterverzeichnisses beschriftet, in dem es sich befindet – in diesem Beispiel entweder mit „hot_dog“ oder mit „not_hot_dog“ – sodass das geänderte neuronale Netzwerk eingegebene Bilder als Bilder mit Hotdogs („hot_dog“) oder als Bilder ohne Hotdogs („not_hot_dog“) klassifizieren kann.</span><span class="sxs-lookup"><span data-stu-id="ea61b-151">Each image is labeled with the name of the subdirectory in which it is located — in this case, either "hot_dog" or "not_hot_dog" — enabling the modified neural network to classify images input to it as hot-dog images ("hot_dog") or not-hot-dog images ("not_hot_dog").</span></span> <span data-ttu-id="ea61b-152">Die Ausgabe der Trainingssitzung ist eine TensorFlow-Modelldatei mit dem Namen **retrained_graph_hotdog.pb**.</span><span class="sxs-lookup"><span data-stu-id="ea61b-152">The output from the training session is a TensorFlow model file named **retrained_graph_hotdog.pb**.</span></span> <span data-ttu-id="ea61b-153">Der Name und der Speicherort werden im Schalter ```--output_graph``` angegeben.</span><span class="sxs-lookup"><span data-stu-id="ea61b-153">The name and location are specified in the ```--output_graph``` switch.</span></span>

1. <span data-ttu-id="ea61b-154">Warten Sie, bis das Training abgeschlossen ist. Das sollte keine 5 Minuten dauern.</span><span class="sxs-lookup"><span data-stu-id="ea61b-154">Wait for training to complete; it should take less than 5 minutes.</span></span> <span data-ttu-id="ea61b-155">Überprüfen Sie dann die Ausgabe, um die Genauigkeit des Modells zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="ea61b-155">Then check the output to determine the accuracy of the model.</span></span> <span data-ttu-id="ea61b-156">Ihr Ergebnis kann sich geringfügig vom folgenden unterscheiden, da zum Trainingsprozesses ein gewisses Maß an zufälligen Schätzungen gehört.</span><span class="sxs-lookup"><span data-stu-id="ea61b-156">Your result may vary slightly from the one below because the training process involves a small amount of random estimation.</span></span>

      ![Beurteilen der Modellgenauigkeit](../images/running-transfer-learning.png)

      <span data-ttu-id="ea61b-158">_Beurteilen der Modellgenauigkeit_</span><span class="sxs-lookup"><span data-stu-id="ea61b-158">_Gauging the model's accuracy_</span></span>

1. <span data-ttu-id="ea61b-159">Klicken Sie auf das Browsersymbol am unteren Bildschirmrand, um den in Data Science Virtual Machine installierten Browser zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="ea61b-159">Click the browser icon at the bottom of the desktop to open the browser installed in the Data Science VM.</span></span> <span data-ttu-id="ea61b-160">Navigieren Sie zu <http://0.0.0.0:6006>, um eine Verbindung mit TensorBoard herzustellen.</span><span class="sxs-lookup"><span data-stu-id="ea61b-160">Then navigate to <http://0.0.0.0:6006> to connect to Tensorboard.</span></span>

    ![Aufrufen von Firefox](../images/launch-firefox.png)

    <span data-ttu-id="ea61b-162">_Aufrufen von Firefox_</span><span class="sxs-lookup"><span data-stu-id="ea61b-162">_Launching Firefox_</span></span>

1. <span data-ttu-id="ea61b-163">Überprüfen Sie das Diagramm mit der Bezeichnung „accuracy_1“.</span><span class="sxs-lookup"><span data-stu-id="ea61b-163">Inspect the graph labeled "accuracy_1."</span></span> <span data-ttu-id="ea61b-164">Die blaue Linie zeigt die Genauigkeit an, die im Laufe der Ausführung der mit dem Schalter ```how_many_training_steps``` angegebenen 500 Trainingsschritte erzielt wurde.</span><span class="sxs-lookup"><span data-stu-id="ea61b-164">The blue line depicts the accuracy achieved over time as the 500 training steps specified with the ```how_many_training_steps``` switch are executed.</span></span> <span data-ttu-id="ea61b-165">Diese Metrik ist wichtig, weil sie zeigt, wie sich die Genauigkeit des Modells im Verlauf des Trainings entwickelt.</span><span class="sxs-lookup"><span data-stu-id="ea61b-165">This metric is important, because it shows how the accuracy of the model evolves as training progresses.</span></span> <span data-ttu-id="ea61b-166">Gleichermaßen wichtig ist der Abstand zwischen der blauen und der orangefarbenen Linie, der das Maß der aufgetretenen Überanpassung beziffert, die immer möglichst gering gehalten werden sollte.</span><span class="sxs-lookup"><span data-stu-id="ea61b-166">Equally important is the distance between the blue and orange lines, which quantifies the amount of overfitting that occurred and should always be minimized.</span></span> <span data-ttu-id="ea61b-167">[Überanpassung](https://en.wikipedia.org/wiki/Overfitting) bedeutet, dass das Modell zwar die Bilder, mit denen es trainiert wurde, gut klassifizieren kann, bei der Klassifizierung von anderen Bildern jedoch Schwächen zeigt.</span><span class="sxs-lookup"><span data-stu-id="ea61b-167">[Overfitting](https://en.wikipedia.org/wiki/Overfitting) means the model is adept at classifying the images it was trained with, but not as adept at classifying other images presented to it.</span></span> <span data-ttu-id="ea61b-168">Die Ergebnisse hier sind akzeptabel, da der Abstand zwischen der orangefarbenen Linie (für die mit den Trainingsbildern erzielte „Trainingsgenauigkeit“) und der blauen Linie (für die beim Testen mit anderen als den Trainingsbildern erzielte „Validierungsgenauigkeit“) weniger als 10 % beträgt.</span><span class="sxs-lookup"><span data-stu-id="ea61b-168">The results here are acceptable, because there is a difference of less than 10% between the orange line (the "training" accuracy achieved with the training images) and the blue line (the "validation" accuracy achieved when tested with images outside the training set).</span></span>

    ![Anzeige der TensorBoard-Skalare](../images/tensorboard-scalars.png)

    <span data-ttu-id="ea61b-170">_Anzeige der TensorBoard-Skalare_</span><span class="sxs-lookup"><span data-stu-id="ea61b-170">_The TensorBoard Scalars display_</span></span>

1. <span data-ttu-id="ea61b-171">Klicken Sie im TensorBoard-Menü auf **GRAPHS**, und überprüfen Sie die dort angezeigten Diagramme.</span><span class="sxs-lookup"><span data-stu-id="ea61b-171">Click **GRAPHS** in the TensorBoard menu and inspect the graph shown there.</span></span> <span data-ttu-id="ea61b-172">Dieses Diagramms hat in erster Linie die Aufgabe, das neuronale Netzwerk und die Ebenen darzustellen, aus denen das Netzwerk besteht.</span><span class="sxs-lookup"><span data-stu-id="ea61b-172">The primary purpose of this graph is to depict the neural network and the layers that comprise it.</span></span> <span data-ttu-id="ea61b-173">In diesem Beispiel ist „input_1“ die Ebene, die mit Bildern von Lebensmitteln trainiert und dem Netzwerk hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="ea61b-173">In this example, "input_1" is the layer that was trained with food images and added to the network.</span></span> <span data-ttu-id="ea61b-174">„MobilenetV1“ ist das neuronale Basisnetzwerk, mit dem Sie begonnen haben.</span><span class="sxs-lookup"><span data-stu-id="ea61b-174">"MobilenetV1" is the base neural network that you started with.</span></span> <span data-ttu-id="ea61b-175">Es enthält zahlreiche Ebenen, die nicht angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="ea61b-175">It contains many layers which aren't shown.</span></span> <span data-ttu-id="ea61b-176">Wenn Sie ein neuronales Deep-Netzwerk von Grund auf neu erstellt hätten, würden hier alle Ebenen angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="ea61b-176">Had you built a deep neural network from scratch, all of the layers would have been diagrammed here.</span></span> <span data-ttu-id="ea61b-177">(Wenn Sie die Ebenen anzeigen möchten, aus denen das Netzwerk „MobileNet“ besteht, doppelklicken Sie im Diagramm auf den Block „MobilenetV1“.) Weitere Informationen zur Anzeige von Diagrammen sowie zu den dort angezeigten Informationen finden Sie unter [TensorBoard: Graph Visualization](https://www.tensorflow.org/programmers_guide/graph_viz).</span><span class="sxs-lookup"><span data-stu-id="ea61b-177">(If you would like to see the layers that comprise the MobileNet, double-click the "MobilenetV1" block in the diagram.) For more information on the Graphs display and the information surfaced there, refer to [TensorBoard: Graph Visualization](https://www.tensorflow.org/programmers_guide/graph_viz).</span></span>

    ![Anzeige der TensorBoard-Diagramme](../images/tensorboard-graphs.png)

    <span data-ttu-id="ea61b-179">_Anzeige der TensorBoard-Diagramme_</span><span class="sxs-lookup"><span data-stu-id="ea61b-179">_The TensorBoard Graphs display_</span></span>

1. <span data-ttu-id="ea61b-180">Wechseln Sie zurück zum Datei-Manager, und navigieren Sie zum Ordner „notebooks/tensorflow-for-poets-2/tf_files“.</span><span class="sxs-lookup"><span data-stu-id="ea61b-180">Switch back to File Manager and navigate to the "notebooks/tensorflow-for-poets-2/tf_files" folder.</span></span> <span data-ttu-id="ea61b-181">Überprüfen Sie, ob er eine Datei mit dem Namen **retrained_graph_hotdog.pb** enthält.</span><span class="sxs-lookup"><span data-stu-id="ea61b-181">Confirm that it contains a file named **retrained_graph_hotdog.pb**.</span></span> <span data-ttu-id="ea61b-182">*Diese Datei wurde während des Trainingsprozesses erstellt und enthält das trainierte TensorFlow-Modell*.</span><span class="sxs-lookup"><span data-stu-id="ea61b-182">*This file was created during the training process and contains the trained TensorFlow model*.</span></span> <span data-ttu-id="ea61b-183">Sie verwenden es in der nächsten Übung, um das Modell aus der NotHotDog-App aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="ea61b-183">You will use it in the next exercise to invoke the model from the NotHotDog app.</span></span>

<span data-ttu-id="ea61b-184">Das Skript, das Sie in Schritt 10 ausgeführt haben, gibt 500 Trainingsschritte an, wodurch ein vernünftiges Verhältnis zwischen Genauigkeit und Trainingszeit gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="ea61b-184">The script that you executed in Step 10 specified 500 training steps, which strikes a balance between accuracy and the time required for training.</span></span> <span data-ttu-id="ea61b-185">Wenn Sie möchten, trainieren Sie das Modell erneut mit einem höheren ```how_many_training_steps```-Wert wie etwa 1000 oder 2000.</span><span class="sxs-lookup"><span data-stu-id="ea61b-185">If you would like, try training the model again with a higher ```how_many_training_steps``` value such as 1000 or 2000.</span></span> <span data-ttu-id="ea61b-186">Eine höhere Schrittzahl führt in der Regel zu einer höheren Genauigkeit, jedoch auf Kosten einer längeren Trainingszeit.</span><span class="sxs-lookup"><span data-stu-id="ea61b-186">A higher step count generally results in higher accuracy, but at the expense of increased training time.</span></span> <span data-ttu-id="ea61b-187">Achten Sie auf eine Überanpassung. Diese wird, wie Sie sich erinnern, durch den Abstand zwischen der orangefarbenen und der blauen Linie in der Anzeige der TensorBoards-Skalare dargestellt.</span><span class="sxs-lookup"><span data-stu-id="ea61b-187">Watch out for overfitting, which, as a reminder, is represented by the difference between the orange and blue lines in TensorBoard's Scalars display.</span></span>