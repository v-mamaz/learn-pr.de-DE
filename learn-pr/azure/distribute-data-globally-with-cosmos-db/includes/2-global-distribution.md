<span data-ttu-id="00e89-101">Ihren Kunden den schnellsten Zugang zu den Produkten auf Ihrer Bekleidungswebsite zu bieten, ist für Ihre Kunden und den Erfolg Ihres Unternehmens ausschlaggebend.</span><span class="sxs-lookup"><span data-stu-id="00e89-101">Providing your customers the fastest access to the products on your online clothing site is paramount to your customers, and your businesses success.</span></span> <span data-ttu-id="00e89-102">Verkürzen Sie die Wege, die Daten zu den Benutzern zurücklegen müssen, um mehr Inhalte schneller bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="00e89-102">By decreasing the distance data has to travel to your users, you can deliver more content faster.</span></span> <span data-ttu-id="00e89-103">Wenn Ihre Daten in Azure Cosmos DB gespeichert sind, ist die Replikation der Websitedaten in mehrere Regionen auf der ganzen Welt ein Kinderspiel.</span><span class="sxs-lookup"><span data-stu-id="00e89-103">If your data is stored in Azure Cosmos DB, replicating your site's data to multiple regions around the world is a point and click operation.</span></span>

<!-- Activate the sandbox -->
[!include[](../../../includes/azure-sandbox-activate.md)]

<span data-ttu-id="00e89-104">In dieser Einheit lernen Sie die Vorteile der globalen Verteilung und eines nativen Multimaster-Datenbankdiensts kennen und replizieren Ihr Konto anschließend in drei weitere Regionen.</span><span class="sxs-lookup"><span data-stu-id="00e89-104">In this unit you'll learn the benefits of global distribution and a natively multi-mastered database service, and then replicate your account into three additional regions.</span></span>

## <a name="global-distribution-basics"></a><span data-ttu-id="00e89-105">Grundlagen der globalen Verteilung</span><span class="sxs-lookup"><span data-stu-id="00e89-105">Global distribution basics</span></span>

<span data-ttu-id="00e89-106">Die globale Verteilung ermöglicht es Ihnen, Daten aus einer Region in mehrere Azure-Regionen zu replizieren.</span><span class="sxs-lookup"><span data-stu-id="00e89-106">Global distribution enables you to replicate data from one region into multiple Azure regions.</span></span> <span data-ttu-id="00e89-107">Sie können jederzeit Regionen hinzufügen oder entfernen, in denen Ihre Datenbank repliziert ist. Dabei stellt Azure Cosmos DB sicher, dass Ihre Daten, wenn Sie eine zusätzliche Region hinzufügen, innerhalb von 30 Minuten für Vorgänge verfügbar sind, vorausgesetzt, Ihre Daten sind nicht größer als 100 TB.</span><span class="sxs-lookup"><span data-stu-id="00e89-107">You can add or remove regions in which your database is replicated at any time, and Azure Cosmos DB ensures that when you add an additional region, your data is available for operations within 30 minutes, assuming your data is 100 TBs or less.</span></span>

<span data-ttu-id="00e89-108">Es gibt zwei gängige Szenarios für die Replikation von Daten in zwei oder mehr Regionen:</span><span class="sxs-lookup"><span data-stu-id="00e89-108">There are two common scenarios for replicating data in two or more regions:</span></span>

1. <span data-ttu-id="00e89-109">Bereitstellen von Datenzugriff mit geringer Latenz für Endbenutzer, unabhängig davon, wo sie sich befinden</span><span class="sxs-lookup"><span data-stu-id="00e89-109">Delivering low-latency data access to end users no matter where they are located around the globe</span></span>
2. <span data-ttu-id="00e89-110">Hinzufügen von regionaler Resilienz für Geschäftskontinuität und Notfallwiederherstellung (Business Continuity & Disaster Recovery, BCDR)</span><span class="sxs-lookup"><span data-stu-id="00e89-110">Adding regional resiliency for business continuity and disaster recovery (BCDR)</span></span>

<span data-ttu-id="00e89-111">Um Kunden den Zugriff mit geringer Latenz zu ermöglichen, wird empfohlen, die Daten in Regionen zu replizieren, die dem Standort Ihrer Benutzer am nächsten liegen.</span><span class="sxs-lookup"><span data-stu-id="00e89-111">To deliver low-latency access to customers, it is recommended that you replicate the data to regions closest to where your users are.</span></span> <span data-ttu-id="00e89-112">Der Onlineshop Ihres Bekleidungsunternehmen hat Kunden in Los Angeles, New York und Tokio.</span><span class="sxs-lookup"><span data-stu-id="00e89-112">For your online clothing company, you have customers in Los Angeles, New York, and Tokyo.</span></span> <span data-ttu-id="00e89-113">Sehen Sie sich die Seite mit den [Azure-Regionen](https://azure.microsoft.com/global-infrastructure/regions/) an, und legen Sie die Regionen fest, die diesen Kundengruppen am nächsten liegen, da Sie Benutzer an diese Orte replizieren werden.</span><span class="sxs-lookup"><span data-stu-id="00e89-113">Take a look at the [Azure regions](https://azure.microsoft.com/global-infrastructure/regions/) page, and determine the closest regions to those sets of customers, as those are the locations you'll replicate users to.</span></span>

<span data-ttu-id="00e89-114">Als BCDR-Lösung empfiehlt es sich, die Regionen basierend auf den Regionspaaren hinzuzufügen, die im Artikel [Geschäftskontinuität und Notfallwiederherstellung: Azure-Regionspaare](https://azure.microsoft.com/documentation/articles/best-practices-availability-paired-regions/) beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="00e89-114">To provide a BCDR solution, it is recommended to add regions based on the region pairs described in the [Business continuity and disaster recovery (BCDR): Azure Paired Regions](https://azure.microsoft.com/documentation/articles/best-practices-availability-paired-regions/) article.</span></span>

<span data-ttu-id="00e89-115">Wenn eine Datenbank repliziert wird, werden auch der Durchsatz und der Speicher gleichermaßen repliziert.</span><span class="sxs-lookup"><span data-stu-id="00e89-115">When a database is replicated, the throughput and storage are replicated equally as well.</span></span> <span data-ttu-id="00e89-116">Wenn also Ihre ursprüngliche Datenbank einen Speicherplatz von 10 GB und einen Durchsatz von 1.000 RU/s hätte und Sie diese in drei weitere Regionen repliziert hätten, würde jede Region über 10 GB an Daten und einen Durchsatz von 1.000 RU/s verfügen.</span><span class="sxs-lookup"><span data-stu-id="00e89-116">So if your original database had 10GB of storage, and throughput of 1,000 RU/s, and if you replicated that to three additional regions, each region would have 10GB of data and 1,000 RU/s of throughput.</span></span> <span data-ttu-id="00e89-117">Da der Speicher und der Durchsatz in jede Region repliziert werden, sind die Kosten für die Replikation in eine andere Region die gleichen wie für die ursprüngliche Region. Folglich fallen bei der Replikation in drei zusätzliche Regionen insgesamt etwa die vierfachen Kosten der ursprünglichen, nicht replizierten Datenbank an.</span><span class="sxs-lookup"><span data-stu-id="00e89-117">Because the storage and throughput is replicated in each region, the cost of replicating to a region is the same as the original region, so replicating to 3 additional regions, would cost approximately four times the original non-replicated database.</span></span>

## <a name="creating-an-azure-cosmos-db-account-in-the-portal"></a><span data-ttu-id="00e89-118">Erstellen eines Azure Cosmos DB-Kontos im Portal</span><span class="sxs-lookup"><span data-stu-id="00e89-118">Creating an Azure Cosmos DB account in the portal</span></span>

1. <span data-ttu-id="00e89-119">Melden Sie sich beim [Azure-Portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) mit demselben Konto an, das Sie zum Aktivieren der Sandbox verwendet haben.</span><span class="sxs-lookup"><span data-stu-id="00e89-119">Sign in to the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) using the same account you used to activate the sandbox.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="00e89-120">Melden Sie sich beim Azure-Portal und der Sandbox mit demselben Konto an.</span><span class="sxs-lookup"><span data-stu-id="00e89-120">Login to the Azure portal and the sandbox with the same account.</span></span>
    >
    > <span data-ttu-id="00e89-121">Melden Sie sich beim Azure-Portal über den obigen Link an, um sicherzustellen, dass Sie mit der Sandbox verbunden sind, die Zugriff auf ein Concierge-Abonnement ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="00e89-121">Login to the Azure portal using the link above to ensure you are connected to the sandbox, which provides access to a Concierge Subscription.</span></span>

1. <span data-ttu-id="00e89-122">Klicken Sie auf **Ressource erstellen** > **Datenbanken** > **Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="00e89-122">Click **Create a resource** > **Databases** > **Azure Cosmos DB**.</span></span>

   ![Der Bereich „Datenbanken“ im Azure-Portal](../media/2-global-distribution/2-create-nosql-db-databases-json-tutorial.png)

1. <span data-ttu-id="00e89-124">Geben Sie auf der Seite **Azure Cosmos DB-Konto erstellen** die Einstellungen für das neue Azure Cosmos DB-Konto einschließlich des Standorts ein.</span><span class="sxs-lookup"><span data-stu-id="00e89-124">On the **Create Azure Cosmos DB Account** page, enter the settings for the new Azure Cosmos DB account, including the location.</span></span>

    <span data-ttu-id="00e89-125"><!-- Resource selection --> [!include[](../../../includes/azure-sandbox-regions-first-mention-note-friendly.md)]</span><span class="sxs-lookup"><span data-stu-id="00e89-125"><!-- Resource selection --> [!include[](../../../includes/azure-sandbox-regions-first-mention-note-friendly.md)]</span></span>

    <span data-ttu-id="00e89-126">Einstellung</span><span class="sxs-lookup"><span data-stu-id="00e89-126">Setting</span></span>|<span data-ttu-id="00e89-127">Wert</span><span class="sxs-lookup"><span data-stu-id="00e89-127">Value</span></span>|<span data-ttu-id="00e89-128">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="00e89-128">Description</span></span>
    ---|---|---
    <span data-ttu-id="00e89-129">ID</span><span class="sxs-lookup"><span data-stu-id="00e89-129">ID</span></span>|<span data-ttu-id="00e89-130">*Ein eindeutiger Name*</span><span class="sxs-lookup"><span data-stu-id="00e89-130">*Enter a unique name*</span></span>|<span data-ttu-id="00e89-131">Geben Sie einen eindeutigen Namen ein, der das Azure Cosmos DB-Konto identifiziert.</span><span class="sxs-lookup"><span data-stu-id="00e89-131">Enter a unique name to identify this Azure Cosmos DB account.</span></span> <span data-ttu-id="00e89-132">Da *documents.azure.com* an die ID angefügt wird, die Sie bereitstellen, um Ihren URI zu erstellen, sollten Sie eine eindeutige, aber identifizierbare ID verwenden.</span><span class="sxs-lookup"><span data-stu-id="00e89-132">Because *documents.azure.com* is appended to the ID that you provide to create your URI, use a unique but identifiable ID.</span></span><br><br><span data-ttu-id="00e89-133">Die ID darf nur Kleinbuchstaben, Zahlen und einen Bindestrich (-) enthalten, und sie muss zwischen 3 und 50 Zeichen lang sein.</span><span class="sxs-lookup"><span data-stu-id="00e89-133">The ID can contain only lowercase letters, numbers, and the hyphen (-) character, and it must contain 3 to 50 characters.</span></span>
    <span data-ttu-id="00e89-134">API</span><span class="sxs-lookup"><span data-stu-id="00e89-134">API</span></span>|<span data-ttu-id="00e89-135">SQL</span><span class="sxs-lookup"><span data-stu-id="00e89-135">SQL</span></span>|<span data-ttu-id="00e89-136">Die API bestimmt den Typ des zu erstellenden Kontos.</span><span class="sxs-lookup"><span data-stu-id="00e89-136">The API determines the type of account to create.</span></span> <span data-ttu-id="00e89-137">Azure Cosmos DB stellt fünf APIs bereit, die Sie für Ihre Anwendung auswählen können: SQL (Dokumentdatenbank), Gremlin (Diagrammdatenbank), MongoDB (Dokumentdatenbank), Azure Table und Cassandra. Für jede ist derzeit ein separates Konto erforderlich.</span><span class="sxs-lookup"><span data-stu-id="00e89-137">Azure Cosmos DB provides five APIs to suit the needs of your application: SQL (document database), Gremlin (graph database), MongoDB (document database), Azure Table, and Cassandra, each of which currently requires a separate account.</span></span> <br><br><span data-ttu-id="00e89-138">Wählen Sie **SQL** aus, da Sie in diesem Modul eine Dokumentdatenbank erstellen, die mit SQL-Syntax abgefragt werden kann und für die SQL-API zugänglich ist.</span><span class="sxs-lookup"><span data-stu-id="00e89-138">Select **SQL** because in this module you are creating a document database that is queryable using SQL syntax and accessible with the SQL API.</span></span>|
    <span data-ttu-id="00e89-139">Abonnement</span><span class="sxs-lookup"><span data-stu-id="00e89-139">Subscription</span></span>|<span data-ttu-id="00e89-140">*Concierge-Abonnement*</span><span class="sxs-lookup"><span data-stu-id="00e89-140">*Concierge Subscription*</span></span>|<span data-ttu-id="00e89-141">Wählen Sie Ihr Concierge-Abonnement aus.</span><span class="sxs-lookup"><span data-stu-id="00e89-141">Select your Concierge Subscription.</span></span> <span data-ttu-id="00e89-142">Wenn das Concierge-Abonnement nicht aufgelistet wird, haben Sie mehrere Mandanten in Ihrem Abonnement aktiviert und müssen die Mandanten wechseln.</span><span class="sxs-lookup"><span data-stu-id="00e89-142">If you do not see the Concierge Subscription listed, you have multiple tenants enabled on your subscription, and you need to change tenants.</span></span> <span data-ttu-id="00e89-143">Hierzu melden Sie sich erneut über den folgenden Link beim Portal an: [Azure-Portal für die Sandbox](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true).</span><span class="sxs-lookup"><span data-stu-id="00e89-143">To do so, login again using the following portal link: [Azure portal for sandbox](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true).</span></span>
    <span data-ttu-id="00e89-144">Ressourcengruppe</span><span class="sxs-lookup"><span data-stu-id="00e89-144">Resource Group</span></span>|<span data-ttu-id="00e89-145">Vorhandene verwenden</span><span class="sxs-lookup"><span data-stu-id="00e89-145">Use existing</span></span><br><br><span data-ttu-id="00e89-146"><rgn>[Name der Sandboxressourcengruppe]</rgn></span><span class="sxs-lookup"><span data-stu-id="00e89-146"><rgn>[sandbox resource group name]</rgn></span></span>|<span data-ttu-id="00e89-147">Klicken Sie auf **Vorhandene verwenden**, und geben Sie dann <rgn>[Name der Sandboxressourcengruppe]</rgn> ein.</span><span class="sxs-lookup"><span data-stu-id="00e89-147">Select **Use existing**, and then enter <rgn>[sandbox resource group name]</rgn>.</span></span>
    <span data-ttu-id="00e89-148">Standort</span><span class="sxs-lookup"><span data-stu-id="00e89-148">Location</span></span>|<span data-ttu-id="00e89-149">*Auswählen der am nächsten gelegenen Region*</span><span class="sxs-lookup"><span data-stu-id="00e89-149">*Select the region closest to you*</span></span>|<span data-ttu-id="00e89-150">Wählen Sie aus der obigen Liste der Regionen die Region aus, die Ihnen am nächsten liegt.</span><span class="sxs-lookup"><span data-stu-id="00e89-150">Select the region closest to you from the list of regions above.</span></span>
    <span data-ttu-id="00e89-151">Georedundanz</span><span class="sxs-lookup"><span data-stu-id="00e89-151">Geo-Redundancy</span></span>| <span data-ttu-id="00e89-152">Deaktivieren</span><span class="sxs-lookup"><span data-stu-id="00e89-152">Disable</span></span> | <span data-ttu-id="00e89-153">Durch diese Einstellung wird eine replizierte Version Ihrer Datenbank in einer zweiten (zugeordneten) Region erstellt.</span><span class="sxs-lookup"><span data-stu-id="00e89-153">This setting creates a replicated version of your database in a second (paired) region.</span></span> <span data-ttu-id="00e89-154">Lassen Sie diese Einstellung vorerst deaktiviert, da Sie die Datenbank später replizieren werden.</span><span class="sxs-lookup"><span data-stu-id="00e89-154">Leave this set to disabled for now, as you will replicate the database later.</span></span>
    <span data-ttu-id="00e89-155">Multimaster</span><span class="sxs-lookup"><span data-stu-id="00e89-155">Multi Master</span></span> | <span data-ttu-id="00e89-156">Aktivieren</span><span class="sxs-lookup"><span data-stu-id="00e89-156">Enable</span></span> | <span data-ttu-id="00e89-157">Durch diese Einstellung können Sie in mehreren Regionen gleichzeitig schreiben.</span><span class="sxs-lookup"><span data-stu-id="00e89-157">This setting enables you to write to multiple regions at the same time.</span></span> <span data-ttu-id="00e89-158">Diese Einstellung kann nur bei der Kontoerstellung konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="00e89-158">This setting can only be configured during account creation.</span></span>
    <span data-ttu-id="00e89-159">Virtuelles Netzwerk</span><span class="sxs-lookup"><span data-stu-id="00e89-159">Virtual Network</span></span>|<span data-ttu-id="00e89-160">Nicht ausfüllen</span><span class="sxs-lookup"><span data-stu-id="00e89-160">Leave blank</span></span>|<span data-ttu-id="00e89-161">Lassen Sie das Feld für virtuelle Netzwerke vorerst leer.</span><span class="sxs-lookup"><span data-stu-id="00e89-161">Leave virtual networks blank for now.</span></span> <span data-ttu-id="00e89-162">Dies kann später konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="00e89-162">This can be configured later.</span></span>

1. <span data-ttu-id="00e89-163">Klicken Sie auf **Überprüfen + erstellen**.</span><span class="sxs-lookup"><span data-stu-id="00e89-163">Click **Review + Create**.</span></span>

    ![Die Seite „Neues Konto“ für Azure Cosmos DB](../media/2-global-distribution/2-azure-cosmos-db-create-new-account.png)

1. <span data-ttu-id="00e89-165">Nach Überprüfung der Einstellungen klicken Sie auf **Erstellen**, um das Konto zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="00e89-165">After the settings are validated, click **Create** to create the account.</span></span>

1. <span data-ttu-id="00e89-166">Die Kontoerstellung dauert einige Minuten.</span><span class="sxs-lookup"><span data-stu-id="00e89-166">The account creation takes a few minutes.</span></span> <span data-ttu-id="00e89-167">Warten Sie, bis das Portal die Benachrichtigung anzeigt, dass die Bereitstellung erfolgreich war, und klicken Sie auf die Benachrichtigung.</span><span class="sxs-lookup"><span data-stu-id="00e89-167">Wait for the portal to display the notification that the deployment succeeded and click the notification.</span></span>

    ![Benachrichtigung](../media/2-global-distribution/2-azure-cosmos-db-notification.png)

1. <span data-ttu-id="00e89-169">Klicken Sie im Benachrichtigungsfenster auf **Zu Ressource wechseln**.</span><span class="sxs-lookup"><span data-stu-id="00e89-169">In the notification window, click **Go to resource**.</span></span>

    ![Zu Ressource wechseln](../media/2-global-distribution/2-azure-cosmos-db-go-to-resource.png)

    <span data-ttu-id="00e89-171">Im Portal wird **Glückwunsch! Ihr Azure Cosmos DB-Konto wurde erstellt** angezeigt.</span><span class="sxs-lookup"><span data-stu-id="00e89-171">The portal displays the **Congratulations! Your Azure Cosmos DB account was created** page.</span></span>

    ![Der Bereich „Benachrichtigungen“ im Azure-Portal](../media/2-global-distribution/2-azure-cosmos-db-account-created.png)

## <a name="replicate-data-in-multiple-regions"></a><span data-ttu-id="00e89-173">Replizieren von Daten in mehrere Regionen</span><span class="sxs-lookup"><span data-stu-id="00e89-173">Replicate data in multiple regions</span></span>

<span data-ttu-id="00e89-174">Als Nächstes replizieren Sie Ihre Datenbank in Regionen, die Ihren Benutzern in Los Angeles, New York und Tokio am nächsten sind.</span><span class="sxs-lookup"><span data-stu-id="00e89-174">Let's now replicate your database closest to your global users in Los Angeles, New York, and Tokyo.</span></span>

1. <span data-ttu-id="00e89-175">Klicken Sie auf der Kontoseite im Menü auf **Daten global replizieren**.</span><span class="sxs-lookup"><span data-stu-id="00e89-175">In the account page, click **Replicate data globally** from the menu.</span></span>
1. <span data-ttu-id="00e89-176">Wählen Sie auf der Seite **Daten global replizieren** die Regionen „USA, Westen 2“, „USA, Osten“ und „Japan, Osten“ aus, und klicken Sie dann auf **Speichern**.</span><span class="sxs-lookup"><span data-stu-id="00e89-176">In the **Replicate data globally** page, select the West US 2, East US, and Japan East regions, and then click **Save**.</span></span>

    <span data-ttu-id="00e89-177">Wenn Sie die Karte im Azure-Portal nicht sehen, minimieren Sie die Menüs auf der linken Seite der Anzeige, um sie anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="00e89-177">If you don't see the map in the Azure portal, minimize the menus of the left side of the screen to display it.</span></span>

    <span data-ttu-id="00e89-178">Auf der Seite wird die Meldung **Wird aktualisiert** angezeigt, während die Daten in die neuen Regionen geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="00e89-178">The page will display an **Updating** message while the data is written to the new regions.</span></span> <span data-ttu-id="00e89-179">Die Daten werden innerhalb von 30 Minuten in den neuen Regionen verfügbar sein.</span><span class="sxs-lookup"><span data-stu-id="00e89-179">Data in the new regions will be available within 30 minutes.</span></span>

    ![Hinzufügen von Regionen per Klick auf die Regionen auf der Karte](../media/2-global-distribution/2-global-replication.gif)

## <a name="summary"></a><span data-ttu-id="00e89-181">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="00e89-181">Summary</span></span>

<span data-ttu-id="00e89-182">In dieser Einheit haben Sie Ihre Datenbank in die Regionen der Welt repliziert, in denen sich die meisten Ihrer Benutzer befinden, um ihnen einen Zugriff mit geringer Latenz auf die Daten Ihrer Website zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="00e89-182">In this unit, you replicated your database to the regions of the world in which your users are most concentrated, providing them lower-latency access to the data on your site.</span></span>
