<span data-ttu-id="4a235-101">Wir haben Einstellungen und Eigenschaften kennengelernt, die Sie auswählen können, um die Leistung des Datenträgers vorherzusagen. Nun schauen wir uns Möglichkeiten an, diese durch _Zwischenspeichern_ zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="4a235-101">We've seen settings and properties you can select to predict your disk performance, now let's look at ways to improve that through _caching_.</span></span>

## <a name="disk-caching"></a><span data-ttu-id="4a235-102">Datenträgerzwischenspeicherung</span><span class="sxs-lookup"><span data-stu-id="4a235-102">Disk caching</span></span>

<span data-ttu-id="4a235-103">Ein Cache ist eine spezielle Komponente, in der Regel im Arbeitsspeicher, die Daten speichert, damit schneller darauf zugegriffen werden kann.</span><span class="sxs-lookup"><span data-stu-id="4a235-103">A cache is a specialized component that stores data, typically in memory so that it can be accessed more quickly.</span></span> <span data-ttu-id="4a235-104">Die Daten in einem Cache sind oft Daten, die zuvor gelesen wurden oder aus einer früheren Berechnung resultieren.</span><span class="sxs-lookup"><span data-stu-id="4a235-104">The data in a cache is often data that has been read previously or is data that resulted from an earlier calculation.</span></span> <span data-ttu-id="4a235-105">Ziel ist, schneller auf Daten zuzugreifen, als wenn sie vom Datenträger abgerufen würden.</span><span class="sxs-lookup"><span data-stu-id="4a235-105">The goal is to access data faster than getting it from disk.</span></span>

<span data-ttu-id="4a235-106">Zum Zwischenspeichern wird spezialisierter und manchmal teurer, temporärer Speicher verwendet, der eine höhere Lese- und Schreibleistung als dauerhafter Speicher aufweist.</span><span class="sxs-lookup"><span data-stu-id="4a235-106">Caching uses specialized, and sometimes expensive, temporary storage that has faster read and write performance than permanent storage.</span></span> <span data-ttu-id="4a235-107">Da dieser Cachespeicher häufig begrenzt ist, muss entschieden werden, welchen Datenvorgängen das Zwischenspeichern am meisten nutzt.</span><span class="sxs-lookup"><span data-stu-id="4a235-107">Because this cache storage is often limited, decisions need to be made as to what data operations will benefit most from caching.</span></span> <span data-ttu-id="4a235-108">Aber auch wenn der Cache in hohem Maße verfügbar gemacht werden kann wie in Azure, ist es dennoch wichtig, die Workloadmuster der einzelnen Datenträger zu kennen, bevor Sie entscheiden, welcher Cachetyp verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="4a235-108">But even where the cache can be made widely available, such as in Azure, it's still important to know the workload patterns of each disk before deciding on what caching type to use.</span></span>

<span data-ttu-id="4a235-109">Das **Zwischenspeichern von Lesevorgängen** soll den _Abruf_ von Daten beschleunigen.</span><span class="sxs-lookup"><span data-stu-id="4a235-109">**Read caching** tries to speed up data _retrieval_.</span></span> <span data-ttu-id="4a235-110">Anstatt aus dem dauerhaften Speicher werden die Daten aus dem schnelleren Cache gelesen.</span><span class="sxs-lookup"><span data-stu-id="4a235-110">Instead of reading from permanent storage, the data is read from the faster cache.</span></span> <span data-ttu-id="4a235-111">Beim Lesen von Daten wird der Cache unter den folgenden Bedingungen genutzt:</span><span class="sxs-lookup"><span data-stu-id="4a235-111">Data reads hit the cache under the following conditions:</span></span>

- <span data-ttu-id="4a235-112">Die Daten wurden zuvor gelesen und sind im Cache vorhanden.</span><span class="sxs-lookup"><span data-stu-id="4a235-112">The data has been read before and exists in the cache.</span></span>
- <span data-ttu-id="4a235-113">Außerdem ist der Cache groß genug, um alle diese Daten aufzunehmen.</span><span class="sxs-lookup"><span data-stu-id="4a235-113">And the cache is large enough to hold all of this data.</span></span>

<span data-ttu-id="4a235-114">Beachten Sie unbedingt, dass das Zwischenspeichern von Lesevorgängen hilfreich ist, wenn eine gewisse _Vorhersagbarkeit_ der Lesewarteschlange gegeben ist, wie z.B. bei einem Satz sequenzieller Lesevorgänge.</span><span class="sxs-lookup"><span data-stu-id="4a235-114">It's important to note that read caching helps when there is some _predictability_ to the read queue, such as a set of sequential reads.</span></span> <span data-ttu-id="4a235-115">Bei zufälligen E/A-Vorgängen, bei denen die Daten, auf die Sie zugreifen, über den ganzen Speicher verteilt sind, bietet das Zwischenspeichern wenige oder gar keine Vorteile und kann sogar die Datenträgerleistung reduzieren.</span><span class="sxs-lookup"><span data-stu-id="4a235-115">For random I/O, where the data you're accessing is scattered across storage, caching will be of little or no benefit, and can even reduce disk performance.</span></span>

<span data-ttu-id="4a235-116">Durch **Zwischenspeichern von Schreibvorgängen** wird versucht, das _Schreiben von Daten_ in den dauerhaften Speicher zu beschleunigen.</span><span class="sxs-lookup"><span data-stu-id="4a235-116">**Write caching** tries to speed up _writing data_ to persistent storage.</span></span> <span data-ttu-id="4a235-117">Bei Verwendung eines Schreibcaches kann die App die zu speichernden Daten in Betracht ziehen.</span><span class="sxs-lookup"><span data-stu-id="4a235-117">By using a write cache, the app can consider the data to be saved.</span></span> <span data-ttu-id="4a235-118">In der Praxis werden die Daten im Cache in eine Warteschlange eingereiht, um auf Datenträger geschrieben zu werden.</span><span class="sxs-lookup"><span data-stu-id="4a235-118">In reality, the data is queued up in a cache, waiting to be written to disk.</span></span> <span data-ttu-id="4a235-119">Wie Sie sich vorstellen können, kann dieser Mechanismus eine potenzielle Fehlerquelle sein, wenn das System heruntergefahren wird, bevor diese zwischengespeicherten Daten geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="4a235-119">As you can imagine, this mechanism can be a potential point of failure, for example, if the system shuts down before the cached data is written.</span></span> <span data-ttu-id="4a235-120">Einige Systeme, z.B. SQL Server, regeln das Schreiben zwischengespeicherter Daten in den permanenten Datenträgerspeicher selbst.</span><span class="sxs-lookup"><span data-stu-id="4a235-120">Some systems, such as SQL Server, handle writing cached data to persistent disk storage themselves.</span></span>

### <a name="azure-disk-caching"></a><span data-ttu-id="4a235-121">Azure-Datenträgerzwischenspeichern</span><span class="sxs-lookup"><span data-stu-id="4a235-121">Azure disk caching</span></span>

<span data-ttu-id="4a235-122">Es gibt zwei Arten des Datenträgerzwischenspeicherns, die Datenträgerspeicher betreffen:</span><span class="sxs-lookup"><span data-stu-id="4a235-122">There are two types of disk caching that concern disk storage:</span></span>

- <span data-ttu-id="4a235-123">Azure-Datenträgerzwischenspeicherung</span><span class="sxs-lookup"><span data-stu-id="4a235-123">Azure storage caching</span></span>
- <span data-ttu-id="4a235-124">Azure-VM-Datenträgerzwischenspeicherung</span><span class="sxs-lookup"><span data-stu-id="4a235-124">Azure virtual machine (VM) disk caching</span></span>

<span data-ttu-id="4a235-125">Die Azure Storage-Zwischenspeicherung stellt Cachedienste für Azure Blob Storage, Azure Files und andere Inhalte in Azure bereit.</span><span class="sxs-lookup"><span data-stu-id="4a235-125">Azure storage caching provides cache services for Azure Blob storage, Azure Files, and other content in Azure.</span></span> <span data-ttu-id="4a235-126">Die Konfiguration dieser Arten von Cache ist nicht Gegenstand dieses Moduls.</span><span class="sxs-lookup"><span data-stu-id="4a235-126">Configuration of these types of cache is beyond the scope of this module.</span></span>

<span data-ttu-id="4a235-127">Azure-VM-Datenträgerzwischenspeichern dient zum Optimieren der Lese- und Schreibzugriffe auf die Dateien der virtuellen Festplatte (Virtual Hard Disk, VHD), die Azure-VMs angefügt sind.</span><span class="sxs-lookup"><span data-stu-id="4a235-127">Azure virtual machine disk caching is about optimizing read and write access to the virtual hard disk (VHD) files attached to Azure VMs.</span></span> <span data-ttu-id="4a235-128">Wir konzentrieren uns in diesem Modul auf das Datenträgerzwischenspeichern.</span><span class="sxs-lookup"><span data-stu-id="4a235-128">We'll focus on disk caching in this module.</span></span>

### <a name="azure-virtual-machine-disk-types"></a><span data-ttu-id="4a235-129">Azure-VM-Datenträgertypen</span><span class="sxs-lookup"><span data-stu-id="4a235-129">Azure virtual machine disk types</span></span>

<span data-ttu-id="4a235-130">Mit Azure-VMs werden drei Typen von Datenträgern verwendet:</span><span class="sxs-lookup"><span data-stu-id="4a235-130">There are three types of disks used with Azure VMs:</span></span>

- <span data-ttu-id="4a235-131">**Betriebssystem-Datenträger**: Wenn Sie eine Azure-VM erstellen, fügt Azure automatisch eine virtuelle Festplatte (VHD) für das Betriebssystem an.</span><span class="sxs-lookup"><span data-stu-id="4a235-131">**OS disk**: When you create an Azure VM, Azure automatically attaches a VHD for the operating system (OS).</span></span>

- <span data-ttu-id="4a235-132">**Temporärer Datenträger**: Wenn Sie eine Azure-VM erstellen, fügt Azure auch automatisch einen temporären Datenträger hinzu.</span><span class="sxs-lookup"><span data-stu-id="4a235-132">**Temporary disk**: When you create an Azure VM, Azure also automatically adds a temporary disk.</span></span> <span data-ttu-id="4a235-133">Dieser Datenträger wird für Daten verwendet, z.B. Auslagerungsdateien.</span><span class="sxs-lookup"><span data-stu-id="4a235-133">This disk is used for data, such as page and swap files.</span></span> <span data-ttu-id="4a235-134">Die Daten auf diesem Datenträger können während der Wartung oder erneuten Bereitstellung eines virtuellen Computers verloren gehen.</span><span class="sxs-lookup"><span data-stu-id="4a235-134">The data on this disk may be lost during maintenance, or a VM redeploy.</span></span> <span data-ttu-id="4a235-135">Verwenden Sie diesen Datenträger nicht zum Speichern dauerhafter Daten, z.B. Datenbankdateien oder Transaktionsprotokolle.</span><span class="sxs-lookup"><span data-stu-id="4a235-135">So, don't use it for storing permanent data, such as database files or transaction logs.</span></span>

- <span data-ttu-id="4a235-136">**Datenträger für Daten**: Ein Datenträger für Daten ist eine VHD, die zum Speichern von Anwendungsdaten oder anderen Daten, die Sie aufbewahren müssen, an einen virtuellen Computer angefügt ist.</span><span class="sxs-lookup"><span data-stu-id="4a235-136">**Data disks**: A data disk is a VHD that's attached to a virtual machine to store application data or other data you need to keep.</span></span>

<span data-ttu-id="4a235-137">Betriebssystem-Datenträger und Datenträger für Daten nutzen die Azure-VM-Datenträgerzwischenspeicherung.</span><span class="sxs-lookup"><span data-stu-id="4a235-137">OS disks and data disks take advantage of Azure VM disk caching.</span></span> <span data-ttu-id="4a235-138">Die Cachegröße für einen VM-Datenträger hängt von der Größe der VM-Instanz und der Anzahl der Datenträger ab, die auf dem virtuellen Computer bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="4a235-138">The cache size for a VM disk depends on the VM instance size and the number of disks mounted on the VM.</span></span> <span data-ttu-id="4a235-139">Das Zwischenspeichern kann nur für bis zu vier Datenträger für Daten aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="4a235-139">Caching can be enabled for only up to four data disks.</span></span>

## <a name="cache-options-for-azure-vms"></a><span data-ttu-id="4a235-140">Cacheoptionen für Azure-VMs</span><span class="sxs-lookup"><span data-stu-id="4a235-140">Cache options for Azure VMs</span></span>

<span data-ttu-id="4a235-141">Es gibt drei allgemeine Optionen für die VM-Datenträgerzwischenspeicherung:</span><span class="sxs-lookup"><span data-stu-id="4a235-141">There are three common options for VM disk caching:</span></span>

- <span data-ttu-id="4a235-142">**Lese-/Schreibzugriff**: Zurückschreibcache.</span><span class="sxs-lookup"><span data-stu-id="4a235-142">**Read/write** – Write-back cache.</span></span> <span data-ttu-id="4a235-143">Verwenden Sie diese Option nur, wenn Ihre Anwendung das Schreiben zwischengespeicherter Daten auf dauerhafte Datenträger bei Bedarf ordnungsgemäß ausführt.</span><span class="sxs-lookup"><span data-stu-id="4a235-143">Use this option only if your application properly handles writing cached data to persistent disks when needed.</span></span>
- <span data-ttu-id="4a235-144">**Schreibgeschützt**: Lesevorgänge werden aus dem Cache ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="4a235-144">**Read-only** - Reads are done from cache.</span></span>
- <span data-ttu-id="4a235-145">**Kein**: Kein Cache.</span><span class="sxs-lookup"><span data-stu-id="4a235-145">**None** - No cache.</span></span> <span data-ttu-id="4a235-146">Wählen Sie diese Option für lesegeschützte und schreibintensive Datenträger.</span><span class="sxs-lookup"><span data-stu-id="4a235-146">Select this option for write-only and write-heavy disks.</span></span> <span data-ttu-id="4a235-147">Protokolldateien sind gut geeignet, da sie mit schreibintensiven Vorgängen verbunden sind.</span><span class="sxs-lookup"><span data-stu-id="4a235-147">Log files are a good candidate because they're write-heavy operations.</span></span>

<span data-ttu-id="4a235-148">Nicht jede Option zum Zwischenspeichern ist für jeden Datenträgertyp verfügbar.</span><span class="sxs-lookup"><span data-stu-id="4a235-148">Not every caching option is available for each type of disk.</span></span> <span data-ttu-id="4a235-149">Die folgende Tabelle zeigt die Optionen zum Zwischenspeichern für die einzelnen Datenträgertypen:</span><span class="sxs-lookup"><span data-stu-id="4a235-149">The following table shows you the caching options for each disk type:</span></span>

|               | <span data-ttu-id="4a235-150">**Schreibgeschützt**</span><span class="sxs-lookup"><span data-stu-id="4a235-150">**Read-only**</span></span>  | <span data-ttu-id="4a235-151">**Lesen/Schreiben**</span><span class="sxs-lookup"><span data-stu-id="4a235-151">**Read/write**</span></span> | <span data-ttu-id="4a235-152">**Keine**</span><span class="sxs-lookup"><span data-stu-id="4a235-152">**None**</span></span> |
|---------------|----------------|----------------|----------|
| <span data-ttu-id="4a235-153">Betriebssystem-Datenträger</span><span class="sxs-lookup"><span data-stu-id="4a235-153">OS disk</span></span>       | <span data-ttu-id="4a235-154">Ja</span><span class="sxs-lookup"><span data-stu-id="4a235-154">yes</span></span>            | <span data-ttu-id="4a235-155">Ja (Standard)</span><span class="sxs-lookup"><span data-stu-id="4a235-155">yes (default)</span></span>  | <span data-ttu-id="4a235-156">Ja</span><span class="sxs-lookup"><span data-stu-id="4a235-156">yes</span></span>      |
| <span data-ttu-id="4a235-157">Datenträger</span><span class="sxs-lookup"><span data-stu-id="4a235-157">Data disk</span></span>     | <span data-ttu-id="4a235-158">Ja (Standard)</span><span class="sxs-lookup"><span data-stu-id="4a235-158">yes (default)</span></span>  | <span data-ttu-id="4a235-159">Ja</span><span class="sxs-lookup"><span data-stu-id="4a235-159">yes</span></span>            | <span data-ttu-id="4a235-160">Ja</span><span class="sxs-lookup"><span data-stu-id="4a235-160">yes</span></span>      |
| <span data-ttu-id="4a235-161">Temporärer Datenträger</span><span class="sxs-lookup"><span data-stu-id="4a235-161">Temp disk</span></span>     | <span data-ttu-id="4a235-162">Nein</span><span class="sxs-lookup"><span data-stu-id="4a235-162">no</span></span>             | <span data-ttu-id="4a235-163">Nein</span><span class="sxs-lookup"><span data-stu-id="4a235-163">no</span></span>             | <span data-ttu-id="4a235-164">Nein</span><span class="sxs-lookup"><span data-stu-id="4a235-164">no</span></span>       |

> [!NOTE]
> <span data-ttu-id="4a235-165">Optionen für die Datenträgerzwischenspeicherung können für virtuelle Computer der **L-** und **B-Serie** nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="4a235-165">Disk caching options can't be changed for **L-Series** and **B-series** virtual machines.</span></span>

## <a name="performance-considerations-for-azure-vm-disk-caching"></a><span data-ttu-id="4a235-166">Überlegungen zur Leistung der Azure-VM-Datenträgerzwischenspeicherung</span><span class="sxs-lookup"><span data-stu-id="4a235-166">Performance considerations for Azure VM disk caching</span></span>

<span data-ttu-id="4a235-167">Wie können Ihre Cacheeinstellungen die Leistung Ihrer auf Azure-VMs ausgeführten Workloads beeinträchtigen?</span><span class="sxs-lookup"><span data-stu-id="4a235-167">So, how can your cache settings affect the performance of your workloads running on Azure VMs?</span></span>

### <a name="os-disk"></a><span data-ttu-id="4a235-168">Betriebssystem-Datenträger</span><span class="sxs-lookup"><span data-stu-id="4a235-168">OS disk</span></span>

<span data-ttu-id="4a235-169">Standardmäßig wird der Cache für einen VM-Betriebssystem-Datenträger im Lese-/Schreibzugriffsmodus verwendet.</span><span class="sxs-lookup"><span data-stu-id="4a235-169">For a VM OS disk, the default behavior is to use the cache in read/write mode.</span></span> <span data-ttu-id="4a235-170">Wenn Ihre Anwendungen Datendateien auf dem Betriebssystem-Datenträger speichern und die Apps zahlreiche zufällige Lese-/Schreib-Vorgänge in Datendateien ausführen, sollten Sie in Betracht ziehen, diese Dateien auf einen Datenträger für Daten zu verschieben, für den das Zwischenspeichern deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="4a235-170">If you have applications that store data files on the OS disk, and the apps do lots of random read/write operations to data files, consider moving those files to a data disk that has the caching turned off.</span></span> <span data-ttu-id="4a235-171">Warum?</span><span class="sxs-lookup"><span data-stu-id="4a235-171">Why is that?</span></span> <span data-ttu-id="4a235-172">Wenn die Lesewarteschlange keine sequenziellen Lesevorgänge enthält, hat das Zwischenspeichern wenig oder keinen Nutzen.</span><span class="sxs-lookup"><span data-stu-id="4a235-172">Well, if the read queue does not contain sequential reads, caching will be of little or no benefit.</span></span> <span data-ttu-id="4a235-173">Der Mehraufwand für die Verwaltung des Caches, als wären die Daten sequenziell, kann die Datenträgerleistung reduzieren.</span><span class="sxs-lookup"><span data-stu-id="4a235-173">The overhead of maintaining the cache, as if the data was sequential, can reduce disk performance.</span></span>

### <a name="data-disks"></a><span data-ttu-id="4a235-174">Datenträger für Daten</span><span class="sxs-lookup"><span data-stu-id="4a235-174">Data disks</span></span>

<span data-ttu-id="4a235-175">Für leistungsabhängige Anwendungen sollten Sie Datenträger für Daten anstelle des Betriebssystem-Datenträgers verwenden.</span><span class="sxs-lookup"><span data-stu-id="4a235-175">For performance-sensitive applications, you should use data disks rather than the OS disk.</span></span> <span data-ttu-id="4a235-176">Mithilfe von separaten Datenträgern können Sie die entsprechenden Cacheeinstellungen für jeden Datenträger konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="4a235-176">Using separate disks allows you to configure the appropriate cache settings for each one.</span></span>

<span data-ttu-id="4a235-177">Beispielsweise kann auf Azure-VMs, die SQL Server ausführen, das Aktivieren des **schreibgeschützten** Zwischenspeicherns auf den Datenträgern für Daten (für reguläre und TempDB-Daten) zu erheblichen Leistungsverbesserungen führen.</span><span class="sxs-lookup"><span data-stu-id="4a235-177">For example, on Azure VMs running SQL Server, enabling **Read-only** caching on the data disks (for regular and TempDB data) can result in significant performance improvements.</span></span> <span data-ttu-id="4a235-178">Protokolldateien sind auf der anderen Seite gute Kandidaten für Datenträger für Daten ohne Zwischenspeichern.</span><span class="sxs-lookup"><span data-stu-id="4a235-178">Log files, on the other hand, are good candidates for data disks with no caching.</span></span>

> [!WARNING]
> <span data-ttu-id="4a235-179">Durch Ändern der Cacheeinstellung eines Azure-Datenträgers wird der Zieldatenträger getrennt und erneut angefügt.</span><span class="sxs-lookup"><span data-stu-id="4a235-179">Changing the cache setting of an Azure disk detaches and then reattaches the target disk.</span></span> <span data-ttu-id="4a235-180">Wenn es sich um den Betriebssystem-Datenträger handelt, wird der virtuelle Computer neu gestartet.</span><span class="sxs-lookup"><span data-stu-id="4a235-180">If it's the operating system disk, the VM is restarted.</span></span> <span data-ttu-id="4a235-181">Beenden Sie alle Anwendungen und Dienste, die von dieser Unterbrechung betroffen sein könnten, bevor Sie die Cacheeinstellung des Datenträgers ändern.</span><span class="sxs-lookup"><span data-stu-id="4a235-181">Stop all applications/services that might be affected by this disruption before changing the disk cache setting.</span></span>

<span data-ttu-id="4a235-182">Sie können die Cacheeinstellungen für virtuelle Computer mit einem der folgenden Tools konfigurieren:</span><span class="sxs-lookup"><span data-stu-id="4a235-182">You can configure virtual machine disk cache settings with any of the following tools:</span></span>

- <span data-ttu-id="4a235-183">Azure-Portal</span><span class="sxs-lookup"><span data-stu-id="4a235-183">Azure portal</span></span>
- <span data-ttu-id="4a235-184">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="4a235-184">Azure CLI</span></span>
- <span data-ttu-id="4a235-185">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="4a235-185">Azure PowerShell</span></span>
- <span data-ttu-id="4a235-186">Resource Manager-Vorlagen</span><span class="sxs-lookup"><span data-stu-id="4a235-186">Resource Manager templates</span></span>

## <a name="using-the-azure-portal-to-configure-caching"></a><span data-ttu-id="4a235-187">Konfigurieren der Zwischenspeicherung im Azure-Portal</span><span class="sxs-lookup"><span data-stu-id="4a235-187">Using the Azure portal to configure caching</span></span>

<span data-ttu-id="4a235-188">Wenn Sie einen neuen virtuellen Computer über das Azure-Portal bereitstellen, können Sie die standardmäßige Zwischenspeicherkonfiguration für den Betriebssystem-Datenträger vom Lese-/Schreibzugriff nicht ändern, bis der virtuelle Computer bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="4a235-188">When you provision a new VM using the Azure portal, you can't change the default caching configuration for the OS disk from read/write until the VM is deployed.</span></span>

<span data-ttu-id="4a235-189">Wenn Sie einem vorhandenen virtuellen Computer einen Datenträger für Daten hinzufügen, können Sie die Cacheoption konfigurieren, bevor der Datenträger für den virtuellen Computer bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="4a235-189">When you add a data disk to an existing VM, you can configure the cache option before the disk is deployed to the VM.</span></span>

<span data-ttu-id="4a235-190">Durch Ändern der Cacheeinstellung eines Azure-Datenträgers wird der Zieldatenträger getrennt und erneut angefügt.</span><span class="sxs-lookup"><span data-stu-id="4a235-190">Changing the cache setting of an Azure disk detaches and reattaches the target disk.</span></span> <span data-ttu-id="4a235-191">Wenn es sich um den Betriebssystemdatenträger handelt, wird der virtuelle Computer neu gestartet.</span><span class="sxs-lookup"><span data-stu-id="4a235-191">If it's the operating system disk, the VM is restarted.</span></span> <span data-ttu-id="4a235-192">Beenden Sie alle Anwendungen und Dienste, die von dieser Unterbrechung betroffen sein könnten, bevor Sie die Cacheeinstellung des Datenträgers ändern.</span><span class="sxs-lookup"><span data-stu-id="4a235-192">Stop all applications/services that might be affected by this disruption before changing the disk cache setting.</span></span>

<span data-ttu-id="4a235-193">Wir erstellen einen virtuellen Computer und ändern die Cacheeinstellungen über das Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="4a235-193">Let's create a VM and change the cache settings using the Azure portal.</span></span>
