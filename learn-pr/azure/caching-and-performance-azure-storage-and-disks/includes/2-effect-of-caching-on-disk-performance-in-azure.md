<span data-ttu-id="5589d-101">Ähnlich wie bei Ihren lokalen Computern ist die Leistung von virtuellen Computern häufig direkt davon abhängig, wie schnell Daten gelesen und geschrieben werden können.</span><span class="sxs-lookup"><span data-stu-id="5589d-101">Much like your local computers, virtual machine performance can often be tied directly to how quickly it can read and write data.</span></span> <span data-ttu-id="5589d-102">Damit Sie verstehen, wie wir diese Leistung verbessern, müssen wir zuerst beschreiben, wie die Leistung gemessen wird und welche Einstellungen und Auswahloptionen sich darauf auswirken.</span><span class="sxs-lookup"><span data-stu-id="5589d-102">In order to understand how to improve that performance, we first have to understand how performance is measured and the settings and choices that affect it.</span></span>

<span data-ttu-id="5589d-103">Wir sehen uns vor allem die zugrunde liegenden Datenträger und den Speicher für VMs an.</span><span class="sxs-lookup"><span data-stu-id="5589d-103">We are looking specifically at the underlying disks and storage used for VMs.</span></span> <span data-ttu-id="5589d-104">Beachten Sie in Bezug auf die Leistung, dass Sie auch die Anwendungsschicht berücksichtigen sollten.</span><span class="sxs-lookup"><span data-stu-id="5589d-104">When you are looking at performance, keep in mind that you will also have to consider the application layer.</span></span> <span data-ttu-id="5589d-105">Wenn Sie beispielsweise eine Datenbank auf einer VM ausführen, sollten Sie sich die spezifischen Leistungseinstellungen der Datenbank ansehen. So können Sie sicherstellen, dass diese für die VM und den zugehörigen Speicher für die Ausführung optimiert sind.</span><span class="sxs-lookup"><span data-stu-id="5589d-105">For example, if you are running a database in a VM, you will want to look at the performance settings specific to the database to ensure it is optimized for the VM and storage you are running it on.</span></span>

<span data-ttu-id="5589d-106">Zunächst definieren wir einige Bedingungen und die Garantien, die in Azure dafür gelten.</span><span class="sxs-lookup"><span data-stu-id="5589d-106">Let's start by defining a few terms and the guarantees Azure makes about them.</span></span>

## <a name="io-operations-per-second"></a><span data-ttu-id="5589d-107">E/A-Vorgänge pro Sekunde</span><span class="sxs-lookup"><span data-stu-id="5589d-107">I/O operations per second</span></span>

<span data-ttu-id="5589d-108">Der von Ihnen gewählte Speichertyp (Standard oder Premium) bestimmt, wie schnell Ihre Datenträger sind.</span><span class="sxs-lookup"><span data-stu-id="5589d-108">The storage type you select (standard or premium) will decide how fast your disks are.</span></span> <span data-ttu-id="5589d-109">Wir messen diese Leistung in E/A-Vorgängen pro Sekunde (IOPS; englische Aussprache „eye-ops“).</span><span class="sxs-lookup"><span data-stu-id="5589d-109">We measure this performance in I/O operations per second, or IOPS (pronounced "eye-ops").</span></span>

<span data-ttu-id="5589d-110">IOPS steht für die Anzahl von Anforderungen, die vom Datenträger innerhalb einer Sekunde verarbeitet werden können.</span><span class="sxs-lookup"><span data-stu-id="5589d-110">IOPS is number of requests that can be processed by the disk in one second.</span></span> <span data-ttu-id="5589d-111">Eine einzelne Anforderung umfasst einen Lese- oder Schreibvorgang.</span><span class="sxs-lookup"><span data-stu-id="5589d-111">A single request is a read or write operation.</span></span> <span data-ttu-id="5589d-112">Diese Messung wird direkt auf den Speicher angewendet.</span><span class="sxs-lookup"><span data-stu-id="5589d-112">This measurement is applied directly to storage.</span></span> <span data-ttu-id="5589d-113">Wenn Sie beispielsweise über einen Datenträger verfügen, für den **5.000 IOPS** möglich sind, bedeutet dies, dass theoretisch 5.000 Lese- und Schreibvorgänge pro Sekunde verarbeitet werden können.</span><span class="sxs-lookup"><span data-stu-id="5589d-113">For example, if you have a disk that is capable of doing a **5000 IOPS**, it means that it is theoretically capable of processing 5,000 read and or write operations per second.</span></span>

<span data-ttu-id="5589d-114">IOPS wirkt sich direkt auf Ihre Anwendungsleistung aus.</span><span class="sxs-lookup"><span data-stu-id="5589d-114">IOPS directly affects your application performance.</span></span> <span data-ttu-id="5589d-115">Für einige Anwendungen, z.B. Einzelhandelswebsites, ist ein hoher IOPS-Wert für alle kleineren und zufälligen E/A-Anforderungen erforderlich, die schnell verarbeitet werden müssen, damit die Website reaktionsfähig bleibt.</span><span class="sxs-lookup"><span data-stu-id="5589d-115">Some applications, such as retail websites, need high IOPS to handle all the small and random IO requests that must be processed quickly to keep the site responsive.</span></span>

### <a name="iops-in-azure"></a><span data-ttu-id="5589d-116">IOPS in Azure</span><span class="sxs-lookup"><span data-stu-id="5589d-116">IOPS in Azure</span></span>

<span data-ttu-id="5589d-117">Wenn Sie einen Storage Premium-Datenträger an Ihre Hochleistungs-VM anfügen, stellt Azure für Sie gemäß der Datenträgerspezifikation eine garantierte IOPS-Anzahl bereit.</span><span class="sxs-lookup"><span data-stu-id="5589d-117">When you attach a premium storage disk to your high scale VM, Azure provisions for you a guaranteed number of IOPS as per the disk specification.</span></span> <span data-ttu-id="5589d-118">Beispielsweise stellt ein Datenträger vom Typ **P50** **7.500 IOPS** bereit.</span><span class="sxs-lookup"><span data-stu-id="5589d-118">For example, a **P50** disk provisions **7500 IOPS**.</span></span> <span data-ttu-id="5589d-119">Jeder Typ von Hochleistungs-VM weist außerdem ein bestimmtes IOPS-Limit auf.</span><span class="sxs-lookup"><span data-stu-id="5589d-119">Each high scale VM size also has a specific IOPS limit that it can sustain.</span></span> <span data-ttu-id="5589d-120">Für eine VM vom Typ **Standard GS5** gilt beispielsweise ein Limit von **80.000 IOPS**.</span><span class="sxs-lookup"><span data-stu-id="5589d-120">For example, a **Standard GS5** VM has an **80,000 IOPS** limit.</span></span>

<span data-ttu-id="5589d-121">IOPS ist ein Messwert für Speicherdatenträger, aber es handelt sich hierbei um einen _theoretischen_ Grenzwert. Zwei weitere Faktoren können sich ebenfalls auf die Anwendungsleistung auswirken: **Durchsatz** und **Latenz**.</span><span class="sxs-lookup"><span data-stu-id="5589d-121">IOPS is a measurement of the storage disks, however it's a _theoretical_ limit - two other factors can affect the actual application performance: **throughput** and **latency**.</span></span>

### <a name="what-is-throughput"></a><span data-ttu-id="5589d-122">Was ist der Durchsatz?</span><span class="sxs-lookup"><span data-stu-id="5589d-122">What is throughput?</span></span>
<span data-ttu-id="5589d-123">Durchsatz (auch als „Bandbreite“ bezeichnet) ist die Menge der Daten, die Ihre Anwendung in einem angegebenen Intervall an die Speicherdatenträger überträgt (normalerweise pro Sekunde).</span><span class="sxs-lookup"><span data-stu-id="5589d-123">Throughput (also called "bandwidth") is the amount of data that your application is sending to the storage disks in a specified interval (typically per second).</span></span> <span data-ttu-id="5589d-124">Wenn Ihre Anwendung einen E/A-Vorgang mit großen Datenblöcken durchführt, wird ein hoher Durchsatz benötigt.</span><span class="sxs-lookup"><span data-stu-id="5589d-124">If your application is performing I/O with large blocks of data, it requires high throughput.</span></span>

<span data-ttu-id="5589d-125">Azure stellt Durchsatz für Storage Premium-Datenträger basierend auf der Spezifikation des Datenträgers bereit.</span><span class="sxs-lookup"><span data-stu-id="5589d-125">Azure provisions throughput in premium storage disks based on that disks' specification.</span></span> <span data-ttu-id="5589d-126">Für einen **P50**-Datenträger wird beispielsweise ein Datenträgerdurchsatz von **250 MB pro Sekunde** bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="5589d-126">For example, a **P50** disk provisions **250 MB per second** disk throughput.</span></span> <span data-ttu-id="5589d-127">Jeder Typ von Hochleistungs-VM weist außerdem ein bestimmtes _Durchsatzlimit_ auf.</span><span class="sxs-lookup"><span data-stu-id="5589d-127">Each high scale VM size also has as specific _throughput limit_ that it can sustain.</span></span> <span data-ttu-id="5589d-128">Für eine VM vom Typ **Standard GS5** gilt beispielsweise ein maximaler Durchsatz von **2.000 MB pro Sekunde**.</span><span class="sxs-lookup"><span data-stu-id="5589d-128">For example, **Standard GS5** VM has a maximum throughput of **2,000 MB per second**.</span></span>

#### <a name="iops-vs-throughput"></a><span data-ttu-id="5589d-129">Vergleich von IOPS und Durchsatz</span><span class="sxs-lookup"><span data-stu-id="5589d-129">IOPS vs. throughput</span></span>

<span data-ttu-id="5589d-130">Durchsatz und IOPS stehen in direkter Beziehung zueinander. Wenn Sie einen Wert ändern, wirkt sich dies direkt auf den anderen aus.</span><span class="sxs-lookup"><span data-stu-id="5589d-130">Throughput and IOPS have a direct relationship, changing one will have a direct impact on the other.</span></span> <span data-ttu-id="5589d-131">Sie können die folgende Formel verwenden, um einen theoretischen Grenzwert für den Durchsatz zu erhalten: `IOPS x I/O size = throughput`.</span><span class="sxs-lookup"><span data-stu-id="5589d-131">To get a theoretical limit of throughput you can use the formula: `IOPS x I/O size = throughput`.</span></span> <span data-ttu-id="5589d-132">Es ist wichtig, diese beiden Werte zu berücksichtigen, wenn Sie Ihre Anwendung planen.</span><span class="sxs-lookup"><span data-stu-id="5589d-132">It's important to consider both of these values when planning your application.</span></span>

### <a name="what-is-latency"></a><span data-ttu-id="5589d-133">Was ist die Latenz?</span><span class="sxs-lookup"><span data-stu-id="5589d-133">What is latency?</span></span>

<span data-ttu-id="5589d-134">Das Lesen und Schreiben von Daten benötigt Zeit.</span><span class="sxs-lookup"><span data-stu-id="5589d-134">Reading and writing data takes time.</span></span> <span data-ttu-id="5589d-135">Hier kommt die _Latenz_ ins Spiel.</span><span class="sxs-lookup"><span data-stu-id="5589d-135">This is where _latency_ comes in.</span></span> <span data-ttu-id="5589d-136">Die Latenz ist die Zeit, die Ihre App zum Senden einer Anforderung an den Datenträger und zum Erhalten einer Antwort benötigt.</span><span class="sxs-lookup"><span data-stu-id="5589d-136">Latency is the time it takes your app to send a request to the disk and get a response.</span></span> <span data-ttu-id="5589d-137">Im Wesentlichen können wir anhand der Latenz ablesen, wie lange es dauert, eine einzelne E/A-Anforderung für einen Lese- oder Schreibvorgang zu _verarbeiten_.</span><span class="sxs-lookup"><span data-stu-id="5589d-137">Essentially, latency tells us how long it takes to _process_ a single read or write I/O request.</span></span>

<span data-ttu-id="5589d-138">Mit der Latenz wird der IOPS-Wert beschränkt.</span><span class="sxs-lookup"><span data-stu-id="5589d-138">Latency puts a limit on IOPS.</span></span> <span data-ttu-id="5589d-139">Wenn der Datenträger beispielsweise 5.000 IOPS verarbeiten kann, aber die Verarbeitung jedes Vorgangs 10 ms dauert, ergibt für die App aufgrund der Verarbeitungsdauer ein Limit von 100 Vorgängen pro Sekunde.</span><span class="sxs-lookup"><span data-stu-id="5589d-139">For example, if our disk can handle 5000 IOPS but each operation takes 10 ms to process, then our app will be capped to 100 operation per second due to the processing time.</span></span> <span data-ttu-id="5589d-140">Dies ist nur ein einfaches Beispiel. Die meiste Zeit ist die Latenz deutlich geringer.</span><span class="sxs-lookup"><span data-stu-id="5589d-140">This is a simple example, most of the time latency will be much lower.</span></span> <span data-ttu-id="5589d-141">Letztendlich wird anhand der Latenz und des Durchsatzes bestimmt, wie schnell Ihre App Daten aus dem Speicher verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="5589d-141">Ultimately, latency and throughput will determine how fast your app can process data from storage.</span></span> 

<span data-ttu-id="5589d-142">Storage Premium ermöglicht einheitlich niedrige Latenzen, und per _Zwischenspeicherung_ können Sie eine noch bessere Latenz erzielen.</span><span class="sxs-lookup"><span data-stu-id="5589d-142">Premium Storage provides consistent low latencies and you can achieve even better latency when necessary through _caching_.</span></span> 

## <a name="testing-your-disk-performance"></a><span data-ttu-id="5589d-143">Testen der Datenträgerleistung</span><span class="sxs-lookup"><span data-stu-id="5589d-143">Testing your disk performance</span></span>

<span data-ttu-id="5589d-144">Sie können IOPS, Durchsatz und Latenz Ihrer VM-Datenträger anpassen und ausgleichen, indem Sie die richtige VM-Größe und den passenden Speichertyp auswählen.</span><span class="sxs-lookup"><span data-stu-id="5589d-144">You can adjust and balance the IOPS, throughput and latency of your VM disks by selecting the right VM size and storage type.</span></span> <span data-ttu-id="5589d-145">Normalerweise verfügen die höheren bzw. teureren VM-Größen über umfassendere Garantien für die maximalen IOPS- und Durchsatzwerte.</span><span class="sxs-lookup"><span data-stu-id="5589d-145">Typically the larger or more expensive VM sizes will have higher guarantees for max IOPS and throughput.</span></span> <span data-ttu-id="5589d-146">Da Sie dann noch die Wahl zwischen Standard- und Premium-Speicher bzw. HDD und SSD haben, verfügen Sie über mehrere Parameter, um Ihre Anforderungen zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="5589d-146">Add into that equation Standard vs. Premium storage and HDD vs. SSD choices and you have several parameters to play with.</span></span>

<span data-ttu-id="5589d-147">Damit Sie die richtige Kombination wählen können, müssen Sie Ihre Anwendungsanforderungen kennen.</span><span class="sxs-lookup"><span data-stu-id="5589d-147">To select the right combination involves understanding what your application requirements are.</span></span> <span data-ttu-id="5589d-148">Für Anwendungen mit hohem E/A-Aufwand, z.B. Datenbankserver oder OLTP-Systeme (Online Transactional Processing, Onlinetransaktionsverarbeitung), sind höhere IOPS-Werte erforderlich. Für Anwendungen, die eher computebasiert sind, reichen dagegen unter Umständen geringere Anforderungen aus.</span><span class="sxs-lookup"><span data-stu-id="5589d-148">High-I/O applications such as database servers or online transactional processing systems will require higher IOPS, whereas more computational based applications might get by with much lower requirements.</span></span> <span data-ttu-id="5589d-149">Außerdem wirken sich die _Typen_ von Vorgängen, die von Anwendungen durchgeführt werden, auf den Durchsatz aus.</span><span class="sxs-lookup"><span data-stu-id="5589d-149">In addition, the _types_ of operations the applications do will affect your throughput.</span></span> <span data-ttu-id="5589d-150">Vorgänge mit hohem Random-Access-E/A-Aufwand sind in der Regel langsamer als lange sequenzielle Lesevorgänge.</span><span class="sxs-lookup"><span data-stu-id="5589d-150">High random access I/O tends to be slower than long sequential reads.</span></span>

<span data-ttu-id="5589d-151">Nachdem Sie Ihre Konfiguration ausgewählt haben, können Sie Tools wie [Iometer](http://iometer.org/) nutzen, um Ihre Datenträgerleistung auf Linux- und Windows-VMs zu testen.</span><span class="sxs-lookup"><span data-stu-id="5589d-151">Once you select your configuration, you can use tools such as [Iometer](http://iometer.org/) to test your disk performance on Linux and Windows VMs.</span></span> <span data-ttu-id="5589d-152">Sie erhalten dann einen praxisbezogeneren Eindruck davon, welche Leistung zu erwarten ist.</span><span class="sxs-lookup"><span data-stu-id="5589d-152">This will give you a more real-world sense of what kind of performance to expect.</span></span> <span data-ttu-id="5589d-153">Außerdem können Sie so besser Möglichkeiten ermitteln, wie Sie die Speichernutzung für Ihre App verbessern. Für eine Anwendung mit Single-Thread-E/A ergibt sich aufgrund von Latenz beispielsweise eher eine niedrigere E/A-Leistung.</span><span class="sxs-lookup"><span data-stu-id="5589d-153">It can also help you to identify ways to improve your app's usage of storage - for example, an application that does single threaded I/O is likely to suffer reduced I/O performance because of latency.</span></span>

<span data-ttu-id="5589d-154">Wir sehen uns noch einige andere Optionen zur Verbesserung der Datenträgerleistung an.</span><span class="sxs-lookup"><span data-stu-id="5589d-154">Let's look at some other things we can do to improve our disk performance.</span></span>

