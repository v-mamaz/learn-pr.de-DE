<span data-ttu-id="1d482-101">Zur Erinnerung: Wir möchten einen vorhandenen Linux-Server, auf dem Apache ausgeführt wird, zu Azure migrieren.</span><span class="sxs-lookup"><span data-stu-id="1d482-101">Recall that our goal is to move an existing Linux server running Apache to Azure.</span></span> <span data-ttu-id="1d482-102">Dazu erstellen wir zunächst einen Ubuntu Linux-Server.</span><span class="sxs-lookup"><span data-stu-id="1d482-102">We'll start by creating an Ubuntu Linux server.</span></span>

## <a name="create-a-new-linux-virtual-machine"></a><span data-ttu-id="1d482-103">Erstellen eines neuen virtuellen Linux-Computers</span><span class="sxs-lookup"><span data-stu-id="1d482-103">Create a new Linux virtual machine</span></span>

<span data-ttu-id="1d482-104">Virtuelle Linux-Computer können über das Azure-Portal, mithilfe der Azure CLI oder unter Verwendung von Azure PowerShell erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="1d482-104">We can create Linux VMs with the Azure portal, Azure CLI, or Azure PowerShell.</span></span> <span data-ttu-id="1d482-105">Die einfachste Methode für Azure-Neulinge ist das Portal, da es Sie Schritt für Schritt durch die Erstellung führt sowie Hinweise und hilfreiche Meldungen bereithält.</span><span class="sxs-lookup"><span data-stu-id="1d482-105">The easiest approach when you are starting with Azure is to use the portal because it walks you through the required information and provides hints and helpful messages during the creation.</span></span>

1. <span data-ttu-id="1d482-106">Melden Sie sich beim [Azure-Portal](https://portal.azure.com?azure-portal=true) an.</span><span class="sxs-lookup"><span data-stu-id="1d482-106">Sign into the [Azure portal](https://portal.azure.com?azure-portal=true).</span></span>

1. <span data-ttu-id="1d482-107">Klicken Sie im Azure-Portal oben links auf **Ressource erstellen**.</span><span class="sxs-lookup"><span data-stu-id="1d482-107">Click **Create a resource** in the upper left corner of the Azure portal.</span></span>

1. <span data-ttu-id="1d482-108">Geben Sie **Ubuntu Server** in das Suchfeld ein, um die verfügbaren Versionen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="1d482-108">In the search box, enter  **Ubuntu Server** to see the different versions available.</span></span> <span data-ttu-id="1d482-109">Wählen Sie in der angezeigten Liste die Option **Ubuntu Server 18.04** aus.</span><span class="sxs-lookup"><span data-stu-id="1d482-109">Select **Ubuntu Server 18.04** from the presented list.</span></span>

1. <span data-ttu-id="1d482-110">Klicken Sie auf die Schaltfläche **Erstellen**, um mit dem Konfigurieren der VM zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="1d482-110">Click the **Create** button to start configuring the VM.</span></span>

## <a name="configure-the-vm-settings"></a><span data-ttu-id="1d482-111">Konfigurieren der VM-Einstellungen</span><span class="sxs-lookup"><span data-stu-id="1d482-111">Configure the VM settings</span></span>

<span data-ttu-id="1d482-112">Im Portal steht für die VM-Erstellung ein Assistent zur Verfügung, der Sie durch sämtliche Konfigurationsbereiche für die VM führt.</span><span class="sxs-lookup"><span data-stu-id="1d482-112">The VM creation experience in the portal is presented in a "wizard" format to walk you through all the configuration areas for the VM.</span></span> <span data-ttu-id="1d482-113">Durch Klicken auf die Schaltfläche „Weiter“ gelangen Sie jeweils zum nächsten Konfigurationsbereich.</span><span class="sxs-lookup"><span data-stu-id="1d482-113">Clicking the "Next" button will take you to the next configurable section.</span></span> <span data-ttu-id="1d482-114">Sie können allerdings auch über die Registerkarten im oberen Bereich beliebig zwischen den einzelnen Bereichen wechseln.</span><span class="sxs-lookup"><span data-stu-id="1d482-114">However, you can move between the sections at will with the tabs running across the top that identify each part.</span></span>

![Erstellen eines neuen virtuellen Computers im Azure-Portal](../media-drafts/3-azure-portal-create-vm.png)

<span data-ttu-id="1d482-116">Sobald Sie alle erforderlichen Optionen (mit roten Sternen kenntlich gemacht) angegeben haben, können Sie die restlichen Schritte des Assistenten überspringen und im unteren Bereich auf die Schaltfläche **Überprüfen + erstellen** klicken, um mit der Erstellung der VM zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="1d482-116">Once you fill in all the required options (identified with red stars), you can skip the remainder of the wizard experience and start creating the VM through the **Review + Create** button at the bottom.</span></span>

<span data-ttu-id="1d482-117">Beginnen Sie mit dem Abschnitt **Grundlagen**.</span><span class="sxs-lookup"><span data-stu-id="1d482-117">We'll start with the **Basics** section.</span></span>

### <a name="configure-basic-vm-settings"></a><span data-ttu-id="1d482-118">Konfigurieren der Grundeinstellungen für die VM</span><span class="sxs-lookup"><span data-stu-id="1d482-118">Configure basic VM settings</span></span>

1. <span data-ttu-id="1d482-119">Wählen Sie das **Abonnement** aus, über das die VM-Stunden abgerechnet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="1d482-119">Select the **Subscription** that should be billed for VM hours.</span></span>

1. <span data-ttu-id="1d482-120">Klicken Sie für **Ressourcengruppe** auf **Neu erstellen**, und geben Sie der Ressourcengruppe den Namen **ExerciseResources**.</span><span class="sxs-lookup"><span data-stu-id="1d482-120">For **Resource group**, select **Create new** and give the resource group the name **ExerciseResources**.</span></span>

> [!NOTE]
> <span data-ttu-id="1d482-121">Wenn Sie die Einstellungen ändern und anschließend die TAB-TASTE drücken, prüft Azure den Wert automatisch und platziert einen grünen Haken daneben, wenn die Änderungen akzeptiert werden.</span><span class="sxs-lookup"><span data-stu-id="1d482-121">As you change settings and tab out of each field Azure will validate each value automatically and place a green check-mark next to it when it's good.</span></span> <span data-ttu-id="1d482-122">Sie können mit der Maus auf Fehlerindikatoren zeigen, um weitere Informationen zu gefundenen Problemen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="1d482-122">You can hover over error indicators to get more information on issues it discovers.</span></span>

1. <span data-ttu-id="1d482-123">Geben Sie im Abschnitt **INSTANZENDETAILS** einen Namen für Ihre Webserver-VM ein (z.B. „test-web-eus-vm1“).</span><span class="sxs-lookup"><span data-stu-id="1d482-123">In the **INSTANCE DETAILS** section, enter a name for your web server VM, such as "test-web-eus-vm1".</span></span> <span data-ttu-id="1d482-124">Dieser Name gibt die Umgebung („test“), die Rolle („web“), den Standort („eus“ für die Region „USA, Osten“), den Dienst („vm“) und die Instanznummer („1“) an.</span><span class="sxs-lookup"><span data-stu-id="1d482-124">This indicates the environment ("test"), the role ("web"), location ("East US"), service ("vm"), and instance number ("1").</span></span>
    - <span data-ttu-id="1d482-125">Es empfiehlt sich, Ressourcennamen zu standardisieren, um sofort ihren Zweck ermitteln zu können.</span><span class="sxs-lookup"><span data-stu-id="1d482-125">It's best practice to standardize your resource names so you can quickly identify their purpose.</span></span> <span data-ttu-id="1d482-126">Namen für Linux-VMs dürfen maximal 64 Zeichen umfassen und müssen sich aus Zahlen, Buchstaben und Bindestrichen zusammensetzen.</span><span class="sxs-lookup"><span data-stu-id="1d482-126">Linux VM names must be between 1 and 64 characters and be comprised of numbers, letters, and dashes.</span></span>

1. <span data-ttu-id="1d482-127">Wählen Sie eine Region in Ihrer Nähe. Hier haben wir uns für „USA, Osten“ entschieden.</span><span class="sxs-lookup"><span data-stu-id="1d482-127">Select a region close to you; we've chosen East US.</span></span>

1. <span data-ttu-id="1d482-128">Übernehmen Sie für **Verfügbarkeitsoptionen** die Einstellung „Keine“.</span><span class="sxs-lookup"><span data-stu-id="1d482-128">Leave **Availability options** as "None".</span></span> <span data-ttu-id="1d482-129">Mit dieser Option wird die Hochverfügbarkeit der VM sichergestellt. Hierzu werden mehrere VMs in einer Gruppe zusammengefasst, um geplante oder ungeplante Wartungsereignisse oder Ausfälle zu behandeln.</span><span class="sxs-lookup"><span data-stu-id="1d482-129">This option is used to ensure the VM is highly available by grouping multiple VMs together a set to deal with planned or unplanned maintenance events or outages.</span></span>

1. <span data-ttu-id="1d482-130">Vergewissern Sie sich, dass das Image auf „Ubuntu Server 18.04 LTS“ festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="1d482-130">Ensure the image is set to "Ubuntu Server 18.04 LTS".</span></span> <span data-ttu-id="1d482-131">Sie können die Dropdownliste öffnen, um alle verfügbaren Optionen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="1d482-131">You can open the drop-down list to see all the options available.</span></span>

1. <span data-ttu-id="1d482-132">Das Feld **Größe** kann nicht direkt bearbeitet werden und enthält standardmäßig die Größe **DS2_v3** (eine der universellen Computingoptionen).</span><span class="sxs-lookup"><span data-stu-id="1d482-132">The **Size** field is not directly editable and has a **DS2_v3** default size which is one of the General purpose computing selections.</span></span> <span data-ttu-id="1d482-133">Diese Option ist für einen öffentlichen Webserver optimal. Klicken Sie aber trotzdem auf den Link **Größe ändern**, um sich die anderen VM-Größen anzusehen.</span><span class="sxs-lookup"><span data-stu-id="1d482-133">This choice is perfect for a public web server, but click the **Change size** link to explore other VM sizes.</span></span> <span data-ttu-id="1d482-134">Im daraufhin angezeigten Dialogfeld können Sie nach der Anzahl von CPUs, nach Name und nach Datenträgertyp filtern.</span><span class="sxs-lookup"><span data-stu-id="1d482-134">The resulting dialog allows you to filter based on # of CPUs, Name, and Disk Type.</span></span> <span data-ttu-id="1d482-135">Wählen Sie die Option **DS2_v3** aus, um zwei vCPUs mit 8 GB RAM zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="1d482-135">Select the same **DS2_v3** choice which gives you two vCPUs with 8 GB of RAM.</span></span>

    > [!TIP]
    > <span data-ttu-id="1d482-136">Da auf der rechten Seite ein neues Fenster geöffnet und über das vorherige Fenster geschoben wurde, um es anzuzeigen, können Sie die Ansicht auch nach links verschieben, um wieder zu den VM-Einstellungen zu gelangen.</span><span class="sxs-lookup"><span data-stu-id="1d482-136">You can also slide the view to the left to get back to the VM settings as it opened a new window off to the right and slid the window over to view it.</span></span>

1. <span data-ttu-id="1d482-137">Wählen Sie im Abschnitt **ADMINISTRATORZUGRIFF** für **Authentifizierungstyp** die Option „Öffentlicher SSH-Schlüssel“ aus.</span><span class="sxs-lookup"><span data-stu-id="1d482-137">In the **ADMINISTRATOR ACCESS** section, select the SSH public key option for **Authentication type**.</span></span>

1. <span data-ttu-id="1d482-138">Geben Sie unter **Benutzername** einen Benutzernamen für die SSH-Anmeldung ein.</span><span class="sxs-lookup"><span data-stu-id="1d482-138">Enter a **username** you'll use to sign in with SSH.</span></span>

1. <span data-ttu-id="1d482-139">Kopieren Sie den SSH-Schlüssel aus Ihrer Datei mit dem öffentlichen Schlüssel, und fügen Sie ihn in das Feld **Öffentlicher SSH-Schlüssel** ein.</span><span class="sxs-lookup"><span data-stu-id="1d482-139">Copy the SSH key from your public key file and paste it into the **SSH public key** field.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1d482-140">Achten Sie beim Kopieren des öffentlichen Schlüssels in das Azure-Portal darauf, keine zusätzlichen Leerräume oder Zeilenvorschubzeichen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="1d482-140">When you copy the public key into the Azure portal, make sure not to add any additional whitespace or linefeed characters.</span></span>

1. <span data-ttu-id="1d482-141">Öffnen Sie die Liste im Abschnitt **REGELN FÜR EINGEHENDE PORTS**, und _deaktivieren_ Sie die Option „Keine“.</span><span class="sxs-lookup"><span data-stu-id="1d482-141">In the **INBOUND PORT RULES** section, open the list and _uncheck_ "None".</span></span> <span data-ttu-id="1d482-142">Da es sich hier um eine Linux-VM handelt, soll die Möglichkeit bestehen, per SSH-Remoteverbindung auf die VM zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="1d482-142">Since this is a Linux VM, we want to be able to access the VM using SSH remotely.</span></span> <span data-ttu-id="1d482-143">Wählen Sie in der Liste die Option „ssh (22)“ aus. (Unter Umständen müssen Sie dazu ein wenig scrollen.)</span><span class="sxs-lookup"><span data-stu-id="1d482-143">Scroll the list if necessary until you find ssh (22) and select it.</span></span> <span data-ttu-id="1d482-144">Auf der Benutzeroberfläche wird der Hinweis angezeigt, dass die Netzwerkports auch nach dem Erstellen der VM geändert werden können.</span><span class="sxs-lookup"><span data-stu-id="1d482-144">As the note in the UI indicates, we can also adjust the network ports after we create the VM.</span></span>

    ![Öffnen des Ports für SSH-Zugriff auf der Linux-VM](../media-drafts/3-open-ports.png)

## <a name="configure-disks-for-the-vm"></a><span data-ttu-id="1d482-146">Konfigurieren von Datenträgern für die VM</span><span class="sxs-lookup"><span data-stu-id="1d482-146">Configure Disks for the VM</span></span>

1. <span data-ttu-id="1d482-147">Klicken Sie auf **Weiter**, um zum Abschnitt „Datenträger“ zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="1d482-147">Click **Next** to move to the Disks section.</span></span>

    ![Konfigurieren von Datenträgern für die VM](../media-drafts/3-configure-disks.png)

1. <span data-ttu-id="1d482-149">Wählen Sie „SSD Premium“ als **Betriebssystemdatenträgertyp** aus.</span><span class="sxs-lookup"><span data-stu-id="1d482-149">Choose "Premium SSD" for the **OS disk type**.</span></span>

1. <span data-ttu-id="1d482-150">Verwenden Sie verwaltete Datenträger, um nicht mit Speicherkonten arbeiten zu müssen.</span><span class="sxs-lookup"><span data-stu-id="1d482-150">Use managed disks, so we don't have to work with storage accounts.</span></span> <span data-ttu-id="1d482-151">Wenn Sie wissen möchten, welche unterschiedlichen Informationen Azure jeweils benötigt, können Sie die Einstellung über die grafische Benutzeroberfläche ändern.</span><span class="sxs-lookup"><span data-stu-id="1d482-151">You can flip the switch in the GUI to see the difference in information that Azure needs if you like.</span></span>

### <a name="create-a-data-disk"></a><span data-ttu-id="1d482-152">Erstellen eines Datenträgers</span><span class="sxs-lookup"><span data-stu-id="1d482-152">Create a data disk</span></span>

<span data-ttu-id="1d482-153">Zur Erinnerung: Wir erhalten einen Betriebssystemdatenträger (/dev/sda) und einen temporären Datenträger (/dev/sdb).</span><span class="sxs-lookup"><span data-stu-id="1d482-153">Recall we will get an OS disk (/dev/sda) and Temporary disk (/dev/sdb).</span></span> <span data-ttu-id="1d482-154">Hier fügen wir auch noch einen Datenträger hinzu.</span><span class="sxs-lookup"><span data-stu-id="1d482-154">Let's add a data disk as well.</span></span>

1. <span data-ttu-id="1d482-155">Klicken Sie im Abschnitt **DATENTRÄGER** auf den Link **Neuen Datenträger erstellen und anfügen**.</span><span class="sxs-lookup"><span data-stu-id="1d482-155">Click the **Create and attach a new disk** link in the **DATA DISKS** section.</span></span>

    ![Erstellen eines Datenträgers für die VM über das Portal](../media-drafts/3-add-data-disk.png)

1. <span data-ttu-id="1d482-157">Sie können alle Standardeinstellungen beibehalten: „SSD Premium“, „1.023 GB“ und „Keine“ (leerer Datenträger). Beachten Sie allerdings, dass wir an dieser Stelle eine Momentaufnahme oder ein Speicherblob verwenden könnten, um eine VHD zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="1d482-157">You can take all the defaults: Premium SSD, 1023 GB, and None (empty disk); although notice that here is where we could use a snapshot, or Storage Blob to create a VHD.</span></span>

1. <span data-ttu-id="1d482-158">Klicken Sie auf **OK**, um den Datenträger zu erstellen, und navigieren Sie zurück zum Abschnitt **DATENTRÄGER**.</span><span class="sxs-lookup"><span data-stu-id="1d482-158">Click **OK** to create the disk and go back to the **DATA DISKS** section.</span></span>

1. <span data-ttu-id="1d482-159">Es sollte nun ein neuer Datenträger in der ersten Zeile angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="1d482-159">There should now be a new disk in the first row.</span></span>

    ![Neuer Datenträger für die VM](../media-drafts/3-new-disk.png)

## <a name="configure-the-network"></a><span data-ttu-id="1d482-161">Konfigurieren des Netzwerks</span><span class="sxs-lookup"><span data-stu-id="1d482-161">Configure the Network</span></span>

1. <span data-ttu-id="1d482-162">Klicken Sie auf **Weiter**, um zum Abschnitt „Netzwerk“ zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="1d482-162">Click **Next** to move to the Networking section.</span></span>

1. <span data-ttu-id="1d482-163">In einem Produktionssystem, in dem bereits andere Komponenten vorhanden sind, sollten Sie ein _bereits_ vorhandenes virtuelles Netzwerk verwenden.</span><span class="sxs-lookup"><span data-stu-id="1d482-163">In a production system where we already have other components, we'd want to utilize an _existing_ virtual network.</span></span> <span data-ttu-id="1d482-164">So kann Ihre VM mit den anderen Clouddiensten in unserer Lösung kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="1d482-164">That way our VM can communicate with the other cloud services in our solution.</span></span> <span data-ttu-id="1d482-165">Wenn für diesen Speicherort noch kein Netzwerk definiert ist, können Sie eins erstellen und folgende Bestandteile konfigurieren:</span><span class="sxs-lookup"><span data-stu-id="1d482-165">If there isn't one defined in this location yet, we can create it here and configure the:</span></span>
    - <span data-ttu-id="1d482-166">**Adressbereich**: Der IPv4-Bereich, der dem Netzwerk insgesamt zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="1d482-166">**Address space**: the overall IPV4 space available to this network.</span></span>
    - <span data-ttu-id="1d482-167">**Subnetzbereich**: Das erste Subnetz zur Unterteilung des Adressbereichs. Er muss innerhalb des definierten Adressbereichs liegen.</span><span class="sxs-lookup"><span data-stu-id="1d482-167">**Subnet range**: the first subnet to subdivide the address space - it must fit within the defined address space.</span></span> <span data-ttu-id="1d482-168">Nach der Erstellung des VNET können Sie weitere Subnetze hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="1d482-168">Once the VNet is created, you can add additional subnets.</span></span>

> [!NOTE]
> <span data-ttu-id="1d482-169">Standardmäßig erstellt Azure ein virtuelles Netzwerk, eine Netzwerkschnittstelle und eine öffentliche IP-Adresse für Ihre VM.</span><span class="sxs-lookup"><span data-stu-id="1d482-169">By default, Azure will create a virtual network, network interface, and public IP for your VM.</span></span> <span data-ttu-id="1d482-170">Nach der Erstellung der VM können die Netzwerkoptionen nicht mehr so einfach geändert werden. Prüfen Sie daher immer genau die Netzwerkzuweisungen für die von Ihnen in Azure erstellten Dienste.</span><span class="sxs-lookup"><span data-stu-id="1d482-170">It's not trivial to change the networking options after the VM has been created so always double-check the network assignments on services you create in Azure.</span></span>

## <a name="finish-configuring-the-vm-and-create-the-image"></a><span data-ttu-id="1d482-171">Abschließen der VM-Konfiguration und Erstellen des Images</span><span class="sxs-lookup"><span data-stu-id="1d482-171">Finish configuring the VM and create the image</span></span>

<span data-ttu-id="1d482-172">Die restlichen Optionen weisen passende Standardeinstellungen auf, die nicht geändert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="1d482-172">The rest of the options have reasonable defaults, and there's no need to change any of them.</span></span> <span data-ttu-id="1d482-173">Bei Interesse können Sie sich die anderen Registerkarten genauer ansehen.</span><span class="sxs-lookup"><span data-stu-id="1d482-173">You can explore the other tabs if you like.</span></span> <span data-ttu-id="1d482-174">Neben den einzelnen Optionen befindet sich jeweils ein `(i)`-Symbol, über das Sie eine Erläuterung der jeweiligen Option anzeigen können.</span><span class="sxs-lookup"><span data-stu-id="1d482-174">The individual options have an `(i)` icon next to them that will show a help bubble to explain the option.</span></span> <span data-ttu-id="1d482-175">Dies ist eine gute Möglichkeit, nähere Informationen über die verschiedenen Optionen zu erhalten, die Sie zum Konfigurieren der VM verwenden können.</span><span class="sxs-lookup"><span data-stu-id="1d482-175">This is a great way to learn about the various options you can use to configure the VM.</span></span>

1. <span data-ttu-id="1d482-176">Klicken Sie im unteren Bereich auf die Schaltfläche **Überprüfen und erstellen**.</span><span class="sxs-lookup"><span data-stu-id="1d482-176">Click the **Review + create** button at the bottom of the panel.</span></span>

1. <span data-ttu-id="1d482-177">Das System überprüft Ihre Optionen und zeigt Details zur Erstellung der VM an.</span><span class="sxs-lookup"><span data-stu-id="1d482-177">The system will validate your options and give you details about the VM being created.</span></span>

1. <span data-ttu-id="1d482-178">Klicken Sie auf **Erstellen**, um die VM zu erstellen und bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="1d482-178">Click **Create** to create and deploy the VM.</span></span> <span data-ttu-id="1d482-179">Auf dem Azure-Dashboard wird die VM angezeigt, die aktuell bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="1d482-179">The Azure dashboard will show the VM that's being deployed.</span></span> <span data-ttu-id="1d482-180">Dieser Vorgang kann einige Minuten dauern.</span><span class="sxs-lookup"><span data-stu-id="1d482-180">This may take several minutes.</span></span>

<span data-ttu-id="1d482-181">Währenddessen erfahren Sie in der nächsten Einheit, wozu Sie diese VM verwenden können.</span><span class="sxs-lookup"><span data-stu-id="1d482-181">While that's deploying, let's look at what we can do with this VM.</span></span>