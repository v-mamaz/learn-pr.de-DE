<span data-ttu-id="1357f-101">Sollten Sie verstehen, was mit Verwaltung geheimer Schlüssel Konfiguration von einer Anwendung auftreten können, suchen Sie nicht weiter als die Geschichte von Steve der leitende Entwickler.</span><span class="sxs-lookup"><span data-stu-id="1357f-101">If you want to understand what can go wrong with managing an application's configuration secrets, look no further than the story of Steve the senior developer.</span></span>

<span data-ttu-id="1357f-102">Steve war in seinem Auftrag in einem Unternehmen der pet Food-Übermittlung für einige Wochen.</span><span class="sxs-lookup"><span data-stu-id="1357f-102">Steve had been in his job at a pet food delivery company for a few weeks.</span></span> <span data-ttu-id="1357f-103">Er wurde die Details des Unternehmens-Web-App untersuchen &mdash; bestellen eine .NET Core-Webanwendung, die Azure SQL-Datenbank zum Speichern von verwendet, Informationen und Drittanbieter-APIs für die Kreditkarte, Abrechnung und Zuordnen von Kundenadressen &mdash; wenn er die Verbindungszeichenfolge für die Auftragsdatenbank wird versehentlich in einem öffentlichen Forum eingefügt.</span><span class="sxs-lookup"><span data-stu-id="1357f-103">He was exploring the details of the company's web app &mdash; a .NET Core web application that used an Azure SQL database for storing order information and third-party APIs for credit card billing and mapping customer addresses &mdash; when he accidentally pasted the connection string for the orders database into a public forum.</span></span>

<span data-ttu-id="1357f-104">Tage später bemerkt berücksichtigt, dass das Unternehmen viele pet Food bereit war, die niemand bezahlt haben.</span><span class="sxs-lookup"><span data-stu-id="1357f-104">Days later, accounting noticed that the company was delivering a lot of pet food that nobody had paid for.</span></span> <span data-ttu-id="1357f-105">Jemand hatte verwendet die Verbindungszeichenfolge für den Datenbankzugriff, das Schema Reverse Engineering und Aufträge ohne Umweg über die Website platziert.</span><span class="sxs-lookup"><span data-stu-id="1357f-105">Someone had used the connection string to access the database, reverse-engineered the schema, and placed orders without going through the website.</span></span>

<span data-ttu-id="1357f-106">Nach der Realisierung seine Fehler, geändert Steve hurriedly das Datenbankkennwort zum Sperren des Angreifer, unterbrechen die Website.</span><span class="sxs-lookup"><span data-stu-id="1357f-106">After realizing his mistake, Steve hurriedly changed the database password to lock out the attacker, breaking the website.</span></span> <span data-ttu-id="1357f-107">Er direkt bei der Anwendungsserver angemeldet sind und die app-Konfiguration, anstatt die erneute Bereitstellung geändert werden, aber der Server wurde nicht erfolgreichen Anforderungen weiterhin angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1357f-107">He logged directly into the application server and changed the app configuration instead of redeploying, but the server was still showing failed requests.</span></span>

<span data-ttu-id="1357f-108">Steve vergessen hat, dass mehrere Instanzen der app auf verschiedenen Servern ausgeführt, und er musste nur die Konfiguration für einen geändert.</span><span class="sxs-lookup"><span data-stu-id="1357f-108">Steve had forgotten that multiple instances of the app ran on different servers, and he had only changed the configuration for one.</span></span> <span data-ttu-id="1357f-109">Eine vollständige erneute Bereitstellung war erforderlich, eine andere 30 Minuten Ausfallzeit verursachen.</span><span class="sxs-lookup"><span data-stu-id="1357f-109">A full redeployment was needed, causing another 30 minutes of downtime.</span></span>

---

<span data-ttu-id="1357f-110">Verlust einer datenbankverbindung kann "string", "API-Schlüssel oder das Kennwort schwerwiegenden.</span><span class="sxs-lookup"><span data-stu-id="1357f-110">Leaking a database connection string, API key or service password can be catastrophic.</span></span> <span data-ttu-id="1357f-111">Gestohlen oder gelöschten Daten, finanziellen Schaden, Ausfallzeiten der Anwendung und irreparablen Schäden an geschäftlichen Ressourcen und die Zuverlässigkeit der sind alle möglichen Ergebnisse.</span><span class="sxs-lookup"><span data-stu-id="1357f-111">Stolen or deleted data, financial harm, application downtime and irreparable damage to business assets and reputation are all potential results.</span></span> <span data-ttu-id="1357f-112">Leider müssen geheime Werte häufig gleichzeitig an mehreren Orten bereitgestellt und ungünstigen Zeitpunkten geändert werden.</span><span class="sxs-lookup"><span data-stu-id="1357f-112">Unfortunately, secret values often need to be deployed in multiple places simultaneously and changed at inopportune times.</span></span> <span data-ttu-id="1357f-113">Und Sie sie speichern *an einer beliebigen Stelle!*</span><span class="sxs-lookup"><span data-stu-id="1357f-113">And you have to store them *somewhere!*</span></span> <span data-ttu-id="1357f-114">Sehen wir uns an, wie wir all dies sicherer machen können.</span><span class="sxs-lookup"><span data-stu-id="1357f-114">Let's see how we can make all of this secure.</span></span>

## <a name="key-vault"></a><span data-ttu-id="1357f-115">Key Vault</span><span class="sxs-lookup"><span data-stu-id="1357f-115">Key Vault</span></span>

<span data-ttu-id="1357f-116">Key Vault ist ein *geheimnisspeicher*: eine zentrale Cloud-Dienst zum Speichern von anwendungsgeheimnissen.</span><span class="sxs-lookup"><span data-stu-id="1357f-116">Key Vault is a *secret store*: a centralized cloud service for storing application secrets.</span></span> <span data-ttu-id="1357f-117">Key Vault hilft zu verhindern, dass die oben genannten Szenarien von geheime Schlüssel für Anwendungen in einem zentralen Ort speichern und Bereitstellen von sicherem Zugriff, Berechtigungen-Steuerelement, und die benutzerzugriffsprotokollierung.</span><span class="sxs-lookup"><span data-stu-id="1357f-117">Key Vault helps prevent the above scenarios by keeping application secrets in a single central location and providing secure access, permissions control, and access logging.</span></span>

<span data-ttu-id="1357f-118">Ein einzelnen Tresor ist eine Azure-Ressource mit eigenen Konfigurations- und Sicherheitsinformationen Richtlinie, die Sie mit der Azure standard-Management-Tools wie Azure-Portal oder die Befehlszeilenschnittstelle erstellen können.</span><span class="sxs-lookup"><span data-stu-id="1357f-118">An individual vault is an Azure resource with its own configuration and security policy that you can create with any of the standard Azure management tools like the Azure portal or the CLI.</span></span> <span data-ttu-id="1357f-119">Verwaltung von Geheimnissen Zugriff und Vault erfolgt über eine REST-API.</span><span class="sxs-lookup"><span data-stu-id="1357f-119">Secret access and vault management is accomplished via a REST API.</span></span> <span data-ttu-id="1357f-120">Jedem Tresor verfügt über eine eindeutige URL, unter dessen-API gehostet wird.</span><span class="sxs-lookup"><span data-stu-id="1357f-120">Every vault has a unique URL where its API is hosted.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1357f-121">**Key Vault dient zum Speichern von geheimen Konfigurationsinformationen für Server-Anwendungen.**</span><span class="sxs-lookup"><span data-stu-id="1357f-121">**Key Vault is designed to store configuration secrets for server applications.**</span></span> <span data-ttu-id="1357f-122">Es dient nicht zum Speichern von Daten, die zu Ihrer app-Benutzer gehören, und es sollte nicht in der clientseitige Teil einer app verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1357f-122">It's not intended for storing data belonging to your app's users, and it shouldn't be used in the client-side part of an app.</span></span> <span data-ttu-id="1357f-123">Dies wirkt sich die Leistungsmerkmale, die API und die Kosten Modell.</span><span class="sxs-lookup"><span data-stu-id="1357f-123">This is reflected in its performance characteristics, API and cost model.</span></span>
>
> <span data-ttu-id="1357f-124">Benutzerdaten sollte an anderer Stelle gespeicherten, z. B. Azure SQL-Datenbank mit Transparent Data Encryption, oder ein Speicherkonto mit Storage Service Encryption.</span><span class="sxs-lookup"><span data-stu-id="1357f-124">User data should be stored elsewhere, such as in an Azure SQL database with Transparent Data Encryption, or a storage account with Storage Service Encryption.</span></span> <span data-ttu-id="1357f-125">Geheimnisse, die von Ihrer Anwendung verwendet werden, um diesen Datenspeicher zugreifen, können in Key Vault gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="1357f-125">Secrets used by your application to access those data stores can be kept in Key Vault.</span></span>

## <a name="what-is-a-secret-in-key-vault"></a><span data-ttu-id="1357f-126">Was ist ein Geheimnis in Key Vault?</span><span class="sxs-lookup"><span data-stu-id="1357f-126">What is a secret in Key Vault?</span></span>

<span data-ttu-id="1357f-127">In Key Vault ist ein Geheimnis ein Name / Wert-Paar von Zeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="1357f-127">In Key Vault, a secret is a name-value pair of strings.</span></span> <span data-ttu-id="1357f-128">Geheimnisnamen muss 1 – 127 Zeichen lang sein, darf nur alphanumerische Zeichen und Bindestriche enthalten und in einem Tresor muss eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="1357f-128">Secret names must be 1-127 characters long, contain only alphanumerics and dashes, and must be unique within a vault.</span></span> <span data-ttu-id="1357f-129">Ein geheimer Wert kann UTF-8-Zeichenfolge, bis zu 25KB groß sein.</span><span class="sxs-lookup"><span data-stu-id="1357f-129">A secret value can be any UTF-8 string up to 25KB in size.</span></span>

> [!TIP]
> <span data-ttu-id="1357f-130">Geheimnisnamen nicht besonders geheimen selbst berücksichtigt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="1357f-130">Secret names don't need to be considered especially secret themselves.</span></span> <span data-ttu-id="1357f-131">Sie können diese in Ihrer app Konfiguration speichern, wenn Ihre Implementierung für sie aufruft.</span><span class="sxs-lookup"><span data-stu-id="1357f-131">You can store them in your app's configuration if your implementation calls for it.</span></span> <span data-ttu-id="1357f-132">Dasselbe gilt für tresornamen und zu den URLs zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="1357f-132">The same is true of vault names and URLs.</span></span>

> [!NOTE]
> <span data-ttu-id="1357f-133">Key Vault unterstützt zwei weitere Arten von geheimen Schlüsseln über Zeichenfolgen &mdash; *Schlüssel* und *Zertifikate* &mdash; und bietet nützliche Funktionen, die spezifisch für ihre Anwendungsfälle.</span><span class="sxs-lookup"><span data-stu-id="1357f-133">Key Vault supports two additional kinds of secrets beyond strings &mdash; *keys* and *certificates* &mdash; and provides useful functionality specific to their use cases.</span></span> <span data-ttu-id="1357f-134">Diese Funktionen und konzentriert sich auf die geheimen wie Kennwörter und Verbindungszeichenfolgen werden von der dieses Modul nicht behandelt.</span><span class="sxs-lookup"><span data-stu-id="1357f-134">This module does not cover these features and concentrates on secret strings like passwords and connection strings.</span></span>
